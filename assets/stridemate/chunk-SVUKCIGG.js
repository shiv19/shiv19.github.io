import{$ as I,$a as f1,$b as W1,Aa as L,Ab as D1,Ba as O,Bb as Q,Ca as J,Cb as L2,Da as o1,Ea as t1,Fa as _,Ga as A,Ha as p1,Ia as R,Ja as d1,Ka as m1,L as e1,La as h,Ma as w,O as V,Pb as G,Q as H,Qa as $,R as l1,Ra as x1,Sa as u1,Sb as M,T as c1,Ta as M1,Tb as E1,U as x,Ua as z1,Ub as R1,V as u,Va as b,Vb as $1,Y as y,Yb as U1,Z as r1,Zb as N1,_a as k1,_b as K1,ab as B1,ac as Q1,ba as c,bb as U,bc as G1,ca as Y,cc as X1,da as P,dc as Y1,ea as m,eb as C1,ec as Z1,fa as p,fc as J1,ga as Z,gb as N,gc as o2,ha as v1,hb as L1,hc as t2,ia as z,ib as H1,ic as a2,ja as T,jb as q,jc as i2,ka as S,kb as V1,kc as s2,la as j,lb as A1,lc as n2,ma as n,mb as y1,mc as e2,na as l,nb as S1,nc as l2,oa as C,ob as j1,oc as X,pa as F,pb as O1,qa as D,qb as _1,ra as B,rb as K,sa as g,sb as b1,ta as v,tb as T1,ua as g1,ub as q1,va as h1,vb as W,wa as w1,xa as E,xb as I1,ya as r,yb as P1,za as f,zb as F1}from"./chunk-5P3YW4VO.js";import"./chunk-LQIEJ42F.js";import"./chunk-3LBDOKJT.js";import"./chunk-IUY2474Y.js";import"./chunk-UXRUJSTR.js";import"./chunk-G3CV3VGG.js";import"./chunk-6ELOQLIR.js";import"./chunk-45MY3PPL.js";import"./chunk-DC3ROQRI.js";import"./chunk-4U6PRYVA.js";import"./chunk-GHS4QXHZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as C2}from"./chunk-IBA7VTSM.js";var _2=C2(L2(),1);var a1,H2=function(){if(typeof window>"u")return new Map;if(!a1){var o=window;o.Ionicons=o.Ionicons||{},a1=o.Ionicons.map=o.Ionicons.map||new Map}return a1},i1=function(o){Object.keys(o).forEach(function(i){c2(i,o[i]);var a=i.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();i!==a&&c2(a,o[i])})},c2=function(o,i){var a=H2(),t=a.get(o);t===void 0?a.set(o,i):t!==i&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(o,'". Ensure that multiple icons are not mapped to the same icon name.'))};var r2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>";var v2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>";var g2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 80a48.05 48.05 0 00-48-48H144a48.05 48.05 0 00-48 48v352a48.05 48.05 0 0048 48h224a48.05 48.05 0 0048-48zM168 432a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm88 160a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm112 136a24 24 0 01-48 0v-80a24 24 0 0148 0zm-24-136a24 24 0 1124-24 24 24 0 01-24 24zm19.31-100.69A16 16 0 01352 176H160a16 16 0 01-16-16V96a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-4.69 11.31z'/></svg>",h2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='112' y='48' width='288' height='416' rx='32' ry='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160.01 112H352v64H160.01z' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='168' cy='248' r='24'/><circle cx='256' cy='248' r='24'/><circle cx='344' cy='248' r='24'/><circle cx='168' cy='328' r='24'/><circle cx='256' cy='328' r='24'/><circle cx='168' cy='408' r='24'/><circle cx='256' cy='408' r='24'/><rect x='320' y='304' width='48' height='128' rx='24' ry='24'/></svg>";var w2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M136 104l120 104 120-104M136 408l120-104 120 104' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var p2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";var d2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M277.42 247a24.68 24.68 0 00-4.08-5.47L255 223.44a21.63 21.63 0 00-6.56-4.57 20.93 20.93 0 00-23.28 4.27c-6.36 6.26-18 17.68-39 38.43C146 301.3 71.43 367.89 37.71 396.29a16 16 0 00-1.09 23.54l39 39.43a16.13 16.13 0 0023.67-.89c29.24-34.37 96.3-109 136-148.23 20.39-20.06 31.82-31.58 38.29-37.94a21.76 21.76 0 003.84-25.2zM478.43 201l-34.31-34a5.44 5.44 0 00-4-1.59 5.59 5.59 0 00-4 1.59h0a11.41 11.41 0 01-9.55 3.27c-4.48-.49-9.25-1.88-12.33-4.86-7-6.86 1.09-20.36-5.07-29a242.88 242.88 0 00-23.08-26.72c-7.06-7-34.81-33.47-81.55-52.53a123.79 123.79 0 00-47-9.24c-26.35 0-46.61 11.76-54 18.51-5.88 5.32-12 13.77-12 13.77a91.29 91.29 0 0110.81-3.2 79.53 79.53 0 0123.28-1.49C241.19 76.8 259.94 84.1 270 92c16.21 13 23.18 30.39 24.27 52.83.8 16.69-15.23 37.76-30.44 54.94a7.85 7.85 0 00.4 10.83l21.24 21.23a8 8 0 0011.14.1c13.93-13.51 31.09-28.47 40.82-34.46s17.58-7.68 21.35-8.09a35.71 35.71 0 0121.3 4.62 13.65 13.65 0 013.08 2.38c6.46 6.56 6.07 17.28-.5 23.74l-2 1.89a5.5 5.5 0 000 7.84l34.31 34a5.5 5.5 0 004 1.58 5.65 5.65 0 004-1.58L478.43 209a5.82 5.82 0 000-8z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var m2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>";var x2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>";var u2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 112a80 80 0 00-160 0v96' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var A2=o=>({"grid-template-columns":o}),y2=o=>({"clear-button":o});function S2(o,i){if(o&1){let a=B();n(0,"button",4),g("mousedown",function(){let s=x(a).$implicit,e=v(2);return u(s==="C"?e.clearTapped():e.inputTapped(s))}),r(1),l()}if(o&2){let a=i.$implicit;p("ngClass",A(2,y2,a==="C")),c(),L(" ",a," ")}}function j2(o,i){if(o&1&&(n(0,"div",2),m(1,S2,2,4,"button",3),l()),o&2){let a=i.$implicit;c(),p("ngForOf",a)}}var M2=(()=>{let i=class i{constructor(){this.clear=new y,this.inputChange=new y,this.buttonRows=[]}clearTapped(){this.clear.emit()}inputTapped(t){this.inputChange.emit(t)}getGridTemplateColumns(){var t;return`repeat(${((t=this.buttonRows[0])==null?void 0:t.length)||1}, 1fr)`}touchStart(t,s){t.preventDefault(),console.log("touchStart",t,s)}touchEnd(t,s){t.preventDefault(),console.log("touchEnd",t,s)}touchMove(t,s){t.preventDefault(),console.log("touchMove",t,s)}touchCancel(t,s){t.preventDefault(),console.log("touchCancel",t,s)}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=H({type:i,selectors:[["app-calculator-input"]],inputs:{buttonRows:"buttonRows"},outputs:{clear:"clear",inputChange:"inputChange"},standalone:!0,features:[_],decls:2,vars:4,consts:[[1,"grid","gap-[6px]",3,"ngStyle"],["class","contents",4,"ngFor","ngForOf"],[1,"contents"],[3,"ngClass","mousedown",4,"ngFor","ngForOf"],[3,"mousedown","ngClass"]],template:function(s,e){s&1&&(n(0,"div",0),m(1,j2,2,1,"div",1),l()),s&2&&(p("ngStyle",A(2,A2,e.getGridTemplateColumns())),c(),p("ngForOf",e.buttonRows))},dependencies:[b,$,x1,M1],styles:["button[_ngcontent-%COMP%]{height:2.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(212 96 60 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(217 91 50 / var(--tw-bg-opacity, 1))}}.clear-button[_ngcontent-%COMP%]{height:2.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.clear-button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(360 94 70 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.clear-button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.clear-button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(360 84 40 / var(--tw-bg-opacity, 1))}}"]});let o=i;return o})();var z2=(()=>{let i=class i{constructor(t,s){this.el=t,this._zone=s,this.updateChange=new y(!0),this.chartInstance=new y}ngOnChanges(t){var e;let s=(e=t.update)==null?void 0:e.currentValue;(t.options||s)&&(this.wrappedUpdateOrCreateChart(),s&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){var t;(t=this.chart)!=null&&t.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}};i.\u0275fac=function(s){return new(s||i)(Y(I),Y(r1))},i.\u0275cmp=H({type:i,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[c1],decls:0,vars:0,template:function(s,e){},encapsulation:2});let o=i;return o})(),k2=(()=>{let i=class i{};i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=l1({type:i}),i.\u0275inj=e1({});let o=i;return o})();var f2=(()=>{let i=class i{constructor(){this.modalCtrl=V(W),this.toastCtrl=V(I1),this.store=V(G),this.heatAdjustment=this.store.selectSignal(X),this.temperature="",this.dewPoint="",this.temperatureType="c",this.applyDisabled=P(!0)}fToC(t){return((t-32)*5/9).toFixed(1).replace(/\.0$/,"")}cToF(t){return(t*9/5+32).toFixed(1).replace(/\.0$/,"")}ngAfterViewInit(){this.temperature=this.heatAdjustment().temperature,this.dewPoint=this.heatAdjustment().dewPoint,this.temperatureType=this.heatAdjustment().temperatureType,this.checkInput()}dismiss(){this.modalCtrl.dismiss()}applyAdjustment(){this.modalCtrl.dismiss({temperatureType:this.temperatureType,temperature:this.temperature,dewPoint:this.dewPoint})}onClearAdjustment(){this.modalCtrl.dismiss({temperatureType:"c",temperature:"",dewPoint:""})}temperatureTypeChanged(t){this.temperatureType=t.detail.value,this.temperatureType==="f"?(this.temperature=this.cToF(Number(this.temperature)),this.dewPoint=this.cToF(Number(this.dewPoint))):(this.temperature=this.fToC(Number(this.temperature)),this.dewPoint=this.fToC(Number(this.dewPoint)))}async checkInput(){if(!Number(this.temperature)||!Number(this.dewPoint))return;let t=this.temperatureType==="f"?Number(this.temperature):Number(this.temperature)*9/5+32,s=this.temperatureType==="f"?Number(this.dewPoint):Number(this.dewPoint)*9/5+32,e=t+s>180;this.applyDisabled.set(e),e&&(await this.toastCtrl.create({message:"Heat Index is too high, running not recommended",duration:5e3,color:"danger",position:"top"})).present()}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=H({type:i,selectors:[["app-heat-adjustment-modal"]],standalone:!0,features:[_],decls:22,vars:4,consts:[["slot","end"],[3,"click"],[1,"ion-padding"],[1,"flex","flex-col","gap-4"],["href","https://maximumperformancerunning.blogspot.com/2013/07/temperature-dew-point.html","target","_blank",1,"text-blue-500","dark:text-blue-200","underline","underline-offset-2"],["color","primary","mode","ios",3,"ionChange","value"],["value","c"],["value","f"],["required","","mode","md","label","Temperature","label-placement","floating","inputmode","decimal","fill","solid",3,"ngModelChange","ionInput","ngModel"],["required","","mode","md","label","Dew Point","label-placement","floating","inputmode","decimal","fill","solid",3,"ngModelChange","ionInput","ngModel"],["fill","clear",1,"app-button","w-full","rounded-lg",3,"click","disabled"],[1,"text-blue-500","dark:text-blue-200","underline","underline-offset-2","text-center",3,"click"]],template:function(s,e){s&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r(3,"Apply Heat Adjustment"),l(),n(4,"ion-buttons",0)(5,"ion-button",1),g("click",function(){return e.dismiss()}),r(6,"Close"),l()()()(),n(7,"ion-content",2)(8,"div",3)(9,"a",4),r(10,"How does this work?"),l(),n(11,"ion-segment",5),g("ionChange",function(k){return e.temperatureTypeChanged(k)}),n(12,"ion-segment-button",6),r(13," Celcius "),l(),n(14,"ion-segment-button",7),r(15," Faranheit "),l()(),n(16,"ion-input",8),t1("ngModelChange",function(k){return o1(e.temperature,k)||(e.temperature=k),k}),g("ionInput",function(){return e.checkInput()}),l(),n(17,"ion-input",9),t1("ngModelChange",function(k){return o1(e.dewPoint,k)||(e.dewPoint=k),k}),g("ionInput",function(){return e.checkInput()}),l(),n(18,"ion-button",10),g("click",function(){return e.applyAdjustment()}),r(19,"Apply"),l(),n(20,"p",11),g("click",function(){return e.onClearAdjustment()}),r(21,"Clear Adjustment"),l()()()),s&2&&(c(11),p("value",e.temperatureType),c(5),J("ngModel",e.temperature),c(),J("ngModel",e.dewPoint),c(),p("disabled",e.applyDisabled()))},dependencies:[b,Q,K,U,k1,B1,f1,q,y1,T1,q1,L1,N,F1],encapsulation:2});let o=i;return o})();var b2=(o,i)=>i.id,T2=(o,i,a,t,s,e)=>({focusId:o,paceType:i,distance:a,distanceType:t,time:s,pace:e}),q2=(o,i,a,t,s,e,d,k)=>({inputType:o,distance:i,pace:a,time:t,distanceType:s,paceType:e,lockType:d,isInputCollapsed:k}),I2=(o,i)=>({splitsChartReady:o,splitsChartOptions:i}),P2=o=>({paceType:o}),n1=(o,i,a,t,s)=>({"border-transparent":o,"border-blue-300 dark:border-blue-500":i,"border-2":a,"border-0":t,"bg-blue-100 dark:bg-blue-900":s}),B2=o=>({"text-blue-500 dark:text-blue-300":o});function F2(o,i){o&1&&(F(0),n(1,"div",28),C(2,"ion-spinner",29),l(),D())}function D2(o,i){if(o&1&&(F(0),C(1,"highcharts-chart",30),D()),o&2){let a=v().ngIf,t=v(2);c(),p("Highcharts",t.Highcharts)("options",a.splitsChartOptions)("callbackFunction",t.chartCallback)}}function E2(o,i){if(o&1&&(F(0),m(1,F2,3,0,"ng-container",22)(2,D2,2,3,"ng-container",22),D()),o&2){let a=i.ngIf;c(),p("ngIf",!a.splitsChartReady),c(),p("ngIf",a.splitsChartReady&&a.splitsChartOptions)}}function R2(o,i){if(o&1){let a=B();n(0,"div",3)(1,"ion-grid")(2,"ion-row")(3,"ion-col"),m(4,E2,3,2,"ng-container",22),h(5,"async"),h(6,"async"),l()(),n(7,"ion-row")(8,"ion-col",23)(9,"ion-range",24),h(10,"async"),g("ionChange",function(s){x(a);let e=v();return u(e.handleSplitsSliderValueChange(s))}),n(11,"ion-label",25),r(12,"Negative"),l(),n(13,"ion-label",26),r(14,"Positive"),l()()()(),n(15,"ion-row")(16,"ion-col")(17,"p",27),r(18,"Lap"),l()(),n(19,"ion-col")(20,"p",27),r(21,"Distance"),l()(),n(22,"ion-col")(23,"p",27),r(24,"Pace"),l()(),n(25,"ion-col")(26,"p",27),r(27,"Time"),l()(),n(28,"ion-col")(29,"p",27),r(30,"Cumulative"),l()()()()()}if(o&2){let a=v();c(4),p("ngIf",p1(13,I2,w(5,7,a.splitsChartReady$),w(6,9,a.splitsChartOptions$))),c(5),p("ticks",!0)("snaps",!0)("min",-.2)("max",.2)("step",.05)("value",w(10,11,a.splitsSliderValue$))}}function $2(o,i){if(o&1&&(n(0,"div",9)(1,"p",31),r(2," *Pace adjusted for heat at "),n(3,"span"),r(4),l()()()),o&2){let a=v();c(4),O(" ",a.heatAdjustment().temperature+"\xB0"+a.heatAdjustment().temperatureType.toUpperCase()," & ",a.heatAdjustment().dewPoint+"\xB0"+a.heatAdjustment().temperatureType.toUpperCase()," dewpoint ")}}function U2(o,i){if(o&1){let a=B();n(0,"div",32)(1,"div")(2,"p",33),g("click",function(){x(a);let s=v().$implicit,e=v();return u(e.setDistance(s.distanceInMeters))}),r(3),l()(),n(4,"div")(5,"p",34),r(6),l()(),n(7,"div")(8,"p",34),r(9),l()(),n(10,"ion-button",35),g("click",function(){x(a);let s=v().$implicit,e=v();return u(e.setFocus(s.id))}),C(11,"ion-icon",36),l()()}if(o&2){let a=i,t=v().$implicit;c(3),L(" ",t.type," "),c(3),f(t.time),c(3),O("",t.pace," ","/"+(a.paceType==="m400"?"400m":a.paceType),"")}}function N2(o,i){if(o&1&&(n(0,"div",10),m(1,U2,12,4,"div",32),h(2,"async"),l()),o&2){let a,t=v();c(),z((a=A(3,P2,w(2,1,t.paceType$)))?1:-1,a)}}function K2(o,i){if(o&1&&(n(0,"ion-row",37)(1,"ion-col")(2,"p",38),r(3),l()(),n(4,"ion-col")(5,"p",39),r(6),l()(),n(7,"ion-col")(8,"p",39),r(9),l()(),n(10,"ion-col")(11,"p",39),r(12),l()(),n(13,"ion-col")(14,"p",39),r(15),l()()()),o&2){let a=i.$implicit;c(3),f(a.split),c(3),f(a.splitDistance),c(3),f(a.splitPace),c(3),f(a.splitTime),c(3),f(a.totalDistance)}}function W2(o,i){o&1&&(n(0,"ion-grid"),S(1,K2,16,5,"ion-row",37,T),l()),o&2&&(c(),j(i))}function Q2(o,i){if(o&1&&(m(0,W2,3,0,"ion-grid"),h(1,"async")),o&2){let a,t=v();z((a=w(1,1,t.splits$))?0:-1,a)}}function G2(o,i){if(o&1&&(n(0,"ion-label")(1,"h2"),r(2),l(),n(3,"h1"),r(4),l(),n(5,"h2"),r(6),l()()),o&2){let a=v(),t=v(2);c(2),f(a[t.focusId].type),c(2),f(a[t.focusId].time),c(2),O("",a[t.focusId].pace,"","/"+(t.paceType==="m400"?"400m":t.paceType),"")}}function X2(o,i){if(o&1&&(n(0,"ion-label")(1,"h2"),r(2),l(),n(3,"h1"),r(4),l(),n(5,"h2"),r(6),l()()),o&2){let a=v(3);c(2),O("",a.distance,"",a.distanceType,""),c(2),f(a.time),c(2),O("",a.pace,"","/"+(a.paceType==="m400"?"400m":a.paceType),"")}}function Y2(o,i){o&1&&(n(0,"button",43),r(1," Splits Tools "),l())}function Z2(o,i){if(o&1){let a=B();n(0,"ion-item",46),g("click",function(){let s=x(a).$implicit;v(2);let e=E(8),d=v(3);return e.dismiss(),u(d.useSplitsTool(s.command))}),n(1,"ion-label"),r(2),l()()}if(o&2){let a=i.$implicit;c(2),f(a.label)}}function J2(o,i){if(o&1&&(n(0,"ion-list",40),S(1,Z2,3,1,"ion-item",45,T),l()),o&2){let a=v(4);c(),j(a.splitsToolsMap)}}function o0(o,i){if(o&1){let a=B();n(0,"ion-item",40)(1,"ion-button",41),g("click",function(){x(a);let s=v(3);return u(s.setFocus(null))}),C(2,"ion-icon",42),l(),m(3,G2,7,4,"ion-label")(4,X2,7,5,"ion-label")(5,Y2,2,0,"button",43),h(6,"async"),n(7,"ion-popover",44,0),m(9,J2,3,0,"ng-template"),l()()}if(o&2){let a=v(2),t=v();c(3),z(a.focusId!==-1&&a.focusId!==null?3:4),c(2),z(w(6,2,t.isInputCollapsed$)?5:-1)}}function t0(o,i){if(o&1&&(m(0,o0,10,4,"ion-item",40),h(1,"async")),o&2){let a,t=v(2);z((a=w(1,1,t.results$))?0:-1,a)}}function a0(o,i){o&1&&m(0,t0,2,3),o&2&&z(i.focusId!==null?0:-1)}function i0(o,i){if(o&1){let a=B();n(0,"ion-button",56),g("click",function(s){x(a);let e=v(2);return u(e.onLockTypeChange(s,"distance"))}),C(1,"ion-icon",57),l()}if(o&2){let a=v();c(),p("name",a.lockType==="distance"?"lock":"lock-open")}}function s0(o,i){if(o&1){let a=B();n(0,"ion-button",56),g("click",function(s){x(a);let e=v(2);return u(e.onLockTypeChange(s,"time"))}),C(1,"ion-icon",57),l()}if(o&2){let a=v();c(),p("name",a.lockType==="time"?"lock":"lock-open")}}function n0(o,i){if(o&1){let a=B();n(0,"ion-button",56),g("click",function(s){x(a);let e=v(2);return u(e.onLockTypeChange(s,"pace"))}),C(1,"ion-icon",57),l()}if(o&2){let a=v();c(),p("name",a.lockType==="pace"?"lock":"lock-open")}}function e0(o,i){if(o&1){let a=B();n(0,"div",47)(1,"div",48),g("click",function(){x(a);let s=v();return u(s.onInputTypeChange("distance"))}),n(2,"ion-label",49),r(3),l(),n(4,"div",50)(5,"p",51),r(6),l(),n(7,"p",52),r(8),l()(),m(9,i0,2,1,"ion-button",53),l(),n(10,"div",48),g("click",function(){x(a);let s=v();return u(s.onInputTypeChange("time"))}),n(11,"ion-label",49),r(12),l(),n(13,"div",50)(14,"p",54),r(15),l()(),m(16,s0,2,1,"ion-button",53),l(),n(17,"div",48),g("click",function(){x(a);let s=v();return u(s.onInputTypeChange("pace"))}),n(18,"ion-label",49),r(19),l(),n(20,"div",50)(21,"p",54),r(22),l(),n(23,"p",55),r(24),l()(),m(25,n0,2,1,"ion-button",53),l()()}if(o&2){let a=i,t=v();Z("hidden",a.isInputCollapsed),c(),p("ngClass",R(18,n1,a.inputType!=="distance",a.inputType==="distance",t.isKeyboardShowing(),!t.isKeyboardShowing(),a.inputType==="distance")),c(2),L(" ",a.inputType==="distance"&&t.isKeyboardShowing()?"Enter ":"","Distance "),c(2),p("ngClass",A(24,B2,t.highlightDistance())),c(),L(" ",a.distance||"0"," "),c(),p("ngClass",A(26,B2,t.highlightDistance())),c(),L(" ",a.distanceType," "),c(),z(t.isKeyboardShowing()?9:-1),c(),p("ngClass",R(28,n1,a.inputType!=="time",a.inputType==="time",t.isKeyboardShowing(),!t.isKeyboardShowing(),a.inputType==="time")),c(2),L(" ",a.inputType==="time"&&t.isKeyboardShowing()?"Enter ":"","Time "),c(3),f(a.time||"00:00:00"),c(),z(t.isKeyboardShowing()?16:-1),c(),p("ngClass",R(34,n1,a.inputType!=="pace",a.inputType==="pace",t.isKeyboardShowing(),!t.isKeyboardShowing(),a.inputType==="pace")),c(2),L(" ",a.inputType==="pace"&&t.isKeyboardShowing()?"Enter ":"","Pace "),c(3),f(a.pace||"00:00"),c(2),f("/"+(a.paceType==="m400"?"400m":a.paceType)),c(),z(t.isKeyboardShowing()?25:-1)}}function l0(o,i){if(o&1){let a=B();n(0,"ion-col",58)(1,"app-calculator-input",68),g("inputChange",function(s){x(a);let e=v(2);return u(e.onAdjustmentChange(s))}),l()()}o&2&&(c(),p("buttonRows",i))}function c0(o,i){if(o&1){let a=B();n(0,"ion-item",46),g("click",function(){let s=x(a).$implicit;v(2);let e=E(12),d=v();return e.dismiss(),u(d.useDistanceTool(s.command))}),n(1,"ion-label"),r(2),l()()}if(o&2){let a=i.$implicit;c(2),f(a.label)}}function r0(o,i){if(o&1&&(n(0,"ion-list",40),S(1,c0,3,1,"ion-item",45,T),l()),o&2){let a=v(2);c(),j(a.distanceToolsMap)}}function v0(o,i){if(o&1){let a=B();n(0,"ion-item",46),g("click",function(){let s=x(a).$implicit;v(2);let e=E(19),d=v();return e.dismiss(),u(d.usePaceTool(s.command))}),n(1,"ion-label"),r(2),l()()}if(o&2){let a=i.$implicit;c(2),f(a.label)}}function g0(o,i){if(o&1&&(n(0,"ion-list",40),S(1,v0,3,1,"ion-item",45,T),l()),o&2){let a=v(2);c(),j(a.paceToolsMap)}}function h0(o,i){if(o&1){let a=B();n(0,"ion-row",14),m(1,l0,2,1,"ion-col",58),h(2,"async"),n(3,"ion-col",59)(4,"app-calculator-input",60),g("clear",function(){x(a);let s=v();return u(s.onClearInput())})("inputChange",function(s){x(a);let e=v();return u(e.onInputChange(s))}),l()(),n(5,"ion-col",61)(6,"div",62)(7,"button",63),r(8," Distance"),C(9,"br"),r(10,"Tools "),l(),n(11,"ion-popover",64,1),m(13,r0,3,0,"ng-template"),l(),n(14,"button",65),r(15," Pace"),C(16,"br"),r(17,"Tools "),l(),n(18,"ion-popover",66,2),m(20,g0,3,0,"ng-template"),l(),n(21,"button",67),g("click",function(){x(a);let s=v();return u(s.viewSplits())}),r(22," View"),C(23,"br"),r(24,"Splits "),l()()()()}if(o&2){let a,t=v();c(),z((a=w(2,2,t.adjustmentButtons$))?1:-1,a),c(3),p("buttonRows",t.inputButtons)}}var Z0=(()=>{let i=class i{constructor(){this.store=V(G),this.modalCtrl=V(W),this.isDarkMode=!1,this.Highcharts=_2,this.chartCallback=function(t){t.update({plotOptions:{series:{point:{events:{click:function(s){}}}}}})},this.paceToolsMap=E1,this.distanceToolsMap=R1,this.splitsToolsMap=$1,this.distance$=this.store.select(K1),this.distanceType$=this.store.select(W1),this.time$=this.store.select(Q1),this.pace$=this.store.select(U1),this.paceType$=this.store.select(N1),this.results$=this.store.select(Z1),this.lockType$=this.store.select(X1),this.inputType$=this.store.select(Y1),this.focusId$=this.store.select(G1),this.adjustmentButtons$=this.store.select(J1),this.splits$=this.store.select(o2),this.splitDistanceBy$=this.store.select(t2),this.isInputCollapsed$=this.store.select(a2),this.splitsChartOptions$=this.store.select(i2),this.splitsChartReady$=this.store.select(s2),this.splitsSliderValue$=this.store.select(n2),this.isKeyboardShowing=this.store.selectSignal(e2),this.overallCalculationMode=this.store.selectSignal(l2),this.heatAdjustment=this.store.selectSignal(X),this.highlightDistance=P(!1),this.inputButtons=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","C"]],i1({arrowForward:v2,chevronCollapseOutline:w2,heart:m2,calculator:g2,calculatorOutline:h2,lockOpenOutline:u2,lockClosed:x2,hammerOutline:d2,arrowBackOutline:r2,chevronForwardOutline:p2,"keyboard-hide":"assets/keyboard_hide.svg","keyboard-show":"assets/keyboard_show.svg",lock:"assets/lock.svg","lock-open":"assets/lock_open.svg"})}ngOnInit(){this.handleColorSchemeChange()}handleColorSchemeChange(){let t=window.matchMedia("(prefers-color-scheme: dark)");this.store.dispatch(M.changeTheme({isDarkMode:t.matches})),t.addEventListener("change",s=>{this.store.dispatch(M.changeTheme({isDarkMode:s.matches}))})}trackById(t,s){return s.id}setFocus(t){var s,e;try{(e=(s=this.ionContent)==null?void 0:s.nativeElement)==null||e.scrollToTop()}catch{}this.store.dispatch(M.setFocus({focusId:t}))}setDistance(t){this.highlightDistance.set(!0),setTimeout(()=>{this.highlightDistance.set(!1)},200),this.store.dispatch(M.setDistance({distanceInMeters:t}))}onLockTypeChange(t,s){this.store.dispatch(M.changeLockType({lockType:s})),t.stopPropagation()}onAdjustmentChange(t){this.store.dispatch(M.adjustmentChanged({adjustment:t}))}onInputTypeChange(t){this.isKeyboardShowing()&&this.store.dispatch(M.changeInputType({inputType:t}))}onInputChange(t){this.store.dispatch(M.inputChanged({input:t}))}onClearInput(){this.store.dispatch(M.clearInput())}useDistanceTool(t){this.store.dispatch(M.useDistanceTool({command:t}))}async usePaceTool(t){if(t==="heatAdjust"){let s=await this.modalCtrl.create({component:f2});await s.present();let{data:e}=await s.onDidDismiss();e&&this.store.dispatch(M.applyHeatAdjustment({payload:{temperature:e.temperature,dewPoint:e.dewPoint,temperatureType:e.temperatureType}}))}else this.store.dispatch(M.usePaceTool({command:t}))}useSplitsTool(t){this.store.dispatch(M.useSplitsTool({command:t}))}viewSplits(){this.store.dispatch(M.setFocus({focusId:-1}))}handleSplitsSliderValueChange(t){this.store.dispatch(M.splitsSliderValueChanged({value:t.detail.value}))}onCalculationModeChange(t){this.store.dispatch(M.setOverallCalculationMode({mode:t.detail.value==="useRacePredictor"?"race":"pace"}))}toggleKeyboard(){this.store.dispatch(M.toggleKeyboard())}};i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=H({type:i,selectors:[["app-calculator"]],viewQuery:function(s,e){if(s&1&&g1(q,5,I),s&2){let d;h1(d=w1())&&(e.ionContent=d.first)}},standalone:!0,features:[_],decls:58,vars:66,consts:[["splitsPopover",""],["distancePopover",""],["pacePopover",""],[1,"sticky","top-0","z-10","mx-auto","max-w-5xl","bg-gray-100","dark:bg-[#121212]"],[1,"mx-auto","max-w-5xl"],[1,"bg-gray-100","p-2","dark:bg-[#121212]"],[1,"sticky","top-2","z-10","grid","grid-cols-4","rounded-lg","bg-white","p-4","py-2","pr-0","text-base","text-[#121212]","dark:bg-[hsl(0,0%,30%)]","dark:text-white"],[1,"font-xs","font-semibold"],[1,"font-xs","text-center","font-semibold"],[1,"col-span-4"],[1,"calculation-card","m-1","rounded-md","p-4","py-1","pr-0"],[1,"mx-auto","max-w-5xl","dark:bg-[#313131]"],[1,"mx-auto","grid","max-w-md","grid-cols-3","rounded-t-md","px-2","pt-2","text-xl","dark:bg-[#313131]",3,"hidden"],[1,"dark:bg-[#313131]"],[1,"ion-align-items-center"],["size","10"],["color","primary","mode","ios",3,"ionChange","value"],["value","useSteadyPace"],["value","useRacePredictor"],["size","2"],["fill","clear","shape","round",1,"mx-auto","flex","w-8","rounded-full","bg-blue-300","text-xs","font-semibold","text-black","dark:bg-blue-500","dark:text-white",3,"click"],["slot","icon-only",1,"text-black","dark:text-white",3,"name"],[4,"ngIf"],["size","10","offset","1",1,"ion-no-margin"],["mode","ios",3,"ionChange","ticks","snaps","min","max","step","value"],["slot","start"],["slot","end"],[1,"text-center","text-xs","font-semibold"],[1,"items-center","justify-center",2,"width","100%","height","300px","display","flex"],["name","crescent",1,"text-center"],[2,"width","100%","height","300px","display","block",3,"Highcharts","options","callbackFunction"],[1,"pt-1","text-xs","font-light"],[1,"grid","grid-cols-4","items-center","text-base"],[1,"cursor-pointer","font-normal","underline","decoration-blue-500","underline-offset-2","active:text-blue-500","dark:decoration-blue-300","dark:active:text-blue-300",3,"click"],[1,"font-normal"],["fill","clear","shape","round",1,"mx-auto","w-8","rounded-full","bg-blue-300","text-xs","font-semibold","text-black","dark:bg-blue-500","dark:text-white",3,"click"],["slot","icon-only","name","arrow-forward"],[1,"splits-row"],[1,"text-center"],[1,"text-center","text-sm"],["mode","md"],["size","large","shape","round","slot","start","fill","clear",1,"app-button","h-10","rounded-full",3,"click"],["slot","icon-only","icon","arrow-back-outline",1,"text-black","dark:text-white"],["id","splits-popover-trigger",1,"app-button","w-1/2","rounded-2xl","p-2","text-center","text-sm"],["trigger","splits-popover-trigger"],["button",""],["button","",3,"click"],[1,"mx-auto","grid","max-w-md","grid-cols-3","rounded-t-md","px-2","pt-2","text-xl","dark:bg-[#313131]"],[1,"flex","cursor-pointer","flex-col","rounded-2xl","pt-2",3,"click","ngClass"],[1,"text-center","text-sm","font-semibold"],[1,"mb-1","flex","flex-row","justify-center"],[1,"text-right","dark:text-white",3,"ngClass"],[1,"pl-2",3,"ngClass"],["mode","md","size","small","fill","clear",1,"mb-2","mt-0","block",2,"--ripple-color","transparent"],[1,"text-right","dark:text-white"],[1,"pl-2"],["mode","md","size","small","fill","clear",1,"mb-2","mt-0","block",2,"--ripple-color","transparent",3,"click"],[1,"text-blue-500",3,"name"],["size","4"],["size","5"],[3,"clear","inputChange","buttonRows"],["size","3",1,"ion-align-self-stretch"],[1,"flex","h-full","flex-col","justify-between"],["id","distance-tools-trigger",1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm"],["trigger","distance-tools-trigger"],["id","pace-tools-trigger",1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm"],["trigger","pace-tools-trigger"],[1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm",3,"click"],[3,"inputChange","buttonRows"]],template:function(s,e){if(s&1&&(n(0,"ion-content"),m(1,R2,31,16,"div",3),h(2,"async"),n(3,"div",4)(4,"div",5),h(5,"async"),n(6,"div",6)(7,"div")(8,"h5",7),r(9,"Distance"),l()(),n(10,"div")(11,"h5",7),r(12,"Time"),l()(),n(13,"div")(14,"h5",7),r(15,"Pace"),l()(),n(16,"div")(17,"h5",8),r(18,"Splits"),l()(),m(19,$2,5,2,"div",9),l(),S(20,N2,3,5,"div",10,b2),h(22,"async"),l(),m(23,Q2,2,3),h(24,"async"),l()(),n(25,"ion-footer")(26,"div",11),m(27,a0,1,1),h(28,"async"),h(29,"async"),h(30,"async"),h(31,"async"),h(32,"async"),h(33,"async"),m(34,e0,26,40,"div",12),h(35,"async"),h(36,"async"),h(37,"async"),h(38,"async"),h(39,"async"),h(40,"async"),h(41,"async"),h(42,"async"),n(43,"ion-grid",13),h(44,"async"),m(45,h0,25,4,"ion-row",14),n(46,"ion-row",14)(47,"ion-col",15)(48,"ion-segment",16),g("ionChange",function(k){return e.onCalculationModeChange(k)}),n(49,"ion-segment-button",17)(50,"ion-label"),r(51,"Use Steady Pace"),l()(),n(52,"ion-segment-button",18)(53,"ion-label"),r(54,"Use Race Predictor"),l()()()(),n(55,"ion-col",19)(56,"ion-button",20),g("click",function(){return e.toggleKeyboard()}),C(57,"ion-icon",21),l()()()()()()),s&2){let d,k;c(),z(w(2,12,e.focusId$)!==null?1:-1),c(3),v1(w(5,14,e.focusId$)!==null?"hidden":""),c(15),z(+e.heatAdjustment().temperature&&+e.heatAdjustment().dewPoint?19:-1),c(),j(w(22,16,e.results$)),c(3),z(w(24,18,e.focusId$)!==null?23:-1),c(4),z((d=d1(50,T2,w(28,20,e.focusId$),w(29,22,e.paceType$),w(30,24,e.distance$),w(31,26,e.distanceType$),w(32,28,e.time$),w(33,30,e.pace$)))?27:-1,d),c(7),z((k=m1(57,q2,w(35,32,e.inputType$),w(36,34,e.distance$),w(37,36,e.pace$),w(38,38,e.time$),w(39,40,e.distanceType$),w(40,42,e.paceType$),w(41,44,e.lockType$),w(42,46,e.isInputCollapsed$)))?34:-1,k),c(9),Z("hidden",w(44,48,e.isInputCollapsed$)),c(2),z(e.isKeyboardShowing()?45:-1),c(3),p("value",e.overallCalculationMode()==="race"?"useRacePredictor":"useSteadyPace"),c(9),p("name",e.isKeyboardShowing()?"keyboard-hide":"keyboard-show")}},dependencies:[Q,K,D1,b1,M2,b,$,u1,z1,U,N,H1,q,V1,A1,P1,S1,j1,O1,_1,C1,k2,z2],styles:["ion-range[_ngcontent-%COMP%]::part(tick){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(tick-active){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(bar){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(bar-active){background:var(--bar-background-active)}.calculation-card[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.calculation-card[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}.splits-row[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.splits-row[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}"]});let o=i;return o})();export{Z0 as CalculatorPage};
