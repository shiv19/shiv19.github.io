import{a as l}from"./chunk-WRNMPWJ4.js";import{a as c}from"./chunk-LF5XB4YN.js";var f=()=>l.get("experimentalCloseWatcher",!1)&&c!==void 0&&"CloseWatcher"in c,B=()=>{document.addEventListener("backbutton",()=>{})},p=()=>{let r=document,s=!1,a=()=>{if(s)return;let n=0,o=[],d=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){o.push({priority:e,handler:t,id:n++})}}});r.dispatchEvent(d);let u=async e=>{try{if(e!=null&&e.handler){let t=e.handler(i);t!=null&&await t}}catch(t){console.error(t)}},i=()=>{if(o.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};o.forEach(t=>{t.priority>=e.priority&&(e=t)}),s=!0,o=o.filter(t=>t.id!==e.id),u(e).then(()=>s=!1)}};i()};if(f()){let n,o=()=>{n==null||n.destroy(),n=new c.CloseWatcher,n.onclose=()=>{a(),o()}};o()}else r.addEventListener("backbutton",a)},E=100,m=99;export{f as a,B as b,p as c,E as d,m as e};
