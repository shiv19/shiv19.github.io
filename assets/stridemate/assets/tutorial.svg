<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 400" width="100%" height="100%">
  <defs>
    <filter id="box-shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.05" flood-color="#0f172a" />
    </filter>
    <filter id="cursor-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="1" dy="3" stdDeviation="3" flood-opacity="0.2" flood-color="#000000" />
    </filter>

    <style>
      :root {
        --font-main: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      }

      text {
        font-family: var(--font-main);
        user-select: none;
      }

      /* Base hiding for animated layers */
      .val, .desc { opacity: 0; animation-duration: 24s; animation-iteration-count: infinite; }

      /* Active states for Pin Buttons */
      .btn-dist { animation: pinDistBtnState 24s infinite; }
      .btn-dist rect { animation: pinDistBtnRectState 24s infinite; transition: all 0.3s; }
      .btn-time { animation: pinTimeBtnState 24s infinite; }
      .btn-time rect { animation: pinTimeBtnRectState 24s infinite; transition: all 0.3s; }
      .btn-pace { animation: pinPaceBtnState 24s infinite; }
      .btn-pace rect { animation: pinPaceBtnRectState 24s infinite; transition: all 0.3s; }

      /* Active states for Box Borders */
      .box-dist rect.border { animation: pinDistBoxState 24s infinite; }
      .box-time rect.border { animation: pinTimeBoxState 24s infinite; }
      .box-pace rect.border { animation: pinPaceBoxState 24s infinite; }

      /* Box Flashes */
      .flash-dist { animation: distFlash 24s infinite; pointer-events: none; }
      .flash-time { animation: timeFlash 24s infinite; pointer-events: none; }
      .flash-pace { animation: paceFlash 24s infinite; pointer-events: none; }

      /* Cursor Animations */
      #cursor-move { animation: cursorMove 24s infinite; pointer-events: none; }
      #cursor-click { animation: cursorClick 24s infinite; transform-origin: 10px 12px; pointer-events: none; }

      /* --- KEYFRAMES --- */

      /* States */
      @keyframes pinDistBtnState { 0%, 33.3% { color: #2563eb; } 33.4%, 100% { color: #64748b; } }
      @keyframes pinDistBtnRectState { 0%, 33.3% { fill: #dbeafe; stroke: #3b82f6; } 33.4%, 100% { fill: #f8fafc; stroke: #cbd5e1; } }
      @keyframes pinDistBoxState { 0%, 33.3% { stroke: #3b82f6; stroke-width: 2; fill: #f8fafc; } 33.4%, 100% { stroke: #cbd5e1; stroke-width: 1; fill: #ffffff; } }

      @keyframes pinTimeBtnState { 0%, 33.3% { color: #64748b; } 33.4%, 66.6% { color: #2563eb; } 66.7%, 100% { color: #64748b; } }
      @keyframes pinTimeBtnRectState { 0%, 33.3% { fill: #f8fafc; stroke: #cbd5e1; } 33.4%, 66.6% { fill: #dbeafe; stroke: #3b82f6; } 66.7%, 100% { fill: #f8fafc; stroke: #cbd5e1; } }
      @keyframes pinTimeBoxState { 0%, 33.3% { stroke: #cbd5e1; stroke-width: 1; fill: #ffffff; } 33.4%, 66.6% { stroke: #3b82f6; stroke-width: 2; fill: #f8fafc; } 66.7%, 100% { stroke: #cbd5e1; stroke-width: 1; fill: #ffffff; } }

      @keyframes pinPaceBtnState { 0%, 66.6% { color: #64748b; } 66.7%, 100% { color: #2563eb; } }
      @keyframes pinPaceBtnRectState { 0%, 66.6% { fill: #f8fafc; stroke: #cbd5e1; } 66.7%, 100% { fill: #dbeafe; stroke: #3b82f6; } }
      @keyframes pinPaceBoxState { 0%, 66.6% { stroke: #cbd5e1; stroke-width: 1; fill: #ffffff; } 66.7%, 100% { stroke: #3b82f6; stroke-width: 2; fill: #f8fafc; } }

      /* Flashes: Input = Gray (#cbd5e1), Calc = Green (#4ade80) */
      @keyframes distFlash {
        43%, 45% { fill: #cbd5e1; opacity: 0.5; }
        58%, 61% { fill: #4ade80; opacity: 0.3; }
        76%, 78% { fill: #cbd5e1; opacity: 0.5; }
        91%, 94% { fill: #4ade80; opacity: 0.3; }
        0%, 42.9%, 45.1%, 57.9%, 61.1%, 75.9%, 78.1%, 90.9%, 94.1%, 100% { fill: transparent; opacity: 0; }
      }
      @keyframes timeFlash {
        13%, 16% { fill: #4ade80; opacity: 0.3; }
        22%, 24% { fill: #cbd5e1; opacity: 0.5; }
        79%, 82% { fill: #4ade80; opacity: 0.3; }
        88%, 90% { fill: #cbd5e1; opacity: 0.5; }
        0%, 12.9%, 16.1%, 21.9%, 24.1%, 78.9%, 82.1%, 87.9%, 90.1%, 100% { fill: transparent; opacity: 0; }
      }
      @keyframes paceFlash {
        10%, 12% { fill: #cbd5e1; opacity: 0.5; }
        25%, 28% { fill: #4ade80; opacity: 0.3; }
        46%, 49% { fill: #4ade80; opacity: 0.3; }
        55%, 57% { fill: #cbd5e1; opacity: 0.5; }
        0%, 9.9%, 12.1%, 24.9%, 28.1%, 45.9%, 49.1%, 54.9%, 57.1%, 100% { fill: transparent; opacity: 0; }
      }

      /* Values Opacities */
      .v-d-10 { animation-name: op-d-10; } .v-d-20 { animation-name: op-d-20; } .v-d-15 { animation-name: op-d-15; } .v-d-12-5 { animation-name: op-d-12-5; }
      @keyframes op-d-10 { 0%, 43.5% {opacity:1} 44%, 76.5% {opacity:0} 77%, 91.5% {opacity:1} 92%, 100% {opacity:0} }
      @keyframes op-d-20 { 0%, 43.5% {opacity:0} 44%, 58.5% {opacity:1} 59%, 100% {opacity:0} }
      @keyframes op-d-15 { 0%, 58.5% {opacity:0} 59%, 76.5% {opacity:1} 77%, 100% {opacity:0} }
      @keyframes op-d-12-5 { 0%, 91.5% {opacity:0} 92%, 100% {opacity:1} }

      .v-t-50 { animation-name: op-t-50; } .v-t-40 { animation-name: op-t-40; } .v-t-60 { animation-name: op-t-60; }
      @keyframes op-t-50 { 0%, 13.5% {opacity:1} 14%, 88.5% {opacity:0} 89%, 100% {opacity:1} }
      @keyframes op-t-40 { 0%, 13.5% {opacity:0} 14%, 22.5% {opacity:1} 23%, 79.5% {opacity:0} 80%, 88.5% {opacity:1} 89%, 100% {opacity:0} }
      @keyframes op-t-60 { 0%, 22.5% {opacity:0} 23%, 79.5% {opacity:1} 80%, 100% {opacity:0} }

      .v-p-05 { animation-name: op-p-05; } .v-p-04 { animation-name: op-p-04; } .v-p-06 { animation-name: op-p-06; } .v-p-03 { animation-name: op-p-03; }
      @keyframes op-p-05 { 0%, 10.5% {opacity:1} 11%, 100% {opacity:0} }
      @keyframes op-p-04 { 0%, 10.5% {opacity:0} 11%, 25.5% {opacity:1} 26%, 55.5% {opacity:0} 56%, 100% {opacity:1} }
      @keyframes op-p-06 { 0%, 25.5% {opacity:0} 26%, 46.5% {opacity:1} 47%, 100% {opacity:0} }
      @keyframes op-p-03 { 0%, 46.5% {opacity:0} 47%, 55.5% {opacity:1} 56%, 100% {opacity:0} }

      /* Description Opacities */
      .d-1 { animation-name: d-1; } .d-2 { animation-name: d-2; } .d-3 { animation-name: d-3; }
      .d-4 { animation-name: d-4; } .d-5 { animation-name: d-5; } .d-6 { animation-name: d-6; }
      .d-7 { animation-name: d-7; } .d-8 { animation-name: d-8; } .d-9 { animation-name: d-9; }
      @keyframes d-1 { 0%, 8% {opacity:1} 8.5%, 100% {opacity:0} }
      @keyframes d-2 { 0%, 8.5% {opacity:0} 9%, 20.5% {opacity:1} 21%, 100% {opacity:0} }
      @keyframes d-3 { 0%, 20.5% {opacity:0} 21%, 32% {opacity:1} 32.5%, 100% {opacity:0} }
      @keyframes d-4 { 0%, 32.5% {opacity:0} 33%, 41.5% {opacity:1} 42%, 100% {opacity:0} }
      @keyframes d-5 { 0%, 41.5% {opacity:0} 42%, 53.5% {opacity:1} 54%, 100% {opacity:0} }
      @keyframes d-6 { 0%, 53.5% {opacity:0} 54%, 64.5% {opacity:1} 65%, 100% {opacity:0} }
      @keyframes d-7 { 0%, 64.5% {opacity:0} 65%, 74.5% {opacity:1} 75%, 100% {opacity:0} }
      @keyframes d-8 { 0%, 74.5% {opacity:0} 75%, 86.5% {opacity:1} 87%, 100% {opacity:0} }
      @keyframes d-9 { 0%, 86.5% {opacity:0} 87%, 99.5% {opacity:1} 100%, 100% {opacity:0} }

      /* Cursor Movements */
      @keyframes cursorMove {
        0%  { transform: translate(300px, 400px); }
        2%, 4%   { transform: translate(110px, 90px); } /* Pin Dist */
        9%, 13%  { transform: translate(490px, 170px); } /* Pace */
        20%, 25% { transform: translate(300px, 170px); } /* Time */
        31%, 35% { transform: translate(300px, 90px); } /* Pin Time */
        42%, 46% { transform: translate(110px, 170px); } /* Dist */
        54%, 58% { transform: translate(490px, 170px); } /* Pace */
        64%, 68% { transform: translate(490px, 90px); } /* Pin Pace */
        75%, 79% { transform: translate(110px, 170px); } /* Dist */
        87%, 91% { transform: translate(300px, 170px); } /* Time */
        98%, 100% { transform: translate(300px, 400px); }
      }
      @keyframes cursorClick {
        0%, 2%, 4.5%, 9%, 13.5%, 20%, 25.5%, 31%, 35.5%, 42%, 46.5%, 54%, 58.5%, 64%, 68.5%, 75%, 79.5%, 87%, 91.5%, 100% { transform: scale(1); }
        3%, 11%, 23%, 33%, 44%, 56%, 66%, 77%, 89% { transform: scale(0.8); }
      }
    </style>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#eef2f6" />

  <!-- Header -->
  <text x="300" y="40" text-anchor="middle" font-size="22" font-weight="700" fill="#1e293b" letter-spacing="-0.5">
    Pace Calculator Interactions
  </text>

  <!-- === THE 3 MAIN BOXES === -->

  <!-- Distance Box -->
  <g class="box-dist" transform="translate(30, 125)">
    <rect class="border" width="160" height="90" rx="12" filter="url(#box-shadow)" />
    <rect class="flash-dist" width="160" height="90" rx="12" />
    <text x="80" y="28" text-anchor="middle" font-size="12" font-weight="600" fill="#64748b" letter-spacing="1">DISTANCE</text>

    <g transform="translate(80, 62)" font-size="28" font-weight="700" fill="#0f172a" text-anchor="middle">
      <text class="val v-d-10">10.00 <tspan font-size="16" fill="#64748b" font-weight="600">km</tspan></text>
      <text class="val v-d-20">20.00 <tspan font-size="16" fill="#64748b" font-weight="600">km</tspan></text>
      <text class="val v-d-15">15.00 <tspan font-size="16" fill="#64748b" font-weight="600">km</tspan></text>
      <text class="val v-d-12-5">12.50 <tspan font-size="16" fill="#64748b" font-weight="600">km</tspan></text>
    </g>
  </g>

  <!-- Time Box -->
  <g class="box-time" transform="translate(215, 125)">
    <rect class="border" width="170" height="90" rx="12" filter="url(#box-shadow)" />
    <rect class="flash-time" width="170" height="90" rx="12" />
    <text x="85" y="28" text-anchor="middle" font-size="12" font-weight="600" fill="#64748b" letter-spacing="1">TIME</text>

    <g transform="translate(85, 62)" font-size="28" font-weight="700" fill="#0f172a" text-anchor="middle">
      <text class="val v-t-50">00:50:00</text>
      <text class="val v-t-40">00:40:00</text>
      <text class="val v-t-60">01:00:00</text>
    </g>
  </g>

  <!-- Pace Box -->
  <g class="box-pace" transform="translate(410, 125)">
    <rect class="border" width="160" height="90" rx="12" filter="url(#box-shadow)" />
    <rect class="flash-pace" width="160" height="90" rx="12" />
    <text x="80" y="28" text-anchor="middle" font-size="12" font-weight="600" fill="#64748b" letter-spacing="1">PACE</text>

    <g transform="translate(80, 62)" font-size="28" font-weight="700" fill="#0f172a" text-anchor="middle">
      <text class="val v-p-05">05:00 <tspan font-size="16" fill="#64748b" font-weight="600">/km</tspan></text>
      <text class="val v-p-04">04:00 <tspan font-size="16" fill="#64748b" font-weight="600">/km</tspan></text>
      <text class="val v-p-06">06:00 <tspan font-size="16" fill="#64748b" font-weight="600">/km</tspan></text>
      <text class="val v-p-03">03:00 <tspan font-size="16" fill="#64748b" font-weight="600">/km</tspan></text>
    </g>
  </g>

  <!-- === PIN BUTTONS === -->

  <!-- Pin Distance Btn -->
  <g class="btn-dist" transform="translate(30, 70)">
    <rect width="160" height="40" rx="20" filter="url(#box-shadow)" />
    <path transform="translate(25, 8)" d="M16 12V4H17V2H7V4H8V12L6 14V16H11.2V22H12.8V16H18V14L16 12Z" fill="currentColor"/>
    <text x="88" y="25" text-anchor="middle" font-size="14" font-weight="600" fill="currentColor">Pin Distance</text>
  </g>

  <!-- Pin Time Btn -->
  <g class="btn-time" transform="translate(215, 70)">
    <rect width="170" height="40" rx="20" filter="url(#box-shadow)" />
    <path transform="translate(30, 8)" d="M16 12V4H17V2H7V4H8V12L6 14V16H11.2V22H12.8V16H18V14L16 12Z" fill="currentColor"/>
    <text x="93" y="25" text-anchor="middle" font-size="14" font-weight="600" fill="currentColor">Pin Time</text>
  </g>

  <!-- Pin Pace Btn -->
  <g class="btn-pace" transform="translate(410, 70)">
    <rect width="160" height="40" rx="20" filter="url(#box-shadow)" />
    <path transform="translate(25, 8)" d="M16 12V4H17V2H7V4H8V12L6 14V16H11.2V22H12.8V16H18V14L16 12Z" fill="currentColor"/>
    <text x="88" y="25" text-anchor="middle" font-size="14" font-weight="600" fill="currentColor">Pin Pace</text>
  </g>

  <!-- === DESCRIPTION BOX === -->

  <rect x="30" y="260" width="540" height="100" rx="16" fill="#ffffff" stroke="#e2e8f0" stroke-width="2" filter="url(#box-shadow)" />

  <!-- Info Icon inside Desc Box -->
  <circle cx="80" cy="310" r="18" fill="#e0e7ff" />
  <text x="80" y="316" font-size="20" font-weight="800" fill="#4f46e5" text-anchor="middle">i</text>

  <!-- Animated Texts -->
  <g transform="translate(325, 317)" font-size="22" text-anchor="middle" fill="#1e293b">
    <text class="desc d-1"><tspan font-weight="700" fill="#2563eb">1. Distance is Pinned</tspan></text>

    <text class="desc d-2"><tspan font-weight="700" fill="#ea580c">Change Pace</tspan> &#8594; <tspan font-weight="700" fill="#059669">Time</tspan> is calculated</text>

    <text class="desc d-3"><tspan font-weight="700" fill="#ea580c">Change Time</tspan> &#8594; <tspan font-weight="700" fill="#059669">Pace</tspan> is calculated</text>

    <text class="desc d-4"><tspan font-weight="700" fill="#2563eb">2. Time is Pinned</tspan></text>

    <text class="desc d-5"><tspan font-weight="700" fill="#ea580c">Change Distance</tspan> &#8594; <tspan font-weight="700" fill="#059669">Pace</tspan> is calculated</text>

    <text class="desc d-6"><tspan font-weight="700" fill="#ea580c">Change Pace</tspan> &#8594; <tspan font-weight="700" fill="#059669">Distance</tspan> is calculated</text>

    <text class="desc d-7"><tspan font-weight="700" fill="#2563eb">3. Pace is Pinned</tspan></text>

    <text class="desc d-8"><tspan font-weight="700" fill="#ea580c">Change Distance</tspan> &#8594; <tspan font-weight="700" fill="#059669">Time</tspan> is calculated</text>

    <text class="desc d-9"><tspan font-weight="700" fill="#ea580c">Change Time</tspan> &#8594; <tspan font-weight="700" fill="#059669">Distance</tspan> is calculated</text>
  </g>

  <!-- === TOUCH HAND CURSOR === -->
  <g id="cursor-move">
    <g id="cursor-click" filter="url(#cursor-shadow)">
      <path d="M0,0 L18,18 L10,19.5 L13.5,27.5 L10,29 L6.5,21 L0,25 Z" fill="#1e293b" stroke="#ffffff" stroke-width="2.5" />
    </g>
  </g>

</svg>
