import{Aa as M1,Ab as D,Ac as r2,Ba as K,Bb as O1,Bc as v2,Ca as r,Cb as b1,Cc as g2,Da as z,Db as T1,Dc as h2,Ea as V,Eb as q1,Ec as w2,Fa as _,Fb as I1,Fc as t1,Ga as s1,Gb as P1,Ha as n1,Hb as F1,Ia as e1,Ib as Y,Ja as O,Jb as D1,Ka as A,Kb as E1,La as z1,Lb as $1,M as h1,Ma as W,Mb as Z,Na as k1,Oa as f1,Ob as R1,P as H,Pa as p,Pb as U1,Qa as d,Qb as N1,R as L,Rb as K1,S as w1,Sb as J,Tb as j2,U as p1,V as u,Va as G,W as M,Wa as B1,Xa as C1,Ya as L1,Z as y,Za as H1,_ as d1,_a as b,aa as $,da as c,ea as a1,eb as l1,ec as o1,fb as q,ha as R,hb as I,hc as k,ia as m,ib as P,ic as W1,ja as h,jb as F,jc as G1,ka as i1,kc as Q1,la as m1,ma as f,na as T,nc as X1,oa as S,oc as Y1,pa as j,pb as V1,pc as Z1,qa as e,qb as A1,qc as J1,ra as l,rb as y1,rc as o2,sa as C,sb as Q,sc as t2,ta as U,tc as a2,ua as N,uc as i2,va as B,vb as S1,vc as s2,wa as w,wc as n2,xa as v,xb as X,xc as e2,ya as x1,yb as j1,yc as l2,za as u1,zb as _1,zc as c2}from"./chunk-7EGHG4L6.js";import"./chunk-LQIEJ42F.js";import"./chunk-JNTMRCJ5.js";import"./chunk-FDYSJJUA.js";import"./chunk-UPSEHYWJ.js";import"./chunk-G3CV3VGG.js";import"./chunk-S5HKDKZ2.js";import"./chunk-WRNMPWJ4.js";import"./chunk-24Z56J7A.js";import"./chunk-4U6PRYVA.js";import"./chunk-GHS4QXHZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{g as S2}from"./chunk-GJFJZJGV.js";var F2=S2(j2(),1);var c1,_2=function(){if(typeof window>"u")return new Map;if(!c1){var t=window;t.Ionicons=t.Ionicons||{},c1=t.Ionicons.map=t.Ionicons.map||new Map}return c1},r1=function(t){Object.keys(t).forEach(function(n){p2(n,t[n]);var a=n.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();n!==a&&p2(a,t[n])})},p2=function(t,n){var a=_2(),o=a.get(t);o===void 0?a.set(t,n):o!==n&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(t,'". Ensure that multiple icons are not mapped to the same icon name.'))};var d2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>";var m2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>";var x2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 80a48.05 48.05 0 00-48-48H144a48.05 48.05 0 00-48 48v352a48.05 48.05 0 0048 48h224a48.05 48.05 0 0048-48zM168 432a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm88 160a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm112 136a24 24 0 01-48 0v-80a24 24 0 0148 0zm-24-136a24 24 0 1124-24 24 24 0 01-24 24zm19.31-100.69A16 16 0 01352 176H160a16 16 0 01-16-16V96a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-4.69 11.31z'/></svg>",u2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='112' y='48' width='288' height='416' rx='32' ry='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160.01 112H352v64H160.01z' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='168' cy='248' r='24'/><circle cx='256' cy='248' r='24'/><circle cx='344' cy='248' r='24'/><circle cx='168' cy='328' r='24'/><circle cx='256' cy='328' r='24'/><circle cx='168' cy='408' r='24'/><circle cx='256' cy='408' r='24'/><rect x='320' y='304' width='48' height='128' rx='24' ry='24'/></svg>";var M2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M136 104l120 104 120-104M136 408l120-104 120 104' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var z2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";var k2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M277.42 247a24.68 24.68 0 00-4.08-5.47L255 223.44a21.63 21.63 0 00-6.56-4.57 20.93 20.93 0 00-23.28 4.27c-6.36 6.26-18 17.68-39 38.43C146 301.3 71.43 367.89 37.71 396.29a16 16 0 00-1.09 23.54l39 39.43a16.13 16.13 0 0023.67-.89c29.24-34.37 96.3-109 136-148.23 20.39-20.06 31.82-31.58 38.29-37.94a21.76 21.76 0 003.84-25.2zM478.43 201l-34.31-34a5.44 5.44 0 00-4-1.59 5.59 5.59 0 00-4 1.59h0a11.41 11.41 0 01-9.55 3.27c-4.48-.49-9.25-1.88-12.33-4.86-7-6.86 1.09-20.36-5.07-29a242.88 242.88 0 00-23.08-26.72c-7.06-7-34.81-33.47-81.55-52.53a123.79 123.79 0 00-47-9.24c-26.35 0-46.61 11.76-54 18.51-5.88 5.32-12 13.77-12 13.77a91.29 91.29 0 0110.81-3.2 79.53 79.53 0 0123.28-1.49C241.19 76.8 259.94 84.1 270 92c16.21 13 23.18 30.39 24.27 52.83.8 16.69-15.23 37.76-30.44 54.94a7.85 7.85 0 00.4 10.83l21.24 21.23a8 8 0 0011.14.1c13.93-13.51 31.09-28.47 40.82-34.46s17.58-7.68 21.35-8.09a35.71 35.71 0 0121.3 4.62 13.65 13.65 0 013.08 2.38c6.46 6.56 6.07 17.28-.5 23.74l-2 1.89a5.5 5.5 0 000 7.84l34.31 34a5.5 5.5 0 004 1.58 5.65 5.65 0 004-1.58L478.43 209a5.82 5.82 0 000-8z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var f2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>";var B2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>";var C2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 112a80 80 0 00-160 0v96' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var b2=t=>({"grid-template-columns":t}),T2=t=>({"clear-button":t});function q2(t,n){if(t&1){let a=B();e(0,"button",4),w("mousedown",function(){let i=u(a),s=i.$implicit,g=i.index,x=v().index,E=v();return M(E.onButtonPress(s,x,g))}),C(1,"div",5),e(2,"span",6),r(3),l()()}if(t&2){let a=n.$implicit,o=n.index,i=v().index,s=v();h("ngClass",A(4,T2,a==="C")),c(),h("@buttonGlow",s.getGlowState(i,o)),c(),h("@buttonPress",s.getButtonState(i,o)),c(),z(a)}}function I2(t,n){if(t&1&&(e(0,"div",2),m(1,q2,4,6,"button",3),l()),t&2){let a=n.$implicit;c(),h("ngForOf",a)}}var L2=(()=>{let n=class n{constructor(){this.clear=new y,this.inputChange=new y,this.buttonRows=[],this.buttonStates={},this.glowStates={},this.activeTimeouts=new Set}ngOnDestroy(){this.activeTimeouts.forEach(o=>clearTimeout(o)),this.activeTimeouts.clear()}clearTapped(){this.clear.emit()}inputTapped(o){this.inputChange.emit(o)}getGridTemplateColumns(){var o;return`repeat(${((o=this.buttonRows[0])==null?void 0:o.length)||1}, 1fr)`}getButtonId(o,i){return`btn-${o}-${i}`}getButtonState(o,i){let s=this.getButtonId(o,i);return this.buttonStates[s]||"normal"}getGlowState(o,i){let s=this.getButtonId(o,i);return this.glowStates[s]||"inactive"}onButtonPress(o,i,s){let g=this.getButtonId(i,s);this.buttonStates[g]="pressed",this.glowStates[g]="active";let x=setTimeout(()=>{this.buttonStates[g]="normal",this.activeTimeouts.delete(x)},80);this.activeTimeouts.add(x);let E=setTimeout(()=>{this.glowStates[g]="inactive",this.activeTimeouts.delete(E)},300);this.activeTimeouts.add(E),o==="C"?this.clearTapped():this.inputTapped(o)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-calculator-input"]],inputs:{buttonRows:"buttonRows"},outputs:{clear:"clear",inputChange:"inputChange"},standalone:!0,features:[O],decls:2,vars:4,consts:[[1,"grid","gap-[6px]",3,"ngStyle"],["class","contents",4,"ngFor","ngForOf"],[1,"contents"],[3,"ngClass","mousedown",4,"ngFor","ngForOf"],[3,"mousedown","ngClass"],[1,"glow-overlay"],[1,"button-text"]],template:function(i,s){i&1&&(e(0,"div",0),m(1,I2,2,1,"div",1),l()),i&2&&(h("ngStyle",A(2,b2,s.getGridTemplateColumns())),c(),h("ngForOf",s.buttonRows))},dependencies:[b,G,B1,L1],styles:["button[_ngcontent-%COMP%]{height:2.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}}button[_ngcontent-%COMP%]{position:relative;overflow:hidden}.glow-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,rgba(255,255,255,.4) 0%,rgba(255,255,255,.1) 50%,transparent 100%);border-radius:inherit;pointer-events:none}.clear-button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.clear-button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}}.button-text[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1}"],data:{animation:[l1("buttonPress",[P("normal",I({transform:"scale(1)"})),P("pressed",I({transform:"scale(0.75)"})),F("normal => pressed",q("80ms cubic-bezier(0.25, 0.46, 0.45, 0.94)")),F("pressed => normal",q("250ms cubic-bezier(0.175, 0.885, 0.32, 1.275)"))]),l1("buttonGlow",[P("inactive",I({opacity:0,transform:"scale(0)"})),P("active",I({opacity:.4,transform:"scale(3)"})),F("inactive => active",q("100ms ease-out")),F("active => inactive",q("100ms ease-out"))])]}});let t=n;return t})();var H2=(()=>{let n=class n{constructor(o,i){this.el=o,this._zone=i,this.updateChange=new y(!0),this.chartInstance=new y}ngOnChanges(o){var s;let i=(s=o.update)==null?void 0:s.currentValue;(o.options||i)&&(this.wrappedUpdateOrCreateChart(),i&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){var o;(o=this.chart)!=null&&o.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}};n.\u0275fac=function(i){return new(i||n)(a1($),a1(d1))},n.\u0275cmp=L({type:n,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[p1],decls:0,vars:0,template:function(i,s){},encapsulation:2});let t=n;return t})(),V2=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=w1({type:n}),n.\u0275inj=h1({});let t=n;return t})();var A2=(()=>{let n=class n{constructor(){this.modalCtrl=H(Z),this.toastCtrl=H(R1),this.store=H(o1),this.heatAdjustment=this.store.selectSignal(t1),this.temperature="",this.dewPoint="",this.temperatureType="c",this.applyDisabled=R(!0)}fToC(o){return((o-32)*5/9).toFixed(1).replace(/\.0$/,"")}cToF(o){return(o*9/5+32).toFixed(1).replace(/\.0$/,"")}ngAfterViewInit(){this.temperature=this.heatAdjustment().temperature,this.dewPoint=this.heatAdjustment().dewPoint,this.temperatureType=this.heatAdjustment().temperatureType,this.checkInput()}dismiss(){this.modalCtrl.dismiss()}applyAdjustment(){this.modalCtrl.dismiss({temperatureType:this.temperatureType,temperature:this.temperature,dewPoint:this.dewPoint})}onClearAdjustment(){this.modalCtrl.dismiss({temperatureType:"c",temperature:"",dewPoint:""})}temperatureTypeChanged(o){this.temperatureType=o.detail.value,this.temperatureType==="f"?(this.temperature=this.cToF(Number(this.temperature)),this.dewPoint=this.cToF(Number(this.dewPoint))):(this.temperature=this.fToC(Number(this.temperature)),this.dewPoint=this.fToC(Number(this.dewPoint)))}async checkInput(){if(!Number(this.temperature)||!Number(this.dewPoint))return;let o=this.temperatureType==="f"?Number(this.temperature):Number(this.temperature)*9/5+32,i=this.temperatureType==="f"?Number(this.dewPoint):Number(this.dewPoint)*9/5+32,s=o+i>180;this.applyDisabled.set(s),s&&(await this.toastCtrl.create({message:"Heat Index is too high, running not recommended",duration:5e3,color:"danger",position:"top"})).present()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-heat-adjustment-modal"]],standalone:!0,features:[O],decls:22,vars:4,consts:[["slot","end"],[3,"click"],[1,"ion-padding"],[1,"flex","flex-col","gap-4"],["href","https://maximumperformancerunning.blogspot.com/2013/07/temperature-dew-point.html","target","_blank",1,"text-blue-500","dark:text-blue-200","underline","underline-offset-2"],["color","primary","mode","ios",3,"ionChange","value"],["value","c"],["value","f"],["required","","mode","md","label","Temperature","label-placement","floating","inputmode","decimal","fill","solid",3,"ngModelChange","ionInput","ngModel"],["required","","mode","md","label","Dew Point","label-placement","floating","inputmode","decimal","fill","solid",3,"ngModelChange","ionInput","ngModel"],["fill","clear",1,"app-button","w-full","rounded-lg",3,"click","disabled"],[1,"text-blue-500","dark:text-blue-200","underline","underline-offset-2","text-center",3,"click"]],template:function(i,s){i&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r(3,"Apply Heat Adjustment"),l(),e(4,"ion-buttons",0)(5,"ion-button",1),w("click",function(){return s.dismiss()}),r(6,"Close"),l()()()(),e(7,"ion-content",2)(8,"div",3)(9,"a",4),r(10,"How does this work?"),l(),e(11,"ion-segment",5),w("ionChange",function(x){return s.temperatureTypeChanged(x)}),e(12,"ion-segment-button",6),r(13," Celcius "),l(),e(14,"ion-segment-button",7),r(15," Faranheit "),l()(),e(16,"ion-input",8),e1("ngModelChange",function(x){return n1(s.temperature,x)||(s.temperature=x),x}),w("ionInput",function(){return s.checkInput()}),l(),e(17,"ion-input",9),e1("ngModelChange",function(x){return n1(s.dewPoint,x)||(s.dewPoint=x),x}),w("ionInput",function(){return s.checkInput()}),l(),e(18,"ion-button",10),w("click",function(){return s.applyAdjustment()}),r(19,"Apply"),l(),e(20,"p",11),w("click",function(){return s.onClearAdjustment()}),r(21,"Clear Adjustment"),l()()()),i&2&&(c(11),h("value",s.temperatureType),c(5),s1("ngModel",s.temperature),c(),s1("ngModel",s.dewPoint),c(),h("disabled",s.applyDisabled()))},dependencies:[b,J,Y,Q,V1,y1,A1,D,T1,E1,$1,j1,X,N1],encapsulation:2});let t=n;return t})();var D2=(t,n)=>n.id,E2=(t,n,a,o,i,s)=>({focusId:t,paceType:n,distance:a,distanceType:o,time:i,pace:s}),$2=(t,n,a,o,i,s,g,x)=>({inputType:t,distance:n,pace:a,time:o,distanceType:i,paceType:s,lockType:g,isInputCollapsed:x}),R2=(t,n)=>({splitsChartReady:t,splitsChartOptions:n}),U2=t=>({paceType:t}),g1=(t,n,a,o,i)=>({"border-transparent":t,"border-blue-300 dark:border-blue-500":n,"border-2":a,"border-0":o,"bg-blue-100 dark:bg-blue-900":i}),y2=t=>({"text-blue-500 dark:text-blue-300":t});function N2(t,n){t&1&&(U(0),e(1,"div",28),C(2,"ion-spinner",29),l(),N())}function K2(t,n){if(t&1&&(U(0),C(1,"highcharts-chart",30),N()),t&2){let a=v().ngIf,o=v(2);c(),h("Highcharts",o.Highcharts)("options",a.splitsChartOptions)("callbackFunction",o.chartCallback)}}function W2(t,n){if(t&1&&(U(0),m(1,N2,3,0,"ng-container",22)(2,K2,2,3,"ng-container",22),N()),t&2){let a=n.ngIf;c(),h("ngIf",!a.splitsChartReady),c(),h("ngIf",a.splitsChartReady&&a.splitsChartOptions)}}function G2(t,n){if(t&1){let a=B();e(0,"div",3)(1,"ion-grid")(2,"ion-row")(3,"ion-col"),m(4,W2,3,2,"ng-container",22),p(5,"async"),p(6,"async"),l()(),e(7,"ion-row")(8,"ion-col",23)(9,"ion-range",24),p(10,"async"),w("ionChange",function(i){u(a);let s=v();return M(s.handleSplitsSliderValueChange(i))}),e(11,"ion-label",25),r(12,"Negative"),l(),e(13,"ion-label",26),r(14,"Positive"),l()()()(),e(15,"ion-row")(16,"ion-col")(17,"p",27),r(18,"Lap"),l()(),e(19,"ion-col")(20,"p",27),r(21,"Distance"),l()(),e(22,"ion-col")(23,"p",27),r(24,"Pace"),l()(),e(25,"ion-col")(26,"p",27),r(27,"Time"),l()(),e(28,"ion-col")(29,"p",27),r(30,"Cumulative"),l()()()()()}if(t&2){let a=v();c(4),h("ngIf",z1(13,R2,d(5,7,a.splitsChartReady$),d(6,9,a.splitsChartOptions$))),c(5),h("ticks",!0)("snaps",!0)("min",-.2)("max",.2)("step",.05)("value",d(10,11,a.splitsSliderValue$))}}function Q2(t,n){if(t&1&&(e(0,"div",9)(1,"p",31),r(2," *Pace adjusted for heat at "),e(3,"span"),r(4),l()()()),t&2){let a=v();c(4),_(" ",a.heatAdjustment().temperature+"\xB0"+a.heatAdjustment().temperatureType.toUpperCase()," & ",a.heatAdjustment().dewPoint+"\xB0"+a.heatAdjustment().temperatureType.toUpperCase()," dewpoint ")}}function X2(t,n){if(t&1){let a=B();e(0,"div",32)(1,"div")(2,"p",33),w("click",function(){u(a);let i=v().$implicit,s=v();return M(s.setDistance(i.distanceInMeters))}),r(3),l()(),e(4,"div")(5,"p",34),r(6),l()(),e(7,"div")(8,"p",34),r(9),l()(),e(10,"ion-button",35),w("click",function(){u(a);let i=v().$implicit,s=v();return M(s.setFocus(i.id))}),C(11,"ion-icon",36),l()()}if(t&2){let a=n,o=v().$implicit;c(3),V(" ",o.type," "),c(3),z(o.time),c(3),_("",o.pace," ","/"+(a.paceType==="m400"?"400m":a.paceType),"")}}function Y2(t,n){if(t&1&&(e(0,"div",10),m(1,X2,12,4,"div",32),p(2,"async"),l()),t&2){let a,o=v();c(),f((a=A(3,U2,d(2,1,o.paceType$)))?1:-1,a)}}function Z2(t,n){if(t&1&&(e(0,"ion-row",37)(1,"ion-col")(2,"p",38),r(3),l()(),e(4,"ion-col")(5,"p",39),r(6),l()(),e(7,"ion-col")(8,"p",39),r(9),l()(),e(10,"ion-col")(11,"p",39),r(12),l()(),e(13,"ion-col")(14,"p",39),r(15),l()()()),t&2){let a=n.$implicit;c(3),z(a.split),c(3),z(a.splitDistance),c(3),z(a.splitPace),c(3),z(a.splitTime),c(3),z(a.totalDistance)}}function J2(t,n){t&1&&(e(0,"ion-grid"),S(1,Z2,16,5,"ion-row",37,T),l()),t&2&&(c(),j(n))}function o0(t,n){if(t&1&&(m(0,J2,3,0,"ion-grid"),p(1,"async")),t&2){let a,o=v();f((a=d(1,1,o.splits$))?0:-1,a)}}function t0(t,n){if(t&1&&(e(0,"ion-label")(1,"h2"),r(2),l(),e(3,"h1"),r(4),l(),e(5,"h2"),r(6),l()()),t&2){let a=v(),o=v(2);c(2),z(a[o.focusId].type),c(2),z(a[o.focusId].time),c(2),_("",a[o.focusId].pace,"","/"+(o.paceType==="m400"?"400m":o.paceType),"")}}function a0(t,n){if(t&1&&(e(0,"ion-label")(1,"h2"),r(2),l(),e(3,"h1"),r(4),l(),e(5,"h2"),r(6),l()()),t&2){let a=v(3);c(2),_("",a.distance,"",a.distanceType,""),c(2),z(a.time),c(2),_("",a.pace,"","/"+(a.paceType==="m400"?"400m":a.paceType),"")}}function i0(t,n){t&1&&(e(0,"button",43),r(1," Splits Tools "),l())}function s0(t,n){if(t&1){let a=B();e(0,"ion-item",46),w("click",function(){let i=u(a).$implicit;v(2);let s=K(8),g=v(3);return s.dismiss(),M(g.useSplitsTool(i.command))}),e(1,"ion-label"),r(2),l()()}if(t&2){let a=n.$implicit;c(2),z(a.label)}}function n0(t,n){if(t&1&&(e(0,"ion-list",40),S(1,s0,3,1,"ion-item",45,T),l()),t&2){let a=v(4);c(),j(a.splitsToolsMap)}}function e0(t,n){if(t&1){let a=B();e(0,"ion-item",40)(1,"ion-button",41),w("click",function(){u(a);let i=v(3);return M(i.setFocus(null))}),C(2,"ion-icon",42),l(),m(3,t0,7,4,"ion-label")(4,a0,7,5,"ion-label")(5,i0,2,0,"button",43),p(6,"async"),e(7,"ion-popover",44,0),m(9,n0,3,0,"ng-template"),l()()}if(t&2){let a=v(2),o=v();c(3),f(a.focusId!==-1&&a.focusId!==null?3:4),c(2),f(d(6,2,o.isInputCollapsed$)?5:-1)}}function l0(t,n){if(t&1&&(m(0,e0,10,4,"ion-item",40),p(1,"async")),t&2){let a,o=v(2);f((a=d(1,1,o.results$))?0:-1,a)}}function c0(t,n){t&1&&m(0,l0,2,3),t&2&&f(n.focusId!==null?0:-1)}function r0(t,n){if(t&1){let a=B();e(0,"ion-button",56),w("click",function(i){u(a);let s=v(2);return M(s.onLockTypeChange(i,"distance"))}),C(1,"ion-icon",57),l()}if(t&2){let a=v();c(),h("name",a.lockType==="distance"?"lock":"lock-open")}}function v0(t,n){if(t&1){let a=B();e(0,"ion-button",56),w("click",function(i){u(a);let s=v(2);return M(s.onLockTypeChange(i,"time"))}),C(1,"ion-icon",57),l()}if(t&2){let a=v();c(),h("name",a.lockType==="time"?"lock":"lock-open")}}function g0(t,n){if(t&1){let a=B();e(0,"ion-button",56),w("click",function(i){u(a);let s=v(2);return M(s.onLockTypeChange(i,"pace"))}),C(1,"ion-icon",57),l()}if(t&2){let a=v();c(),h("name",a.lockType==="pace"?"lock":"lock-open")}}function h0(t,n){if(t&1){let a=B();e(0,"div",47)(1,"div",48),w("click",function(){u(a);let i=v();return M(i.onInputTypeChange("distance"))}),e(2,"ion-label",49),r(3),l(),e(4,"div",50)(5,"p",51),r(6),l(),e(7,"p",52),r(8),l()(),m(9,r0,2,1,"ion-button",53),l(),e(10,"div",48),w("click",function(){u(a);let i=v();return M(i.onInputTypeChange("time"))}),e(11,"ion-label",49),r(12),l(),e(13,"div",50)(14,"p",54),r(15),l()(),m(16,v0,2,1,"ion-button",53),l(),e(17,"div",48),w("click",function(){u(a);let i=v();return M(i.onInputTypeChange("pace"))}),e(18,"ion-label",49),r(19),l(),e(20,"div",50)(21,"p",54),r(22),l(),e(23,"p",55),r(24),l()(),m(25,g0,2,1,"ion-button",53),l()()}if(t&2){let a=n,o=v();i1("hidden",a.isInputCollapsed),c(),h("ngClass",W(18,g1,a.inputType!=="distance",a.inputType==="distance",o.isKeyboardShowing(),!o.isKeyboardShowing(),a.inputType==="distance")),c(2),V(" ",a.inputType==="distance"&&o.isKeyboardShowing()?"Enter ":"","Distance "),c(2),h("ngClass",A(24,y2,o.highlightDistance())),c(),V(" ",a.distance||"0"," "),c(),h("ngClass",A(26,y2,o.highlightDistance())),c(),V(" ",a.distanceType," "),c(),f(o.isKeyboardShowing()?9:-1),c(),h("ngClass",W(28,g1,a.inputType!=="time",a.inputType==="time",o.isKeyboardShowing(),!o.isKeyboardShowing(),a.inputType==="time")),c(2),V(" ",a.inputType==="time"&&o.isKeyboardShowing()?"Enter ":"","Time "),c(3),z(a.time||"00:00:00"),c(),f(o.isKeyboardShowing()?16:-1),c(),h("ngClass",W(34,g1,a.inputType!=="pace",a.inputType==="pace",o.isKeyboardShowing(),!o.isKeyboardShowing(),a.inputType==="pace")),c(2),V(" ",a.inputType==="pace"&&o.isKeyboardShowing()?"Enter ":"","Pace "),c(3),z(a.pace||"00:00"),c(2),z("/"+(a.paceType==="m400"?"400m":a.paceType)),c(),f(o.isKeyboardShowing()?25:-1)}}function w0(t,n){if(t&1){let a=B();e(0,"ion-col",58)(1,"app-calculator-input",68),w("inputChange",function(i){u(a);let s=v(2);return M(s.onAdjustmentChange(i))}),l()()}t&2&&(c(),h("buttonRows",n))}function p0(t,n){if(t&1){let a=B();e(0,"ion-item",46),w("click",function(){let i=u(a).$implicit;v(2);let s=K(12),g=v();return s.dismiss(),M(g.useDistanceTool(i.command))}),e(1,"ion-label"),r(2),l()()}if(t&2){let a=n.$implicit;c(2),z(a.label)}}function d0(t,n){if(t&1&&(e(0,"ion-list",40),S(1,p0,3,1,"ion-item",45,T),l()),t&2){let a=v(2);c(),j(a.distanceToolsMap)}}function m0(t,n){if(t&1){let a=B();e(0,"ion-item",46),w("click",function(){let i=u(a).$implicit;v(2);let s=K(19),g=v();return s.dismiss(),M(g.usePaceTool(i.command))}),e(1,"ion-label"),r(2),l()()}if(t&2){let a=n.$implicit;c(2),z(a.label)}}function x0(t,n){if(t&1&&(e(0,"ion-list",40),S(1,m0,3,1,"ion-item",45,T),l()),t&2){let a=v(2);c(),j(a.paceToolsMap)}}function u0(t,n){if(t&1){let a=B();e(0,"ion-row",14),m(1,w0,2,1,"ion-col",58),p(2,"async"),e(3,"ion-col",59)(4,"app-calculator-input",60),w("clear",function(){u(a);let i=v();return M(i.onClearInput())})("inputChange",function(i){u(a);let s=v();return M(s.onInputChange(i))}),l()(),e(5,"ion-col",61)(6,"div",62)(7,"button",63),r(8," Distance"),C(9,"br"),r(10,"Tools "),l(),e(11,"ion-popover",64,1),m(13,d0,3,0,"ng-template"),l(),e(14,"button",65),r(15," Pace"),C(16,"br"),r(17,"Tools "),l(),e(18,"ion-popover",66,2),m(20,x0,3,0,"ng-template"),l(),e(21,"button",67),w("click",function(){u(a);let i=v();return M(i.viewSplits())}),r(22," View"),C(23,"br"),r(24,"Splits "),l()()()()}if(t&2){let a,o=v();c(),f((a=d(2,2,o.adjustmentButtons$))?1:-1,a),c(3),h("buttonRows",o.inputButtons)}}var n4=(()=>{let n=class n{constructor(){this.store=H(o1),this.modalCtrl=H(Z),this.isDarkMode=!1,this.Highcharts=F2,this.chartCallback=function(o){o.update({plotOptions:{series:{point:{events:{click:function(i){}}}}}})},this.paceToolsMap=W1,this.distanceToolsMap=G1,this.splitsToolsMap=Q1,this.distance$=this.store.select(Z1),this.distanceType$=this.store.select(J1),this.time$=this.store.select(o2),this.pace$=this.store.select(X1),this.paceType$=this.store.select(Y1),this.results$=this.store.select(s2),this.lockType$=this.store.select(a2),this.inputType$=this.store.select(i2),this.focusId$=this.store.select(t2),this.adjustmentButtons$=this.store.select(n2),this.splits$=this.store.select(e2),this.splitDistanceBy$=this.store.select(l2),this.isInputCollapsed$=this.store.select(c2),this.splitsChartOptions$=this.store.select(r2),this.splitsChartReady$=this.store.select(v2),this.splitsSliderValue$=this.store.select(g2),this.isKeyboardShowing=this.store.selectSignal(h2),this.overallCalculationMode=this.store.selectSignal(w2),this.heatAdjustment=this.store.selectSignal(t1),this.highlightDistance=R(!1),this.inputButtons=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","C"]],r1({arrowForward:m2,chevronCollapseOutline:M2,heart:f2,calculator:x2,calculatorOutline:u2,lockOpenOutline:C2,lockClosed:B2,hammerOutline:k2,arrowBackOutline:d2,chevronForwardOutline:z2,"keyboard-hide":"assets/keyboard_hide.svg","keyboard-show":"assets/keyboard_show.svg",lock:"assets/lock.svg","lock-open":"assets/lock_open.svg"})}ngOnInit(){this.handleColorSchemeChange()}handleColorSchemeChange(){let o=window.matchMedia("(prefers-color-scheme: dark)");this.store.dispatch(k.changeTheme({isDarkMode:o.matches})),o.addEventListener("change",i=>{this.store.dispatch(k.changeTheme({isDarkMode:i.matches}))})}trackById(o,i){return i.id}setFocus(o){var i,s;try{(s=(i=this.ionContent)==null?void 0:i.nativeElement)==null||s.scrollToTop()}catch{}this.store.dispatch(k.setFocus({focusId:o}))}setDistance(o){this.highlightDistance.set(!0),setTimeout(()=>{this.highlightDistance.set(!1)},200),this.store.dispatch(k.setDistance({distanceInMeters:o}))}onLockTypeChange(o,i){this.store.dispatch(k.changeLockType({lockType:i})),o.stopPropagation()}onAdjustmentChange(o){this.store.dispatch(k.adjustmentChanged({adjustment:o}))}onInputTypeChange(o){this.isKeyboardShowing()&&this.store.dispatch(k.changeInputType({inputType:o}))}onInputChange(o){this.store.dispatch(k.inputChanged({input:o}))}onClearInput(){this.store.dispatch(k.clearInput())}useDistanceTool(o){this.store.dispatch(k.useDistanceTool({command:o}))}async usePaceTool(o){if(o==="heatAdjust"){let i=await this.modalCtrl.create({component:A2});await i.present();let{data:s}=await i.onDidDismiss();s&&this.store.dispatch(k.applyHeatAdjustment({payload:{temperature:s.temperature,dewPoint:s.dewPoint,temperatureType:s.temperatureType}}))}else this.store.dispatch(k.usePaceTool({command:o}))}useSplitsTool(o){this.store.dispatch(k.useSplitsTool({command:o}))}viewSplits(){this.store.dispatch(k.setFocus({focusId:-1}))}handleSplitsSliderValueChange(o){this.store.dispatch(k.splitsSliderValueChanged({value:o.detail.value}))}onCalculationModeChange(o){this.store.dispatch(k.setOverallCalculationMode({mode:o.detail.value==="useRacePredictor"?"race":"pace"}))}toggleKeyboard(){this.store.dispatch(k.toggleKeyboard())}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["app-calculator"]],viewQuery:function(i,s){if(i&1&&x1(D,5,$),i&2){let g;u1(g=M1())&&(s.ionContent=g.first)}},standalone:!0,features:[O],decls:58,vars:66,consts:[["splitsPopover",""],["distancePopover",""],["pacePopover",""],[1,"sticky","top-0","z-10","mx-auto","max-w-5xl","bg-gray-100","dark:bg-[#121212]"],[1,"mx-auto","max-w-5xl"],[1,"bg-gray-100","p-2","dark:bg-[#121212]"],[1,"sticky","top-2","z-10","grid","grid-cols-4","rounded-lg","bg-white","p-4","py-2","pr-0","text-base","text-[#121212]","dark:bg-[hsl(0,0%,30%)]","dark:text-white"],[1,"font-xs","font-semibold"],[1,"font-xs","text-center","font-semibold"],[1,"col-span-4"],[1,"calculation-card","m-1","rounded-md","p-4","py-1","pr-0"],[1,"mx-auto","max-w-5xl","dark:bg-[#313131]"],[1,"mx-auto","grid","max-w-md","grid-cols-3","rounded-t-md","px-2","pt-2","text-xl","dark:bg-[#313131]",3,"hidden"],[1,"dark:bg-[#313131]"],[1,"ion-align-items-center"],["size","10"],["color","primary","mode","ios",3,"ionChange","value"],["value","useSteadyPace"],["value","useRacePredictor"],["size","2"],["fill","clear","shape","round",1,"mx-auto","flex","w-8","rounded-full","bg-blue-300","text-xs","font-semibold","text-black","dark:bg-blue-500","dark:text-white",3,"click"],["slot","icon-only",1,"text-black","dark:text-white",3,"name"],[4,"ngIf"],["size","10","offset","1",1,"ion-no-margin"],["mode","ios",3,"ionChange","ticks","snaps","min","max","step","value"],["slot","start"],["slot","end"],[1,"text-center","text-xs","font-semibold"],[1,"items-center","justify-center",2,"width","100%","height","300px","display","flex"],["name","crescent",1,"text-center"],[2,"width","100%","height","300px","display","block",3,"Highcharts","options","callbackFunction"],[1,"pt-1","text-xs","font-light"],[1,"grid","grid-cols-4","items-center","text-base"],[1,"cursor-pointer","font-normal","underline","decoration-blue-500","underline-offset-2","active:text-blue-500","dark:decoration-blue-300","dark:active:text-blue-300",3,"click"],[1,"font-normal"],["fill","clear","shape","round",1,"mx-auto","w-8","rounded-full","bg-blue-300","text-xs","font-semibold","text-black","dark:bg-blue-500","dark:text-white",3,"click"],["slot","icon-only","name","arrow-forward"],[1,"splits-row"],[1,"text-center"],[1,"text-center","text-sm"],["mode","md"],["size","large","shape","round","slot","start","fill","clear",1,"app-button","h-10","rounded-full",3,"click"],["slot","icon-only","icon","arrow-back-outline",1,"text-black","dark:text-white"],["id","splits-popover-trigger",1,"app-button","w-1/2","rounded-2xl","p-2","text-center","text-sm"],["trigger","splits-popover-trigger"],["button",""],["button","",3,"click"],[1,"mx-auto","grid","max-w-md","grid-cols-3","rounded-t-md","px-2","pt-2","text-xl","dark:bg-[#313131]"],[1,"flex","cursor-pointer","flex-col","rounded-2xl","pt-2",3,"click","ngClass"],[1,"text-center","text-sm","font-semibold"],[1,"mb-1","flex","flex-row","justify-center"],[1,"text-right","dark:text-white",3,"ngClass"],[1,"pl-2",3,"ngClass"],["mode","md","size","small","fill","clear",1,"mb-2","mt-0","block",2,"--ripple-color","transparent"],[1,"text-right","dark:text-white"],[1,"pl-2"],["mode","md","size","small","fill","clear",1,"mb-2","mt-0","block",2,"--ripple-color","transparent",3,"click"],[1,"text-blue-500",3,"name"],["size","4"],["size","5"],[3,"clear","inputChange","buttonRows"],["size","3",1,"ion-align-self-stretch"],[1,"flex","h-full","flex-col","justify-between"],["id","distance-tools-trigger",1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm"],["trigger","distance-tools-trigger"],["id","pace-tools-trigger",1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm"],["trigger","pace-tools-trigger"],[1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm",3,"click"],[3,"inputChange","buttonRows"]],template:function(i,s){if(i&1&&(e(0,"ion-content"),m(1,G2,31,16,"div",3),p(2,"async"),e(3,"div",4)(4,"div",5),p(5,"async"),e(6,"div",6)(7,"div")(8,"h5",7),r(9,"Distance"),l()(),e(10,"div")(11,"h5",7),r(12,"Time"),l()(),e(13,"div")(14,"h5",7),r(15,"Pace"),l()(),e(16,"div")(17,"h5",8),r(18,"Splits"),l()(),m(19,Q2,5,2,"div",9),l(),S(20,Y2,3,5,"div",10,D2),p(22,"async"),l(),m(23,o0,2,3),p(24,"async"),l()(),e(25,"ion-footer")(26,"div",11),m(27,c0,1,1),p(28,"async"),p(29,"async"),p(30,"async"),p(31,"async"),p(32,"async"),p(33,"async"),m(34,h0,26,40,"div",12),p(35,"async"),p(36,"async"),p(37,"async"),p(38,"async"),p(39,"async"),p(40,"async"),p(41,"async"),p(42,"async"),e(43,"ion-grid",13),p(44,"async"),m(45,u0,25,4,"ion-row",14),e(46,"ion-row",14)(47,"ion-col",15)(48,"ion-segment",16),w("ionChange",function(x){return s.onCalculationModeChange(x)}),e(49,"ion-segment-button",17)(50,"ion-label"),r(51,"Use Steady Pace"),l()(),e(52,"ion-segment-button",18)(53,"ion-label"),r(54,"Use Race Predictor"),l()()()(),e(55,"ion-col",19)(56,"ion-button",20),w("click",function(){return s.toggleKeyboard()}),C(57,"ion-icon",21),l()()()()()()),i&2){let g,x;c(),f(d(2,12,s.focusId$)!==null?1:-1),c(3),m1(d(5,14,s.focusId$)!==null?"hidden":""),c(15),f(+s.heatAdjustment().temperature&&+s.heatAdjustment().dewPoint?19:-1),c(),j(d(22,16,s.results$)),c(3),f(d(24,18,s.focusId$)!==null?23:-1),c(4),f((g=k1(50,E2,d(28,20,s.focusId$),d(29,22,s.paceType$),d(30,24,s.distance$),d(31,26,s.distanceType$),d(32,28,s.time$),d(33,30,s.pace$)))?27:-1,g),c(7),f((x=f1(57,$2,d(35,32,s.inputType$),d(36,34,s.distance$),d(37,36,s.pace$),d(38,38,s.time$),d(39,40,s.distanceType$),d(40,42,s.paceType$),d(41,44,s.lockType$),d(42,46,s.isInputCollapsed$)))?34:-1,x),c(9),i1("hidden",d(44,48,s.isInputCollapsed$)),c(2),f(s.isKeyboardShowing()?45:-1),c(3),h("value",s.overallCalculationMode()==="race"?"useRacePredictor":"useSteadyPace"),c(9),h("name",s.isKeyboardShowing()?"keyboard-hide":"keyboard-show")}},dependencies:[J,Y,K1,D1,L2,b,G,C1,H1,Q,X,_1,D,O1,b1,U1,q1,I1,P1,F1,S1,V2,H2],styles:["ion-range[_ngcontent-%COMP%]::part(tick){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(tick-active){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(bar){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(bar-active){background:var(--bar-background-active)}.calculation-card[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.calculation-card[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}.splits-row[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.splits-row[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}"]});let t=n;return t})();export{n4 as CalculatorPage};
