import{a as Ct}from"./chunk-2GT6F2KJ.js";import{$ as Be,$b as cn,$c as Tt,Aa as l,Ab as ke,Ba as C,Bb as Ye,Bc as se,Ca as y,Cb as Pe,Da as re,Db as N,Ea as _t,Eb as Jt,Ec as T,Fa as bt,Fb as we,Fc as ui,G as Ft,Ga as xt,Gb as G,Gc as vn,Ha as $t,Hb as Xt,Hc as yn,Ia as U,Ib as Je,Ic as kn,J as A,Ja as Lt,Jb as Xe,Jc as Pn,Ka as Nt,Kb as q,Kc as wn,La as zt,Lc as Tn,M as _e,Ma as P,Mb as en,Mc as Sn,N as u,Na as w,Nb as D,Nc as $,O as h,Oa as Wt,Ob as Te,Oc as Mn,Pb as et,Pc as On,Qa as le,Qb as Q,Qc as vt,R as E,Ra as Ut,Rb as tn,S as Ht,Sb as X,Ta as Kt,Tb as an,Tc as In,U as $e,Ua as Ue,Ub as on,Uc as En,V as B,Va as Ke,Vb as rn,Vc as yt,Wa as Gt,Wb as nt,Wc as kt,Xa as qt,Xb as ln,Xc as Pt,Y as Le,Ya as R,Yb as it,Yc as wt,Z as c,Zb as sn,Zc as Rn,_b as at,_c as Vn,aa as S,ac as pn,ad as Bn,ba as jt,bb as De,bc as dn,bd as An,ca as b,cb as xe,cc as ot,cd as Dn,dc as rt,dd as Fn,eb as me,ec as mn,ed as Hn,fa as W,fb as Ge,fc as un,fd as jn,ga as g,gb as Ce,gc as hn,gd as $n,ha as Ne,hc as gn,hd as Ln,ia as k,ic as fn,id as ct,ja as v,jc as lt,jd as pt,ka as Y,kc as _n,kd as Nn,la as Ae,lc as bn,ld as dt,ma as M,mb as qe,mc as xn,md as ue,na as O,nb as Qe,nc as st,nd as zn,oa as a,ob as Qt,oc as Cn,pa as r,pb as ve,qa as _,ra as ze,sa as We,ta as x,tb as Zt,ua as m,va as p,vb as K,wa as ce,wb as Ze,xa as pe,xb as ye,ya as de,yb as ie,za as be,zb as Yt}from"./chunk-KIW4CV4S.js";import"./chunk-SLQ2DS3G.js";import{a as F}from"./chunk-3ORAKWS2.js";import{a as nn,b as tt}from"./chunk-VGWXPRBH.js";import"./chunk-RKPUEK56.js";import"./chunk-D66CROZD.js";import"./chunk-5QXA6RFF.js";import"./chunk-F67JXMIH.js";import"./chunk-K2ZTZ6NN.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-YAUMUHNT.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{g as mi}from"./chunk-E6HTCO4C.js";var Wn=tt("Haptics",{web:()=>import("./chunk-FHAZAMUM.js").then(o=>new o.HapticsWeb)});var hi=o=>({"grid-template-columns":o});function gi(o,s){if(o&1){let t=x();a(0,"button",4),m("pointerdown",function(){let n=u(t),i=n.$implicit,d=n.$index,f=p().$index,I=p(2);return h(I.onButtonPress(i,f,d))}),_(1,"div",5),a(2,"span",6),l(3),r()()}if(o&2){let t=s.$implicit,e=s.$index,n=p(),i=n.$implicit,d=n.$index,f=p(2);k("pill-button-first",e===0)("pill-button-last",e===i.length-1)("is-pressed",f.getButtonState(d,e)==="pressed"),W("aria-label","Input "+t),c(),g("@buttonGlow",f.getGlowState(d,e)),c(2),C(t)}}function fi(o,s){if(o&1&&(a(0,"div",2),M(1,gi,4,9,"button",3,Y),r()),o&2){let t=s.$implicit;c(),O(t)}}function _i(o,s){if(o&1&&(a(0,"div",0),M(1,fi,3,0,"div",2,Y),r()),o&2){let t=p();c(),O(t.buttonRows)}}function bi(o,s){if(o&1){let t=x();a(0,"button",9),m("pointerdown",function(){let n=u(t),i=n.$implicit,d=n.$index,f=p().$index,I=p(2);return h(I.onButtonPress(i,f,d))}),_(1,"div",5),a(2,"span",10),l(3),r()()}if(o&2){let t=s.$implicit,e=s.$index,n=p().$index,i=p(2);k("clear-button",t==="C")("is-pressed",i.getButtonState(n,e)==="pressed"),W("aria-label",t==="C"?"Clear input":"Input "+t),c(),g("@buttonGlow",i.getGlowState(n,e)),c(2),C(t)}}function xi(o,s){if(o&1&&(ze(0,7),M(1,bi,4,7,"button",8,Y),We()),o&2){let t=s.$implicit;c(),O(t)}}function Ci(o,s){if(o&1&&(a(0,"div",1),M(1,xi,3,0,"ng-container",7,Y),r()),o&2){let t=p();g("ngStyle",U(1,hi,t.getGridTemplateColumns())),c(),O(t.buttonRows)}}var Un=(()=>{let s=class s{constructor(){this.clear=new E,this.inputChange=new E,this.buttonRows=[],this.buttonStates={},this.glowStates={},this.isReducedMotion=!1,this.activeTimeouts=new Set}ngOnInit(){this.isReducedMotion=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}ngOnDestroy(){this.activeTimeouts.forEach(e=>clearTimeout(e)),this.activeTimeouts.clear()}async triggerHaptic(e){try{await Wn.impact({style:e})}catch{}}clearTapped(){this.clear.emit(),this.triggerHaptic(Ct.Medium)}inputTapped(e){this.inputChange.emit(e),this.triggerHaptic(Ct.Light)}get isPillMode(){return this.buttonRows.length>0&&this.buttonRows.every(e=>e.length===2)}getGridTemplateColumns(){var e;return`repeat(${((e=this.buttonRows[0])==null?void 0:e.length)||1}, 1fr)`}getButtonId(e,n){return`btn-${e}-${n}`}getButtonState(e,n){let i=this.getButtonId(e,n);return this.buttonStates[i]||"normal"}getGlowState(e,n){let i=this.getButtonId(e,n);return this.glowStates[i]||"inactive"}onButtonPress(e,n,i){let d=this.getButtonId(n,i);this.buttonStates[d]="pressed",this.glowStates[d]="active";let f=this.isReducedMotion?0:70,I=this.isReducedMotion?0:160,ae=setTimeout(()=>{this.buttonStates[d]="normal",this.activeTimeouts.delete(ae)},f);this.activeTimeouts.add(ae);let ee=setTimeout(()=>{this.glowStates[d]="inactive",this.activeTimeouts.delete(ee)},I);this.activeTimeouts.add(ee),e==="C"?this.clearTapped():this.inputTapped(e)}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-calculator-input"]],inputs:{buttonRows:"buttonRows"},outputs:{clear:"clear",inputChange:"inputChange"},decls:2,vars:1,consts:[[1,"flex","flex-col","gap-2"],[1,"grid","gap-2",3,"ngStyle"],[1,"pill-container"],["type","button",1,"pill-button",3,"pill-button-first","pill-button-last","is-pressed"],["type","button",1,"pill-button",3,"pointerdown"],[1,"glow-overlay"],[1,"button-text-sm"],["ngProjectAs","div.contents",5,["div",8,"contents"]],["type","button",1,"calc-input-key",3,"clear-button","is-pressed"],["type","button",1,"calc-input-key",3,"pointerdown"],[1,"button-text"]],template:function(n,i){n&1&&b(0,_i,3,0,"div",0)(1,Ci,3,3,"div",1),n&2&&v(i.isPillMode?0:1)},dependencies:[R,Gt],styles:['.calc-input-key[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;min-height:42px;min-width:42px;position:relative;border-radius:var(--calc-radius-md);border:none;background:transparent;color:var(--calc-text-strong)}.calc-input-key[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;background:var(--calc-surface-raised);box-shadow:inset 0 1px color-mix(in oklab,white 60%,transparent),inset 0 -1px color-mix(in oklab,var(--calc-border-subtle) 70%,transparent);pointer-events:none}.calc-input-key[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:3px;border-radius:calc(var(--calc-radius-md) - 2px);border:1px solid var(--calc-border-strong);background:linear-gradient(to bottom,color-mix(in oklab,var(--calc-surface-raised) 84%,var(--calc-accent) 16%),color-mix(in oklab,var(--calc-surface-2) 80%,var(--calc-accent) 20%));box-shadow:0 1px color-mix(in oklab,white 62%,transparent) inset,0 7px 12px -6px color-mix(in oklab,#0f172a 36%,transparent),0 3px 6px -4px color-mix(in oklab,#0f172a 25%,transparent);transition:transform .12s cubic-bezier(.34,1.56,.64,1),box-shadow .12s cubic-bezier(.34,1.56,.64,1),filter .12s cubic-bezier(.34,1.56,.64,1);pointer-events:none}.calc-input-key.is-pressed[_ngcontent-%COMP%]:after, .calc-input-key[_ngcontent-%COMP%]:active:after{transform:translateY(2px) scale(.97);filter:brightness(.95);box-shadow:0 1px color-mix(in oklab,white 30%,transparent) inset,0 1px 2px color-mix(in oklab,#0f172a 25%,transparent);transition-duration:.06s}.calc-input-key[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1;font-size:1rem;font-weight:400;letter-spacing:.01em;transition:transform .12s cubic-bezier(.34,1.56,.64,1)}.calc-input-key.is-pressed[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], .calc-input-key[_ngcontent-%COMP%]:active   .button-text[_ngcontent-%COMP%]{transform:translateY(2px) scale(.97);transition-duration:.06s}.pill-container[_ngcontent-%COMP%]{display:flex;border-radius:var(--calc-radius-md);overflow:hidden;border:1px solid var(--calc-border-subtle);background:linear-gradient(145deg,color-mix(in oklab,var(--calc-surface-3) 88%,var(--calc-accent) 12%),color-mix(in oklab,var(--calc-surface-raised) 90%,var(--calc-accent) 10%));box-shadow:var(--calc-shadow-sm)}.pill-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;flex:1;min-height:42px;position:relative;overflow:hidden;border:none;background:transparent;color:var(--calc-text-strong);transition:background-color var(--calc-motion-fast) var(--calc-motion-ease)}.pill-button.is-pressed[_ngcontent-%COMP%], .pill-button[_ngcontent-%COMP%]:active{background:color-mix(in oklab,var(--calc-info-bg) 86%,var(--calc-accent) 14%)}.pill-button-first[_ngcontent-%COMP%]{border-right:1px solid var(--calc-border-subtle);border-radius:var(--calc-radius-md) 0 0 var(--calc-radius-md)}.pill-button-last[_ngcontent-%COMP%]{border-radius:0 var(--calc-radius-md) var(--calc-radius-md) 0}.glow-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,rgba(255,255,255,.36) 0%,rgba(255,255,255,.1) 50%,transparent 100%);border-radius:inherit;pointer-events:none}.clear-button[_ngcontent-%COMP%]:after{border-color:color-mix(in oklab,var(--calc-danger) 52%,transparent);background:linear-gradient(to bottom,color-mix(in oklab,var(--calc-danger) 32%,var(--calc-surface-3)),color-mix(in oklab,var(--calc-danger) 20%,var(--calc-surface-2)))}.clear-button.is-pressed[_ngcontent-%COMP%]:after, .clear-button[_ngcontent-%COMP%]:active:after{filter:brightness(.88)}.button-text[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1;font-size:1rem;font-weight:400;letter-spacing:.01em}.button-text-sm[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1;font-size:.8rem;font-weight:400;letter-spacing:.01em}@media (prefers-reduced-motion: reduce){.calc-input-key[_ngcontent-%COMP%]:after{transition:none}.calc-input-key.is-pressed[_ngcontent-%COMP%]:after, .calc-input-key[_ngcontent-%COMP%]:active:after{transform:none}.calc-input-key[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{transition:none}.calc-input-key.is-pressed[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], .calc-input-key[_ngcontent-%COMP%]:active   .button-text[_ngcontent-%COMP%]{transform:none}}'],data:{animation:[De("buttonGlow",[Ge("inactive",me({opacity:0,transform:"scale(0)"})),Ge("active",me({opacity:.18,transform:"scale(1.8)"})),Ce("inactive => active",xe("85ms ease-out")),Ce("active => inactive",xe("120ms ease-out"))])]}});let o=s;return o})();function yi(o,s){if(o&1){let t=x();a(0,"div",14)(1,"ion-button",16),m("click",function(){u(t);let n=p();return h(n.onClearAdjustment())}),l(2," Remove "),r(),a(3,"ion-button",17),m("click",function(){u(t);let n=p();return h(n.applyAdjustment())}),l(4," Apply "),r()()}if(o&2){let t=p();c(3),g("disabled",t.applyDisabled())}}function ki(o,s){if(o&1){let t=x();a(0,"div",15)(1,"ion-button",17),m("click",function(){u(t);let n=p();return h(n.applyAdjustment())}),l(2," Apply "),r()()}if(o&2){let t=p();c(),g("disabled",t.applyDisabled())}}var Kn=(()=>{let s=class s{constructor(){this.modalCtrl=A(q),this.toastCtrl=A(en),this.store=A(se),this.heatAdjustment=this.store.selectSignal(dt),this.temperature="",this.dewPoint="",this.temperatureType="c",this.applyDisabled=B(!0),this.hasAppliedAdjustment=B(!1),F({arrowBackOutline:X})}fToC(e){return((e-32)*5/9).toFixed(1).replace(/\.0$/,"")}cToF(e){return(e*9/5+32).toFixed(1).replace(/\.0$/,"")}ngAfterViewInit(){this.temperature=this.heatAdjustment().temperature,this.dewPoint=this.heatAdjustment().dewPoint,this.temperatureType=this.heatAdjustment().temperatureType,this.hasAppliedAdjustment.set(this.temperature.trim().length>0&&this.dewPoint.trim().length>0),this.checkInput()}dismiss(){this.modalCtrl.dismiss()}applyAdjustment(){this.modalCtrl.dismiss({temperatureType:this.temperatureType,temperature:this.temperature,dewPoint:this.dewPoint})}onClearAdjustment(){this.modalCtrl.dismiss({temperatureType:"c",temperature:"",dewPoint:""})}temperatureTypeChanged(e){this.temperatureType=e.detail.value,this.temperatureType==="f"?(this.temperature=this.cToF(Number(this.temperature)),this.dewPoint=this.cToF(Number(this.dewPoint))):(this.temperature=this.fToC(Number(this.temperature)),this.dewPoint=this.fToC(Number(this.dewPoint)))}async checkInput(){if(!Number(this.temperature)||!Number(this.dewPoint))return;let e=this.temperatureType==="f"?Number(this.temperature):Number(this.temperature)*9/5+32,n=this.temperatureType==="f"?Number(this.dewPoint):Number(this.dewPoint)*9/5+32,i=e+n>180;this.applyDisabled.set(i),i&&(await this.toastCtrl.create({message:"Heat Index is too high, running not recommended",duration:5e3,color:"danger",position:"top"})).present()}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-heat-adjustment-modal"]],decls:21,vars:4,consts:[[1,"heat-header","safe-area-inline"],[1,"heat-toolbar"],["slot","start"],["aria-label","Back to calculator","fill","clear",1,"heat-back-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"ion-padding","safe-area-content"],[1,"mx-auto","flex","max-w-md","flex-col","gap-4","py-4"],[1,"calc-surface-card","flex","flex-col","gap-4","px-3","py-3","mx-3"],["href","https://maximumperformancerunning.blogspot.com/2013/07/temperature-dew-point.html","target","_blank",1,"calc-link-action"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","c"],["value","f"],["required","","mode","md","label","Temperature","label-placement","stacked","inputmode","decimal","fill","outline",3,"ngModelChange","ionInput","ngModel"],["required","","mode","md","label","Dew Point","label-placement","stacked","inputmode","decimal","fill","outline",3,"ngModelChange","ionInput","ngModel"],[1,"heat-actions","mb-1","mt-1","grid","grid-cols-2","gap-3"],[1,"heat-actions","mb-1","mt-1"],["fill","outline",1,"heat-action-btn","heat-remove-btn","w-full",3,"click"],["fill","solid",1,"heat-action-btn","heat-apply-btn","w-full",3,"click","disabled"]],template:function(n,i){n&1&&(a(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),m("click",function(){return i.dismiss()}),_(4,"ion-icon",4),r()(),a(5,"ion-title"),l(6,"Apply Heat Adjustment"),r()()(),a(7,"ion-content",5)(8,"div",6)(9,"div",7)(10,"a",8),l(11," How does this work? "),r(),a(12,"ion-segment",9),m("ionChange",function(f){return i.temperatureTypeChanged(f)}),a(13,"ion-segment-button",10),l(14," Celsius "),r(),a(15,"ion-segment-button",11),l(16," Fahrenheit "),r()(),a(17,"ion-input",12),xt("ngModelChange",function(f){return bt(i.temperature,f)||(i.temperature=f),f}),m("ionInput",function(){return i.checkInput()}),r(),a(18,"ion-input",13),xt("ngModelChange",function(f){return bt(i.dewPoint,f)||(i.dewPoint=f),f}),m("ionInput",function(){return i.checkInput()}),r(),b(19,yi,5,1,"div",14)(20,ki,3,1,"div",15),r()()()),n&2&&(c(12),g("value",i.temperatureType),c(5),_t("ngModel",i.temperature),c(),_t("ngModel",i.dewPoint),c(),v(i.hasAppliedAdjustment()?19:20))},dependencies:[R,Ye,Xe,Je,Ze,ie,Q,G,ve,qe,Qt,Qe,K,Te,D],styles:[".heat-header[_ngcontent-%COMP%]{border-bottom:1px solid color-mix(in oklab,var(--calc-border-subtle) 80%,transparent)}.heat-toolbar[_ngcontent-%COMP%]{--background: color-mix(in oklab, var(--calc-surface-raised) 86%, var(--calc-accent) 14%);--color: var(--calc-text-strong)}.heat-back-btn[_ngcontent-%COMP%]{--color: var(--calc-text-strong)}ion-input[_ngcontent-%COMP%]{--border-color: color-mix(in oklab, var(--calc-text-muted) 40%, transparent);--highlight-color-focused: var(--calc-accent-strong);--highlight-color-valid: var(--calc-accent-strong);--color: var(--calc-text-strong)}.heat-action-btn[_ngcontent-%COMP%]{--text-transform: none;text-transform:none;min-height:44px}.heat-remove-btn[_ngcontent-%COMP%]{--color: var(--calc-text-strong);--border-color: var(--calc-border-strong);--border-radius: var(--calc-radius-md);--background: transparent}.heat-apply-btn[_ngcontent-%COMP%]{--color: #ffffff;--background: var(--calc-accent-strong);--background-hover: color-mix(in oklab, var(--calc-accent-strong) 88%, black);--background-activated: color-mix(in oklab, var(--calc-accent-strong) 82%, black);--border-radius: var(--calc-radius-md)}.heat-action-btn[_ngcontent-%COMP%]::part(native){text-transform:none;letter-spacing:normal}"]});let o=s;return o})();var St=tt("Share",{web:()=>import("./chunk-7RW3IWG3.js").then(o=>new o.ShareWeb)});var Fe="HAS_SEEN_ONBOARDING_v2";var Pi=["scrollContainer"];function wi(o,s){if(o&1&&_(0,"div",24),o&2){let t=s.index,e=p();k("w-6",e.currentSlide===t)("onboarding-dot-active",e.currentSlide===t)("w-2",e.currentSlide!==t)("onboarding-dot-idle",e.currentSlide!==t)}}function Ti(o,s){if(o&1){let t=x();a(0,"div",25)(1,"ion-button",26),m("click",function(){u(t);let n=p();return h(n.dismiss())}),l(2," Skip "),r(),a(3,"ion-button",27),m("click",function(){u(t);let n=p();return h(n.nextSlide())}),l(4," Next "),_(5,"ion-icon",28),r()()}}function Si(o,s){if(o&1){let t=x();a(0,"div",29)(1,"ion-button",30),m("click",function(){u(t);let n=p();return h(n.finish())}),l(2," Let's Go "),_(3,"ion-icon",28),r()()}}var ut=(()=>{let s=class s{get tutorialHeroSrc(){let e=document.documentElement.dataset.theme;return e==="dark"?"assets/tutorial_dark.svg":e==="light"?"assets/tutorial.svg":this.darkModeMediaQuery.matches?"assets/tutorial_dark.svg":"assets/tutorial.svg"}constructor(){this.modalCtrl=A(q),this.darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.slides=[0,1,2,3],this.currentSlide=0,F({calculatorOutline:nt,pinOutline:lt,flameOutline:pn,shieldCheckmark:st,arrowForwardOutline:on})}onScroll(e){let n=e.target,i=Math.round(n.scrollLeft/n.clientWidth);i!==this.currentSlide&&(this.currentSlide=i)}nextSlide(){if(this.currentSlide<this.slides.length-1){let e=this.scrollContainer.nativeElement,n=(this.currentSlide+1)*e.clientWidth;e.scrollTo({left:n,behavior:"smooth"})}}async finish(){await ue.set({key:Fe,value:"true"}),this.modalCtrl.dismiss()}async dismiss(){await ue.set({key:Fe,value:"true"}),this.modalCtrl.dismiss()}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-onboarding-modal"]],viewQuery:function(n,i){if(n&1&&ce(Pi,5),n&2){let d;pe(d=de())&&(i.scrollContainer=d.first)}},decls:46,vars:4,consts:[["scrollContainer",""],["scroll-y","false",1,"ion-padding","safe-area-content"],[1,"flex","h-full","flex-col"],[1,"hide-scrollbar","flex","flex-1","snap-x","snap-mandatory","overflow-x-auto","scroll-smooth","transition-all",3,"scroll"],[1,"onboarding-slide","onboarding-slide-info","flex","w-full","shrink-0","snap-center","flex-col","items-center","justify-center","px-6"],[1,"onboarding-hero-shell","mb-8","w-full"],["alt","Interactive tutorial preview","loading","eager",1,"onboarding-hero-image",3,"src"],[1,"mb-4","text-center","text-2xl","font-bold","text-[var(--calc-text-strong)]"],[1,"calc-muted-copy","text-center"],[1,"text-[var(--calc-text-strong)]"],[1,"onboarding-slide","onboarding-slide-success","flex","w-full","shrink-0","snap-center","flex-col","items-center","justify-center","px-6"],[1,"onboarding-icon-shell","onboarding-icon-shell-success","mb-10","flex","h-32","w-32","items-center","justify-center","rounded-full"],["name","calculator-outline",1,"onboarding-icon","text-6xl"],[1,"onboarding-slide","onboarding-slide-warning","flex","w-full","shrink-0","snap-center","flex-col","items-center","justify-center","px-6"],[1,"onboarding-icon-shell","onboarding-icon-shell-warning","mb-10","flex","h-32","w-32","items-center","justify-center","rounded-full"],["name","flame-outline",1,"onboarding-icon","text-6xl"],[1,"onboarding-slide","onboarding-slide-privacy","flex","w-full","shrink-0","snap-center","flex-col","items-center","justify-center","px-6"],[1,"onboarding-icon-shell","onboarding-icon-shell-privacy","mb-10","flex","h-32","w-32","items-center","justify-center","rounded-full"],["name","shield-checkmark",1,"onboarding-icon","text-6xl"],[1,"mt-auto","px-4","pb-8","pt-4"],[1,"mb-8","flex","justify-center","gap-2"],["class","onboarding-dot h-2 rounded-full transition-all duration-300",3,"w-6","onboarding-dot-active","w-2","onboarding-dot-idle",4,"ngFor","ngForOf"],["class","flex items-center justify-between",4,"ngIf"],["class","flex w-full items-center justify-center",4,"ngIf"],[1,"onboarding-dot","h-2","rounded-full","transition-all","duration-300"],[1,"flex","items-center","justify-between"],["fill","clear","color","medium",3,"click"],["shape","round",3,"click"],["slot","end","name","arrow-forward-outline"],[1,"flex","w-full","items-center","justify-center"],["shape","round","color","primary",1,"w-full",3,"click"]],template:function(n,i){if(n&1){let d=x();a(0,"ion-content",1)(1,"div",2)(2,"div",3,0),m("scroll",function(I){return u(d),h(i.onScroll(I))}),a(4,"div",4)(5,"div",5),_(6,"img",6),r(),a(7,"h2",7),l(8,"Pace, Time, Distance"),r(),a(9,"p",8),l(10," Enter any two values. "),a(11,"strong",9),l(12,"Pin"),r(),l(13," the one you want fixed, then edit another value and Stridemate calculates the third instantly. "),r()(),a(14,"div",10)(15,"div",11),_(16,"ion-icon",12),r(),a(17,"h2",7),l(18,"Predict & Strategize"),r(),a(19,"p",8),l(20," Use the "),a(21,"strong",9),l(22,"Race Predictor"),r(),l(23," to estimate finish times for distances up to 100mi, and generate detailed split tables. "),r()(),a(24,"div",13)(25,"div",14),_(26,"ion-icon",15),r(),a(27,"h2",7),l(28,"Advanced Pacing"),r(),a(29,"p",8),l(30," Adjust expected pace based on "),a(31,"strong",9),l(32,"Heat and Humidity"),r(),l(33,", or use the pacing slider to model perfect negative splits. "),r()(),a(34,"div",16)(35,"div",17),_(36,"ion-icon",18),r(),a(37,"h2",7),l(38,"100% Offline & Private"),r(),a(39,"p",8),l(40," No accounts. No ads. No tracking. Your data stays completely on your device. Let's start running. "),r()()(),a(41,"div",19)(42,"div",20),b(43,wi,1,8,"div",21),r(),b(44,Ti,6,0,"div",22)(45,Si,4,0,"div",23),r()()()}n&2&&(c(6),g("src",i.tutorialHeroSrc,Le),c(37),g("ngForOf",i.slides),c(),g("ngIf",i.currentSlide<i.slides.length-1),c(),g("ngIf",i.currentSlide===i.slides.length-1))},dependencies:[R,Ue,Ke,ie,K,D],styles:[".hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.onboarding-icon-shell[_ngcontent-%COMP%]{border:1px solid var(--calc-border-subtle);box-shadow:var(--calc-shadow-sm)}.onboarding-hero-shell[_ngcontent-%COMP%]{max-width:360px;border-radius:18px;padding:.35rem;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 74%,transparent);background:linear-gradient(150deg,color-mix(in oklab,var(--calc-info-bg) 52%,var(--calc-surface-raised)),color-mix(in oklab,var(--calc-surface-1) 86%,white 14%));box-shadow:var(--calc-shadow-sm)}.onboarding-hero-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:14px;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 58%,transparent)}.onboarding-icon[_ngcontent-%COMP%]{color:var(--calc-accent-strong)}.onboarding-slide[_ngcontent-%COMP%]{margin-inline:auto;max-width:420px;border-radius:var(--calc-radius-lg);border:1px solid color-mix(in oklab,var(--calc-border-subtle) 80%,transparent);box-shadow:var(--calc-shadow-sm);padding-top:1.4rem;padding-bottom:1.4rem}@media (min-width: 600px){.onboarding-slide[_ngcontent-%COMP%]{width:100%;min-width:100%;max-width:none;margin-inline:0}}.onboarding-slide-info[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-info-bg) 84%,#dbeafe 16%),color-mix(in oklab,var(--calc-surface-1) 90%,white 10%))}.onboarding-slide-success[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-success-bg) 84%,#dcfce7 16%),color-mix(in oklab,var(--calc-surface-1) 90%,white 10%))}.onboarding-slide-warning[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-warning-bg) 84%,#ffedd5 16%),color-mix(in oklab,var(--calc-surface-1) 90%,white 10%))}.onboarding-slide-privacy[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-privacy-bg) 84%,#ede9fe 16%),color-mix(in oklab,var(--calc-surface-1) 90%,white 10%))}.onboarding-icon-shell-info[_ngcontent-%COMP%]{background:linear-gradient(160deg,color-mix(in oklab,var(--calc-info-bg) 76%,#bfdbfe 24%),color-mix(in oklab,var(--calc-surface-raised) 90%,#dbeafe 10%))}.onboarding-icon-shell-success[_ngcontent-%COMP%]{background:linear-gradient(160deg,color-mix(in oklab,var(--calc-success-bg) 78%,#86efac 22%),color-mix(in oklab,var(--calc-surface-raised) 90%,#dcfce7 10%))}.onboarding-icon-shell-warning[_ngcontent-%COMP%]{background:linear-gradient(160deg,color-mix(in oklab,var(--calc-warning-bg) 78%,#fdba74 22%),color-mix(in oklab,var(--calc-surface-raised) 90%,#ffedd5 10%))}.onboarding-icon-shell-privacy[_ngcontent-%COMP%]{background:linear-gradient(160deg,color-mix(in oklab,var(--calc-privacy-bg) 78%,#c4b5fd 22%),color-mix(in oklab,var(--calc-surface-raised) 90%,#ede9fe 10%))}.onboarding-dot-active[_ngcontent-%COMP%]{background:var(--calc-accent)}.onboarding-dot-idle[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-text-muted) 24%,transparent)}.dark[_nghost-%COMP%]   .onboarding-hero-shell[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-hero-shell[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#60a5fa 34%,transparent);background:linear-gradient(150deg,color-mix(in oklab,var(--calc-info-bg) 72%,#1d4ed8 28%),color-mix(in oklab,var(--calc-surface-2) 86%,#0f172a 14%))}.dark[_nghost-%COMP%]   .onboarding-slide[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-slide[_ngcontent-%COMP%]{border-color:color-mix(in oklab,var(--calc-accent) 36%,transparent)}.dark[_nghost-%COMP%]   .onboarding-slide-info[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-slide-info[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-info-bg) 74%,#1d4ed8 26%),color-mix(in oklab,var(--calc-surface-2) 86%,#0f172a 14%));box-shadow:0 10px 24px color-mix(in oklab,#2563eb 20%,transparent)}.dark[_nghost-%COMP%]   .onboarding-slide-success[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-slide-success[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-success-bg) 76%,#059669 24%),color-mix(in oklab,var(--calc-surface-2) 86%,#0f172a 14%));box-shadow:0 10px 24px color-mix(in oklab,#059669 20%,transparent)}.dark[_nghost-%COMP%]   .onboarding-slide-warning[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-slide-warning[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-warning-bg) 76%,#ea580c 24%),color-mix(in oklab,var(--calc-surface-2) 86%,#0f172a 14%));box-shadow:0 10px 24px color-mix(in oklab,#ea580c 20%,transparent)}.dark[_nghost-%COMP%]   .onboarding-slide-privacy[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-slide-privacy[_ngcontent-%COMP%]{background:linear-gradient(150deg,color-mix(in oklab,var(--calc-privacy-bg) 76%,#7c3aed 24%),color-mix(in oklab,var(--calc-surface-2) 86%,#0f172a 14%));box-shadow:0 10px 24px color-mix(in oklab,#7c3aed 20%,transparent)}.dark[_nghost-%COMP%]   .onboarding-icon-shell-info[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-icon-shell-info[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#60a5fa 48%,transparent);background:linear-gradient(160deg,color-mix(in oklab,var(--calc-info-bg) 74%,#2563eb 26%),color-mix(in oklab,var(--calc-surface-2) 84%,#0f172a 16%))}.dark[_nghost-%COMP%]   .onboarding-icon-shell-success[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-icon-shell-success[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#34d399 44%,transparent);background:linear-gradient(160deg,color-mix(in oklab,var(--calc-success-bg) 74%,#059669 26%),color-mix(in oklab,var(--calc-surface-2) 84%,#0f172a 16%))}.dark[_nghost-%COMP%]   .onboarding-icon-shell-warning[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-icon-shell-warning[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#fb923c 44%,transparent);background:linear-gradient(160deg,color-mix(in oklab,var(--calc-warning-bg) 74%,#ea580c 26%),color-mix(in oklab,var(--calc-surface-2) 84%,#0f172a 16%))}.dark[_nghost-%COMP%]   .onboarding-icon-shell-privacy[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-icon-shell-privacy[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#a78bfa 44%,transparent);background:linear-gradient(160deg,color-mix(in oklab,var(--calc-privacy-bg) 74%,#7c3aed 26%),color-mix(in oklab,var(--calc-surface-2) 84%,#0f172a 16%))}.dark[_nghost-%COMP%]   .onboarding-dot-idle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .onboarding-dot-idle[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-text-muted) 42%,transparent)}"]});let o=s;return o})();function Mi(o,s){if(o&1){let t=x();a(0,"button",40),m("click",function(){let n=u(t).$implicit,i=p();return h(i.onAccentChange(n.id))}),_(1,"span",41),a(2,"span",21),l(3),r()()}if(o&2){let t=s.$implicit,e=p();k("accent-preset-btn-active",e.appAccent()===t.id),c(),Ne("background",t.light.accent),c(2),C(t.label)}}var Gn=(()=>{let s=class s{constructor(){this.store=A(se),this.modalCtrl=A(q),this.isAndroid=nn.getPlatform()==="android",this.websiteUrl="https://shiv19.com/stridemate",this.playStoreUrl="https://play.google.com/store/apps/details?id=com.shiv19.stridemate",this.accentPresets=vn,this.rateAppUrl=this.isAndroid?this.playStoreUrl:this.websiteUrl,this.shareAppUrl=this.isAndroid?this.playStoreUrl:this.websiteUrl,this.appTheme=this.store.selectSignal(ct),this.appAccent=this.store.selectSignal(pt),F({heart:ot,shieldCheckmark:st,mailOutline:hn,playCircleOutline:_n,arrowBackOutline:X,informationCircleOutline:rt,shareSocialOutline:xn,starOutline:Cn})}async showLockInfo(){this.dismiss(),await(await this.modalCtrl.create({component:zn,componentProps:{lockType:"all"},initialBreakpoint:.8,breakpoints:[.8,1]})).present()}async replayTutorial(){this.dismiss(),await(await this.modalCtrl.create({component:ut,cssClass:"onboarding-fullscreen-modal"})).present()}dismiss(){this.modalCtrl.dismiss()}async shareApp(){let e={title:"Stridemate",text:"Check out Stridemate, a fast offline pace calculator for runners.",url:this.shareAppUrl,dialogTitle:"Share Stridemate"};try{let{value:n}=await St.canShare();if(n){await St.share(e);return}}catch{}window.open(`mailto:?subject=${encodeURIComponent("Stridemate")}&body=${encodeURIComponent(`Check out Stridemate: ${this.shareAppUrl}`)}`,"_blank")}onThemeChange(e){let n=e.detail.value;n&&this.store.dispatch(T.setAppTheme({appTheme:n}))}onAccentChange(e){this.store.dispatch(T.setAppAccent({appAccent:e}))}trackAccent(e,n){return n.id}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-about-modal"]],decls:79,vars:4,consts:[[1,"about-header","safe-area-inline"],[1,"about-toolbar"],["slot","start"],["aria-label","Back to calculator","fill","clear",1,"about-back-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"ion-padding","safe-area-content"],[1,"mx-auto","flex","max-w-md","flex-col","gap-6","py-4"],[1,"text-center"],[1,"text-2xl","font-bold"],[1,"calc-muted-copy","text-sm"],[1,"flex","flex-col","gap-3"],[1,"calc-shell-subtle","mx-4","rounded-lg","p-3"],[1,"calc-muted-copy","mb-2","block","text-sm","font-semibold"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","system"],["value","light"],["value","dark"],[1,"grid","grid-cols-2","gap-2"],["type","button","class","accent-preset-btn",3,"accent-preset-btn-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"calc-cta-secondary","mx-4","flex","items-center","justify-center","gap-2","p-3","transition-opacity","active:opacity-80",3,"click"],["name","information-circle-outline",1,"text-xl"],[1,"font-semibold"],["name","play-circle-outline",1,"text-xl"],["href","https://ko-fi.com/shiv19","target","_blank","rel","noopener noreferrer",1,"mx-4","flex","items-center","justify-center","gap-2","rounded-lg","bg-[#FF5E5B]","p-3","text-white","transition-opacity","active:opacity-80"],["name","heart"],[1,"mx-4","grid","grid-cols-2","gap-2"],["target","_blank","rel","noopener noreferrer",1,"calc-cta-secondary","flex","items-center","justify-center","gap-2","p-3","text-center","transition-opacity","active:opacity-80",3,"href"],["name","star-outline"],["type","button",1,"calc-cta-secondary","flex","items-center","justify-center","gap-2","p-3","text-center","transition-opacity","active:opacity-80",3,"click"],["name","share-social-outline"],[1,"mx-4","flex","flex-col","gap-2"],["href","mailto:sp@shiv19.com?subject=Stridemate%20Feedback",1,"calc-cta-secondary","flex","items-center","justify-center","gap-2","p-3","transition-opacity","active:opacity-80"],["name","mail-outline"],["href","https://shiv19.com/stridemate/privacy","target","_blank","rel","noopener noreferrer",1,"calc-cta-secondary","flex","items-center","justify-center","gap-2","p-3","transition-opacity","active:opacity-80"],["name","shield-checkmark"],[1,"calc-shell-subtle","mx-4","rounded-lg","p-4"],[1,"mb-3","text-sm","leading-relaxed"],[1,"text-sm","leading-relaxed"],["name","heart",1,"text-red-500"],["href","https://shiv19.com","target","_blank",1,"calc-link-action"],["type","button",1,"accent-preset-btn",3,"click"],[1,"accent-preset-dot"]],template:function(n,i){n&1&&(a(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),m("click",function(){return i.dismiss()}),_(4,"ion-icon",4),r()(),a(5,"ion-title"),l(6,"About"),r()()(),a(7,"ion-content",5)(8,"div",6)(9,"div",7)(10,"h1",8),l(11,"Stridemate"),r(),a(12,"p",9),l(13,"Version 1.2.3"),r()(),a(14,"div",10)(15,"div",11)(16,"ion-label",12),l(17,"Theme"),r(),a(18,"ion-segment",13),m("ionChange",function(f){return i.onThemeChange(f)}),a(19,"ion-segment-button",14)(20,"ion-label"),l(21,"System"),r()(),a(22,"ion-segment-button",15)(23,"ion-label"),l(24,"Light"),r()(),a(25,"ion-segment-button",16)(26,"ion-label"),l(27,"Dark"),r()()()(),a(28,"div",11)(29,"ion-label",12),l(30,"Accent"),r(),a(31,"div",17),b(32,Mi,4,5,"button",18),r()(),a(33,"button",19),m("click",function(){return i.showLockInfo()}),_(34,"ion-icon",20),a(35,"span",21),l(36,"How Pinning Works"),r()(),a(37,"button",19),m("click",function(){return i.replayTutorial()}),_(38,"ion-icon",22),a(39,"span",21),l(40,"Replay Tutorial"),r()(),a(41,"a",23),_(42,"ion-icon",24),a(43,"span",21),l(44,"Support on Ko-fi"),r()(),a(45,"div",25)(46,"a",26),_(47,"ion-icon",27),a(48,"span",21),l(49,"Rate App"),r()(),a(50,"button",28),m("click",function(){return i.shareApp()}),_(51,"ion-icon",29),a(52,"span",21),l(53,"Share App"),r()()()(),a(54,"div",30)(55,"a",31),_(56,"ion-icon",32),a(57,"span",21),l(58,"Send Feedback"),r()(),a(59,"a",33),_(60,"ion-icon",34),a(61,"span",21),l(62,"Privacy Policy"),r()()(),a(63,"div",35)(64,"p",36),l(65," I built Stridemate before the era of AI assistants."),_(66,"br"),l(67," As a runner, I was frustrated with existing pace calculators - they all required too many taps to do simple conversions. "),r(),a(68,"p",36),l(69," I wanted something that would let me instantly switch between km and mile paces, calculate splits, and adjust for heat - all without fighting with a tiny keyboard. "),r(),a(70,"p",37),l(71," This app solves my own problem, and I hope it helps you too. It's completely free, works offline, and respects your privacy - no tracking, no ads, no data collection. "),r()(),a(72,"div",7)(73,"p",9),l(74," Made with "),_(75,"ion-icon",38),l(76," by "),a(77,"a",39),l(78," Shiva Prasad "),r()()()()()),n&2&&(c(18),g("value",i.appTheme()),c(14),g("ngForOf",i.accentPresets)("ngForTrackBy",i.trackAccent),c(14),g("href",i.rateAppUrl,Le))},dependencies:[R,Ue,Ye,Xe,Je,Ze,ie,K,D,N,Q,G],styles:[".about-header[_ngcontent-%COMP%]{border-bottom:1px solid color-mix(in oklab,var(--calc-border-subtle) 80%,transparent)}.about-toolbar[_ngcontent-%COMP%]{--background: color-mix(in oklab, var(--calc-surface-raised) 86%, var(--calc-accent) 14%);--color: var(--calc-text-strong)}.about-back-btn[_ngcontent-%COMP%]{--color: var(--calc-text-strong)}.accent-preset-btn[_ngcontent-%COMP%]{align-items:center;background:var(--calc-surface-raised);border:1px solid var(--calc-border-subtle);border-radius:var(--calc-radius-md);color:var(--calc-text-strong);display:inline-flex;font-size:.75rem;gap:.5rem;justify-content:flex-start;min-height:40px;padding:.45rem .65rem}.accent-preset-btn-active[_ngcontent-%COMP%]{background:var(--calc-info-bg);border-color:var(--calc-border-strong)}.accent-preset-dot[_ngcontent-%COMP%]{border:1px solid color-mix(in oklab,var(--calc-text-strong) 20%,transparent);border-radius:9999px;height:.9rem;width:.9rem}"]});let o=s;return o})();var qn=(()=>{let s=class s{constructor(){this.activeTab="splits",this.activeTabChange=new E}onTabChange(e){this.activeTabChange.emit(e.detail.value)}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-focused-performance-tabs"]],inputs:{activeTab:"activeTab"},outputs:{activeTabChange:"activeTabChange"},decls:14,vars:1,consts:[[1,"px-2"],["mode","ios",1,"app-segment","p-[2px]",3,"ionChange","value"],["value","splits"],["value","training"],["value","lthr"],["value","blocks"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"ion-segment",1),m("ionChange",function(f){return i.onTabChange(f)}),a(2,"ion-segment-button",2)(3,"ion-label"),l(4,"Splits"),r()(),a(5,"ion-segment-button",3)(6,"ion-label"),l(7,"Paces"),r()(),a(8,"ion-segment-button",4)(9,"ion-label"),l(10,"LTHR"),r()(),a(11,"ion-segment-button",5)(12,"ion-label"),l(13,"Blocks"),r()()()()),n&2&&(c(),g("value",i.activeTab))},dependencies:[Q,G,N],encapsulation:2});let o=s;return o})();function Oi(o,s){if(o&1&&(a(0,"div",6)(1,"p",13)(2,"span",14),l(3,"Z1 Recovery:"),r(),l(4),r(),a(5,"p",13)(6,"span",14),l(7,"Z2 Aerobic:"),r(),l(8),r(),a(9,"p",13)(10,"span",14),l(11,"Z3 Tempo:"),r(),l(12),r(),a(13,"p",13)(14,"span",14),l(15,"Z4 Sub-threshold:"),r(),l(16),r(),a(17,"p",13)(18,"span",14),l(19,"Z5a Threshold:"),r(),l(20),r(),a(21,"p",13)(22,"span",14),l(23,"Z5b VO2max:"),r(),l(24),r(),a(25,"p",13)(26,"span",14),l(27,"Z5c Anaerobic:"),r(),l(28),r()()),o&2){let t=p(2);c(4),y(" ",t.lthrSummary.zones.z1,""),c(4),y(" ",t.lthrSummary.zones.z2,""),c(4),y(" ",t.lthrSummary.zones.z3,""),c(4),y(" ",t.lthrSummary.zones.z4,""),c(4),y(" ",t.lthrSummary.zones.z5a,""),c(4),y(" ",t.lthrSummary.zones.z5b,""),c(4),y(" ",t.lthrSummary.zones.z5c,"")}}function Ii(o,s){o&1&&(a(0,"p",12),l(1," Add LTHR bpm to view heart-rate zones. Threshold pace remains available without heart-rate data. "),r())}function Ei(o,s){if(o&1){let t=x();a(0,"div",6)(1,"div",7)(2,"p",8),l(3,"Threshold Pace /km"),r(),a(4,"p",9),l(5),r()(),a(6,"div",7)(7,"p",8),l(8,"Threshold Pace /mi"),r(),a(9,"p",9),l(10),r()()(),a(11,"div",10)(12,"ion-input",11),m("ionInput",function(n){u(t);let i=p();return h(i.onLthrInput(n))}),r(),b(13,Oi,29,7,"div",6)(14,Ii,2,0,"p",12),r()}if(o&2){let t=p();c(5),C(t.lthrSummary.thresholdPacePerKm),c(5),C(t.lthrSummary.thresholdPacePerMi),c(2),g("value",t.lthrBpm),c(),v(t.lthrSummary.hasLthrBpm&&t.lthrSummary.zones?13:14)}}var Qn=(()=>{let s=class s{constructor(){this.lthrSummary=null,this.lthrBpm="",this.lthrBpmChange=new E,this.openInfo=new E}onLthrInput(e){var i;let n=((i=e.detail.value)==null?void 0:i.toString())??"";this.lthrBpmChange.emit(n.replace(/[^0-9]/g,"").slice(0,3))}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-lthr-panel"]],inputs:{lthrSummary:"lthrSummary",lthrBpm:"lthrBpm"},outputs:{lthrBpmChange:"lthrBpmChange",openInfo:"openInfo"},decls:10,vars:1,consts:[[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"calc-surface-card","p-4"],[1,"mb-3"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-xs","text-[var(--calc-text-muted)]"],["type","button",1,"mt-1","text-sm","text-[var(--calc-accent)]","underline",3,"click"],[1,"mt-3","grid","grid-cols-1","gap-2","sm:grid-cols-2"],[1,"calc-shell-subtle","rounded-xl","p-3"],[1,"text-xs","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"text-xl","font-extrabold"],[1,"calc-shell-subtle","mt-4","rounded-xl","p-3"],["id","lthr-input","mode","md","type","number","min","0","max","260","label","Your LTHR (bpm)","labelPlacement","stacked","fill","outline","inputmode","numeric",3,"ionInput","value"],[1,"mt-3","text-sm","text-[var(--calc-text-muted)]"],[1,"text-sm"],[1,"font-semibold"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4," LTHR Pace Guidance "),r(),a(5,"p",4),l(6," LTHR anchors your zones to your actual physiology instead of age-based formulas. "),r(),a(7,"button",5),m("click",function(){return i.openInfo.emit()}),l(8," How to use this "),r()(),b(9,Ei,15,4),r()()),n&2&&(c(9),v(i.lthrSummary?9:-1))},dependencies:[R,Te],styles:["ion-input[_ngcontent-%COMP%]{--border-color: color-mix(in oklab, var(--calc-text-muted) 40%, transparent);--highlight-color-focused: var(--calc-accent-strong);--highlight-color-valid: var(--calc-accent-strong);--color: var(--calc-text-strong)}"]});let o=s;return o})();var Ri=(o,s)=>s.name,Vi=(o,s)=>s.week;function Bi(o,s){o&1&&(a(0,"div",1)(1,"p",2),l(2," Blocks supports 5K and longer. For shorter events, use Splits and Paces. "),r()())}function Ai(o,s){if(o&1&&(_(0,"br"),l(1)),o&2){let t=p().$implicit;c(),y("",t.taperReduction," ")}}function Di(o,s){if(o&1&&(a(0,"div",30)(1,"p",36),l(2),r(),a(3,"p",37),l(4),b(5,Ai,2,1),r()()),o&2){let t=s.$implicit;c(2),re("",t.name," (",t.weeks,"w)"),c(2),y(" Trend: ",t.volumeTrend," "),c(),v(t.taperReduction?5:-1)}}function Fi(o,s){if(o&1&&(a(0,"ion-row",38)(1,"ion-col")(2,"p",42),l(3),r()()()),o&2){let t=p().$implicit;c(3),y(" ",t.phaseTag," ")}}function Hi(o,s){if(o&1&&(b(0,Fi,4,1,"ion-row",38),a(1,"ion-row",39)(2,"ion-col",33)(3,"p",40),l(4),r()(),a(5,"ion-col")(6,"p",41),l(7),r()(),a(8,"ion-col")(9,"p",40),l(10),r()(),a(11,"ion-col")(12,"p",40),l(13),r()(),a(14,"ion-col")(15,"p",40),l(16),r()()()),o&2){let t=s.$implicit,e=s.$index;v(t.isNewPhase?0:-1),c(),k("blocks-row-accent",e%2===0),c(3),C(t.week),c(3),C(t.targetVolume),c(3),C(t.easyRun),c(3),C(t.qualityLoad),c(3),C(t.longRun)}}function ji(o,s){if(o&1){let t=x();a(0,"div",3)(1,"div",4)(2,"h2",5),l(3,"Blocks"),r(),a(4,"p",6),l(5,"Training block structure"),r()(),a(6,"div",7)(7,"div",8)(8,"div",9)(9,"div")(10,"div",10),l(11,"Unit"),r(),a(12,"ion-segment",11),m("ionChange",function(n){u(t);let i=p();return h(i.onDistanceUnitChange(n))}),a(13,"ion-segment-button",12)(14,"ion-label"),l(15,"Km"),r()(),a(16,"ion-segment-button",13)(17,"ion-label"),l(18,"Mi"),r()()()(),a(19,"div")(20,"div",10),l(21,"Model"),r(),a(22,"ion-segment",11),m("ionChange",function(n){u(t);let i=p();return h(i.onModelChange(n))}),a(23,"ion-segment-button",14)(24,"ion-label"),l(25,"4-Phase"),r()(),a(26,"ion-segment-button",15)(27,"ion-label"),l(28,"3-Phase"),r()()()()(),a(29,"div",16)(30,"div")(31,"ion-input",17),m("ngModelChange",function(n){u(t);let i=p();return h(i.onWeeksToRaceChange(n))}),r()(),a(32,"div")(33,"ion-input",18),m("ngModelChange",function(n){u(t);let i=p();return h(i.onCurrentWeeklyVolumeChange(n))}),r()(),a(34,"div")(35,"ion-input",19),m("ngModelChange",function(n){u(t);let i=p();return h(i.onPeakWeeklyVolumeCapChange(n))}),r()(),a(36,"div")(37,"div",10),l(38),r(),a(39,"ion-range",20),m("ionInput",function(n){u(t);let i=p();return h(i.onLongRunPercentChange(n))})("ionChange",function(n){u(t);let i=p();return h(i.onLongRunPercentChange(n))}),r()()(),a(40,"div",21)(41,"div",22),l(42,"Step-back (Reduce volume every 3-4 wks)"),r(),a(43,"ion-toggle",23),m("ionChange",function(n){u(t);let i=p();return h(i.onStepBackToggleChange(n))}),r()()()(),a(44,"div",24)(45,"button",25),m("click",function(){u(t);let n=p();return h(n.toggleTopControlsCollapse())}),_(46,"ion-icon",26),r()()(),a(47,"div",27)(48,"h3",28),l(49," Phase Overview "),r(),a(50,"div",29),M(51,Di,6,4,"div",30,Ri),r()(),a(53,"ion-grid",31)(54,"ion-row",32)(55,"ion-col",33)(56,"p",34),l(57,"Wk"),r()(),a(58,"ion-col")(59,"p",34),l(60,"Total"),r()(),a(61,"ion-col")(62,"p",34),l(63,"Easy"),r()(),a(64,"ion-col")(65,"p",34),l(66,"Quality"),r()(),a(67,"ion-col")(68,"p",34),l(69,"Long Run"),r()()(),a(70,"div",35),M(71,Hi,17,8,null,null,Vi),r()()}if(o&2){let t=p();k("blocks-controls-card-collapsed",t.topControlsCollapsed()),c(6),k("blocks-controls-body-collapsed",t.topControlsCollapsed()),c(6),g("value",t.distanceUnit()),c(10),g("value",t.modelSelector()),c(9),g("ngModel",t.weeksToRace),c(2),g("label","Current weekly volume ("+t.distanceUnit()+")")("ngModel",t.currentWeeklyVolume),c(2),g("label","Peak weekly cap ("+t.distanceUnit()+")")("ngModel",t.peakWeeklyVolumeCap),c(3),y(" Long run % of weekly volume: ",t.longRunPercent(),"% "),c(),g("min",20)("max",35)("step",1)("value",t.longRunPercent()),c(4),g("checked",t.stepBackToggle()),c(),k("blocks-collapse-slot-collapsed",t.topControlsCollapsed()),c(),W("aria-label",t.topControlsCollapsed()?"Expand block controls":"Collapse block controls"),c(),g("name",t.topControlsCollapsed()?"chevron-down-outline":"chevron-up-outline"),c(5),O(t.phases()),c(20),O(t.weeklyBlocks())}}var Zn=(()=>{let s=class s{constructor(){this.distanceType="km",this.focusId=null,this.navigateToTab=new E,this.weeksToRace=12,this.currentWeeklyVolume=null,this.peakWeeklyVolumeCap=null,this.longRunPercent=B(28),this.modelSelector=B("4-Phase"),this.distanceUnit=B("km"),this.stepBackToggle=B(!1),this.topControlsCollapsed=B(!1),this.phases=B([]),this.weeklyBlocks=B([]),this.kmToMi=.621371,F({chevronDownOutline:it,chevronUpOutline:at})}get categoryKey(){return this.focusId===-1||this.focusId===null?null:`dist_${this.focusId}`}ngOnInit(){this.distanceUnit.set(this.distanceType),this.setDefaultLongRunPercent(),this.loadPreferences(),this.updateCalculation()}ngOnChanges(e){e.distanceType&&!e.distanceType.firstChange&&this.distanceUnit.set(this.distanceType),(e.distanceMeters||e.focusId)&&(this.setDefaultLongRunPercent(),this.loadPreferences()),this.updateCalculation()}loadPreferences(){let e=this.categoryKey;if(!e){this.currentWeeklyVolume=null,this.peakWeeklyVolumeCap=null,this.weeksToRace=12,this.modelSelector.set("4-Phase"),this.stepBackToggle.set(!1);return}let n=localStorage.getItem(`stridemate_blocks_prefs_${e}`);if(n)try{let i=JSON.parse(n);i.weeksToRace&&(this.weeksToRace=i.weeksToRace),i.currentWeeklyVolume!==void 0&&(this.currentWeeklyVolume=i.currentWeeklyVolume),i.peakWeeklyVolumeCap!==void 0&&(this.peakWeeklyVolumeCap=i.peakWeeklyVolumeCap),i.longRunPercent&&this.longRunPercent.set(i.longRunPercent),i.modelSelector&&this.modelSelector.set(i.modelSelector),i.distanceUnit&&this.distanceUnit.set(i.distanceUnit),i.stepBackToggle!==void 0&&this.stepBackToggle.set(i.stepBackToggle)}catch(i){console.error("Failed to parse blocks preferences",i)}else this.currentWeeklyVolume=null,this.peakWeeklyVolumeCap=null,this.weeksToRace=12,this.modelSelector.set("4-Phase"),this.stepBackToggle.set(!1)}savePreferences(){let e=this.categoryKey;if(!e)return;let n={weeksToRace:this.weeksToRace,currentWeeklyVolume:this.currentWeeklyVolume,peakWeeklyVolumeCap:this.peakWeeklyVolumeCap,longRunPercent:this.longRunPercent(),modelSelector:this.modelSelector(),distanceUnit:this.distanceUnit(),stepBackToggle:this.stepBackToggle()};localStorage.setItem(`stridemate_blocks_prefs_${e}`,JSON.stringify(n))}setDefaultLongRunPercent(){this.distanceMeters<1e4?this.longRunPercent.set(24):this.distanceMeters<21e3?this.longRunPercent.set(26):this.distanceMeters<42e3?this.longRunPercent.set(30):this.longRunPercent.set(32)}onLongRunPercentChange(e){var i;let n=this.toNullableNumber((i=e==null?void 0:e.detail)==null?void 0:i.value);n!==null&&(this.longRunPercent.set(n),this.updateCalculation())}onWeeksToRaceChange(e){let n=this.toNullableNumber(e);this.weeksToRace=n===null?12:n,this.updateCalculation()}onCurrentWeeklyVolumeChange(e){this.currentWeeklyVolume=this.toNullableNumber(e),this.updateCalculation()}onPeakWeeklyVolumeCapChange(e){this.peakWeeklyVolumeCap=this.toNullableNumber(e),this.updateCalculation()}onModelChange(e){var i;let n=(i=e==null?void 0:e.detail)==null?void 0:i.value;n&&(this.modelSelector.set(n),this.updateCalculation())}onDistanceUnitChange(e){var d;let n=(d=e==null?void 0:e.detail)==null?void 0:d.value;if(!n)return;let i=this.distanceUnit();if(n===i){this.updateCalculation();return}this.currentWeeklyVolume!==null&&(this.currentWeeklyVolume=this.convertDistanceValue(this.currentWeeklyVolume,i,n)),this.peakWeeklyVolumeCap!==null&&(this.peakWeeklyVolumeCap=this.convertDistanceValue(this.peakWeeklyVolumeCap,i,n)),this.distanceUnit.set(n),this.updateCalculation()}onStepBackToggleChange(e){this.stepBackToggle.set(e.detail.checked),this.updateCalculation()}toggleTopControlsCollapse(){this.topControlsCollapsed.update(e=>!e)}toNullableNumber(e){if(e===""||e===null||e===void 0)return null;let n=typeof e=="number"?e:Number(e);return Number.isFinite(n)?n:null}convertDistanceValue(e,n,i){if(n===i)return e;let d=n==="km"?e*this.kmToMi:e/this.kmToMi;return Math.round(d*10)/10}updateCalculation(){if(this.distanceMeters<5e3)return;this.savePreferences();let e=.4,n=.35,i=.15,d=.1,f=1.03,I=1.05,ae=1.04,ee=1.06,he=.85,ge=.7,fe=12,Se=16,Me=18,Oe=12;this.distanceMeters<1e4?(e=.35,n=.4,i=.15,d=.1,f=1.03,I=1.05,ae=1.04,ee=1.06,he=.85,ge=.7,fe=12,Se=16,Me=18,Oe=12):this.distanceMeters<21e3?(e=.4,n=.35,i=.15,d=.1,f=1.04,I=1.06,ae=1.05,ee=1.07,he=.8,ge=.65,fe=11,Se=15,Me=17,Oe=11):this.distanceMeters<42e3?(e=.4,n=.35,i=.1,d=.15,f=1.05,I=1.07,ae=1.06,ee=1.08,he=.8,ge=.6,fe=10,Se=14,Me=16,Oe=10):(e=.45,n=.3,i=.1,d=.15,f=1.05,I=1.08,ae=1.06,ee=1.09,he=.75,ge=.6,fe=10,Se=12,Me=14,Oe=10);let z=Math.max(4,Math.min(30,this.weeksToRace||12)),ht=this.modelSelector()==="4-Phase",te=Math.max(1,Math.round(z*(ht?d:d+.05)));z<=6&&(te=1);let H=0,L=0,J=0;if(z<=6){let V=z-te;H=Math.ceil(V/2),L=V-H}else H=Math.max(3,Math.round(z*e)),ht?(L=Math.round(z*n),J=Math.max(1,z-H-L-te)):L=z-H-te;let He=H+L+J+te;for(;He<z;)ht&&J<Math.round(z*i)?J++:L<Math.round(z*n)?L++:H++,He++;for(;He>z;)J>1?J--:L>1?L--:H>3?H--:te--,He--;let Ie=this.currentWeeklyVolume;if(!Ie){let V=55;this.distanceMeters<1e4?V=30:this.distanceMeters<21e3&&(V=42.5),Ie=this.convertDistanceValue(V,"km",this.distanceUnit())}let oi=this.peakWeeklyVolumeCap||Ie*1.4,gt=Math.min(oi,Ie*1.4),ri=((f+I)/2-1)*100,li=((ae+ee)/2-1)*100,Et=V=>"+"+V.toFixed(1)+"%",Rt="-"+((1-he)*100).toFixed(0)+"%",si="-"+((1-ge)*100).toFixed(0)+"%",Ee=[];H>0&&Ee.push({name:"Base",weeks:H,volumeTrend:"\u2197 "+Et(ri)}),L>0&&Ee.push({name:"Build",weeks:L,volumeTrend:"\u2197 "+Et(li)}),J>0&&Ee.push({name:"Peak",weeks:J,volumeTrend:"\u2192 Hold"}),te>0&&Ee.push({name:"Taper",weeks:te,volumeTrend:"\u2198",taperReduction:te>1?Rt+" / "+si:Rt}),this.phases.set(Ee);let oe=Ie,je=[],ft=0;for(let V=1;V<=z;V++){let j;V<=H?j="Base":V<=H+L?j="Build":V<=H+L+J?j="Peak":j="Taper",ft++;let Re=!1;this.stepBackToggle()&&j!=="Taper"&&j!=="Peak"&&ft>=4&&(Re=!0,ft=0);let ne=oe;if(V>1&&!Re&&j!=="Taper"){let Ve=1;j==="Base"?Ve=I:j==="Build"?Ve=ee:j==="Peak"&&(Ve=1.01),oe=oe*Ve,ne=oe}j==="Taper"?V-(H+L+J)===1?ne=oe*he:ne=oe*ge:Re&&(ne=oe*.85),ne>gt&&(ne=gt,oe=gt);let ci=Re||j==="Base"?fe:j==="Build"?Se:j==="Peak"?Me:Oe,Vt=Math.round(ne*10)/10,Bt=Math.round(ne*(this.longRunPercent()/100)*10)/10,At=Math.round(ne*(ci/100)*10)/10,pi=Math.round((Vt-Bt-At)*10)/10,Dt=Re?"Step-back":j,di=V===1||je[je.length-1].phaseTag!==Dt;je.push({week:V,targetVolume:Vt,easyRun:pi,longRun:Bt,qualityLoad:At,phaseTag:Dt,isNewPhase:di})}this.weeklyBlocks.set(je)}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-blocks-panel"]],inputs:{distanceMeters:"distanceMeters",distanceType:"distanceType",focusId:"focusId"},outputs:{navigateToTab:"navigateToTab"},features:[_e],decls:3,vars:1,consts:[[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"calc-surface-card","p-6","text-center"],[1,"mb-4","text-sm","text-[var(--calc-text-muted)]"],[1,"calc-surface-card","blocks-controls-card","mb-4","p-4"],[1,"mb-3"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-sm","text-[var(--calc-text-muted)]"],[1,"blocks-controls-body"],[1,"blocks-controls-body-inner"],[1,"mt-4","grid","grid-cols-1","gap-4","sm:grid-cols-2"],[1,"mb-1","text-xs","text-[var(--calc-text-muted)]"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","km"],["value","mi"],["value","4-Phase"],["value","3-Phase"],[1,"mt-5","grid","grid-cols-1","gap-4","sm:grid-cols-2"],["mode","md","label","Weeks to race","labelPlacement","stacked","type","number","min","4","max","30","fill","outline",3,"ngModelChange","ngModel"],["mode","md","labelPlacement","stacked","type","number","min","0","fill","outline",3,"ngModelChange","label","ngModel"],["labelPlacement","stacked","type","number","min","0","fill","outline",3,"ngModelChange","label","ngModel"],[1,"calc-range",3,"ionInput","ionChange","min","max","step","value"],[1,"mt-4","flex","items-center","justify-between"],[1,"text-sm"],[3,"ionChange","checked"],[1,"blocks-collapse-slot"],["type","button",1,"blocks-collapse-toggle",3,"click"],[3,"name"],[1,"calc-surface-card","mb-4","p-4"],[1,"mb-3","text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"grid","grid-cols-2","gap-2","sm:grid-cols-4"],[1,"calc-shell-subtle","rounded-xl","p-2"],[1,"calc-table-shell","p-0"],[1,"calc-table-head","calc-divider-subtle","bg-[var(--calc-surface-1)]/95","sticky","top-0","z-10","border-b","px-2","py-1","backdrop-blur"],["size","2"],[1,"text-center"],[1,"px-2","pb-2","pt-1"],[1,"text-sm","font-semibold"],[1,"text-xs","text-[var(--calc-text-muted)]"],[1,"mb-1","mt-2"],[1,"blocks-row","items-center","py-0.5"],[1,"text-center","text-sm"],[1,"text-center","text-sm","font-medium"],[1,"pl-2","text-[11px]","font-bold","uppercase","tracking-wider","text-[var(--calc-text-muted)]"]],template:function(n,i){n&1&&(a(0,"div",0),b(1,Bi,3,0,"div",1)(2,ji,73,21),r()),n&2&&(c(),v(i.distanceMeters<5e3?1:2))},dependencies:[R,ve,qe,Qe,Te,et,Q,G,tn,N,ke,we,ye,D],styles:[".calc-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--calc-text-muted);font-size:.75rem;font-weight:600}ion-input[_ngcontent-%COMP%]{--border-color: color-mix(in oklab, var(--calc-text-muted) 40%, transparent);--highlight-color-focused: var(--calc-accent-strong);--highlight-color-valid: var(--calc-accent-strong);--color: var(--calc-text-strong)}ion-toggle[_ngcontent-%COMP%]{--track-background: color-mix(in oklab, var(--calc-surface-2) 74%, var(--calc-surface-1));--track-background-checked: color-mix(in oklab, var(--calc-accent) 48%, var(--calc-surface-2));--handle-background: var(--calc-surface-raised);--handle-background-checked: #f8fafc;--handle-box-shadow: 0 0 0 1px color-mix(in oklab, var(--calc-border-subtle) 70%, transparent)}.blocks-row-accent[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-surface-2) 70%,transparent);border-radius:.75rem}.blocks-controls-body[_ngcontent-%COMP%]{max-height:900px;overflow:hidden;transition:max-height var(--calc-motion-normal) var(--calc-motion-ease),opacity var(--calc-motion-normal) var(--calc-motion-ease),margin var(--calc-motion-normal) var(--calc-motion-ease);opacity:1}.blocks-controls-body-inner[_ngcontent-%COMP%]{overflow:hidden}.blocks-controls-body-collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin-top:0;pointer-events:none}.blocks-controls-card[_ngcontent-%COMP%]{transition:padding-bottom var(--calc-motion-normal) var(--calc-motion-ease)}.blocks-controls-card-collapsed[_ngcontent-%COMP%]{padding-bottom:.5rem}.blocks-collapse-toggle[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 70%,transparent);border-radius:9999px;background:color-mix(in oklab,var(--calc-surface-2) 76%,var(--calc-surface-1));color:var(--calc-text-muted);display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:50%;transform:translate(-50%);transition:left var(--calc-motion-normal) var(--calc-motion-ease),transform var(--calc-motion-normal) var(--calc-motion-ease)}.blocks-collapse-toggle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.15rem}.blocks-collapse-slot[_ngcontent-%COMP%]{position:relative;margin-top:.5rem;height:40px;transition:height var(--calc-motion-normal) var(--calc-motion-ease),margin var(--calc-motion-normal) var(--calc-motion-ease)}.blocks-collapse-slot-collapsed[_ngcontent-%COMP%]   .blocks-collapse-toggle[_ngcontent-%COMP%]{left:calc(100% - 8px);transform:translate(-100%,-54px)}.blocks-collapse-slot-collapsed[_ngcontent-%COMP%]{height:0;margin-top:0}@media (prefers-reduced-motion: reduce){.blocks-controls-body[_ngcontent-%COMP%], .blocks-controls-card[_ngcontent-%COMP%], .blocks-collapse-slot[_ngcontent-%COMP%], .blocks-collapse-toggle[_ngcontent-%COMP%]{transition:none}}"]});let o=s;return o})();var Yn=(()=>{let s=class s{constructor(e,n){this.el=e,this._zone=n,this.updateChange=new E(!0),this.chartInstance=new E}ngOnChanges(e){var i;let n=(i=e.update)==null?void 0:i.currentValue;(e.options||n)&&(this.wrappedUpdateOrCreateChart(),n&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){var e;(e=this.chart)!=null&&e.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}};s.\u0275fac=function(n){return new(n||s)(Be($e),Be(Ht))},s.\u0275cmp=S({type:s,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},standalone:!1,features:[_e],decls:0,vars:0,template:function(n,i){},encapsulation:2});let o=s;return o})(),Jn=(()=>{let s=class s{};s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=jt({type:s}),s.\u0275inj=Ft({});let o=s;return o})();function Li(o,s){if(o&1){let t=x();a(0,"button",34),m("click",function(){u(t);let n=p(2);return h(n.onResetHalfDelta())}),_(1,"ion-icon",35),r()}}function Ni(o,s){if(o&1){let t=x();a(0,"ion-segment",23),m("ionChange",function(n){u(t);let i=p();return h(i.onStrategyProfileChange(n))}),a(1,"ion-segment-button",24)(2,"ion-label"),l(3,"Progressive"),r()(),a(4,"ion-segment-button",25)(5,"ion-label"),l(6,"Late Kick"),r()(),a(7,"ion-segment-button",26)(8,"ion-label"),l(9,"Step"),r()()(),a(10,"div",27)(11,"p",28),l(12),r(),b(13,Li,2,0,"button",29),r(),a(14,"ion-range",30),m("ionChange",function(n){u(t);let i=p();return h(i.onHalfDeltaChange(n))}),a(15,"ion-label",31),l(16,"Faster 2nd"),r(),a(17,"ion-label",32),l(18,"Slower 2nd"),r()(),a(19,"p",33),l(20),r()}if(o&2){let t=p();g("value",t.currentStrategyProfile),c(12),y("2nd half vs 1st half: ",t.splitDeltaLabel,""),c(),v(t.hasNonZeroHalfDelta?13:-1),c(),g("ticks",!0)("snaps",!0)("disabled",t.isSingleLap)("min",-t.halfDeltaCap)("max",t.halfDeltaCap)("step",t.halfDeltaStep)("value",t.currentHalfDelta),c(5),k("calc-warning-slot-visible",!!(t.splitPlan!=null&&t.splitPlan.warning)),c(),y(" ",(t.splitPlan==null?null:t.splitPlan.warning)||"Adjusted to realistic range for this distance."," ")}}function zi(o,s){o&1&&(a(0,"p",10),l(1," Strategy controls are shown for distances above 5K. "),r())}function Wi(o,s){o&1&&(a(0,"p",36),l(1," Set a non-zero half delta to activate split point. "),r())}function Ui(o,s){if(o&1){let t=x();a(0,"div",27)(1,"p",28),l(2),r()(),a(3,"ion-range",30),m("ionChange",function(n){u(t);let i=p();return h(i.onTransitionPointChange(n))}),a(4,"ion-label",31),l(5,"Earlier"),r(),a(6,"ion-label",32),l(7,"Later"),r()(),b(8,Wi,2,0,"p",36)}if(o&2){let t=p();c(2),y("Shift point: ",t.transitionPointLabel,""),c(),g("ticks",!0)("snaps",!0)("disabled",!t.isTransitionPointAdjustable)("min",35)("max",85)("step",5)("value",t.currentTransitionPointPercent),c(5),v(t.hasNonZeroHalfDelta?-1:8)}}function Ki(o,s){o&1&&(ze(0),a(1,"div",37),_(2,"ion-spinner",38),r(),We())}function Gi(o,s){if(o&1&&_(0,"highcharts-chart",39),o&2){let t=p();g("Highcharts",t.highcharts)("options",t.splitsChartOptions)}}function qi(o,s){if(o&1){let t=x();a(0,"button",41),m("click",function(){u(t);let n=p(2);return h(n.onResetLapTags())}),_(1,"ion-icon",35),r()}}function Qi(o,s){if(o&1&&(a(0,"div",20)(1,"p",19),l(2,"Effort"),r(),b(3,qi,2,0,"button",40),r()),o&2){let t=p();c(3),v(!t.isSingleLap&&t.hasCustomLapTags?3:-1)}}function Zi(o,s){if(o&1){let t=x();a(0,"div",46)(1,"button",49),m("click",function(){u(t);let n=p().$index,i=p();return h(i.onLapTagChange(n))}),l(2),r()()}if(o&2){let t=p().$index,e=p();c(),k("lap-tag-uphill",e.lapTag(t)==="uphill")("lap-tag-downhill",e.lapTag(t)==="downhill"),g("disabled",e.isSingleLap),c(),y(" ",e.lapTagLabel(t)," ")}}function Yi(o,s){if(o&1&&(a(0,"div",42)(1,"p",43),l(2),r(),a(3,"p",44),l(4),r(),a(5,"p",45),l(6),r(),b(7,Zi,3,6,"div",46),a(8,"p",47),l(9),r(),a(10,"p",48),l(11),r()()),o&2){let t=s.$implicit,e=p();k("splits-grid-no-effort",!e.isStrategyAvailable),c(2),C(t.split),c(2),C(t.splitDistance),c(2),C(t.splitPace),c(),v(e.isStrategyAvailable?7:-1),c(2),C(t.splitTime),c(2),C(t.totalDistance)}}F({refreshOutline:bn,chevronDownOutline:it,chevronUpOutline:at});var Xn=(()=>{let s=class s{constructor(e){this.store=e,this.lapTagCycle=["flat","uphill","downhill"],this.plannerExpandDelayMs=240,this.chartMountTimer=null,this.isPlannerCollapsed=!1,this.plannerChartMounted=!0,this.splitsChartReady=!1,this.splitsChartOptions=null,this.splitPlan=null,this.splits=[],this.splitHalfDeltaChange=new E,this.splitHalfDeltaReset=new E,this.splitStrategyProfileChange=new E,this.splitTransitionPointChange=new E,this.splitLapTagChange=new E,this.splitLapTagsReset=new E}get currentHalfDelta(){var e;return((e=this.splitPlan)==null?void 0:e.halfDeltaSeconds)??0}get currentStrategyProfile(){var e;return((e=this.splitPlan)==null?void 0:e.strategyProfile)??"progressive"}get currentTransitionPointPercent(){var e;return((e=this.splitPlan)==null?void 0:e.transitionPointPercent)??50}get hasNonZeroHalfDelta(){return this.currentHalfDelta!==0}get hasCustomLapTags(){var e;return(((e=this.splitPlan)==null?void 0:e.lapTags)??[]).some(n=>n!=="flat")}get isSingleLap(){return this.splits.length<=1}get isStrategyAvailable(){return this.getRaceDistanceMeters()>5e3}get isTransitionPointAdjustable(){return!this.isSingleLap&&this.hasNonZeroHalfDelta}get halfDeltaCap(){return Tn(this.getRaceDistanceMeters())}get halfDeltaStep(){return this.getRaceDistanceMeters()<=5e3?10:5}get splitDeltaLabel(){let e=this.currentHalfDelta;return`${e>0?"+":""}${e}s`}get transitionPointLabel(){return`${this.currentTransitionPointPercent}%`}togglePlanner(){if(this.isPlannerCollapsed=!this.isPlannerCollapsed,this.store.dispatch(T.togglePlanner()),this.chartMountTimer!==null&&(window.clearTimeout(this.chartMountTimer),this.chartMountTimer=null),this.isPlannerCollapsed){this.plannerChartMounted=!1;return}this.plannerChartMounted=!1,this.chartMountTimer=window.setTimeout(()=>{this.plannerChartMounted=!0,this.store.dispatch(T.updateSplitsChart()),this.chartMountTimer=null},this.plannerExpandDelayMs)}onHalfDeltaChange(e){this.splitHalfDeltaChange.emit(e.detail.value)}onStrategyProfileChange(e){this.splitStrategyProfileChange.emit(e.detail.value)}onTransitionPointChange(e){this.splitTransitionPointChange.emit(Number(e.detail.value))}onResetHalfDelta(){this.splitHalfDeltaReset.emit()}onLapTagChange(e){var f,I;let n=((I=(f=this.splitPlan)==null?void 0:f.lapTags)==null?void 0:I[e])??"flat",i=this.lapTagCycle.indexOf(n),d=this.lapTagCycle[(i+1)%this.lapTagCycle.length];this.splitLapTagChange.emit({lapIndex:e,tag:d})}onResetLapTags(){this.splitLapTagsReset.emit()}lapTagLabel(e){let n=this.lapTag(e);return n==="uphill"?"\u25B2 Hill":n==="downhill"?"\u25BC Hill":"Flat"}lapTag(e){var n,i;return((i=(n=this.splitPlan)==null?void 0:n.lapTags)==null?void 0:i[e])??"flat"}getRaceDistanceMeters(){var i;let e=((i=this.splits[this.splits.length-1])==null?void 0:i.totalDistance)??"",n=Number(e.replace(/[^0-9.]/g,""));return!Number.isFinite(n)||n<=0?0:e.includes("mi")?n*1609.344:e.includes("km")?n*1e3:e.includes("m")?n:0}ngOnDestroy(){this.chartMountTimer!==null&&(window.clearTimeout(this.chartMountTimer),this.chartMountTimer=null)}};s.\u0275fac=function(n){return new(n||s)(Be(se))},s.\u0275cmp=S({type:s,selectors:[["app-splits-panel"]],inputs:{highcharts:"highcharts",splitsChartReady:"splitsChartReady",splitsChartOptions:"splitsChartOptions",splitPlan:"splitPlan",splits:"splits"},outputs:{splitHalfDeltaChange:"splitHalfDeltaChange",splitHalfDeltaReset:"splitHalfDeltaReset",splitStrategyProfileChange:"splitStrategyProfileChange",splitTransitionPointChange:"splitTransitionPointChange",splitLapTagChange:"splitLapTagChange",splitLapTagsReset:"splitLapTagsReset"},decls:43,vars:15,consts:[["splitsChart",""],[1,"mx-auto","max-w-5xl","px-2","pb-2","pt-1"],[1,"calc-surface-card","planner-controls-card","mb-4","pb-4","overflow-hidden"],[1,"mb-3","px-3","pt-2"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-sm","text-[var(--calc-text-muted)]"],[1,"planner-body"],[1,"planner-body-inner"],[1,"calc-shell-subtle","mb-2","px-3","py-2","rounded-[0.75rem]"],[1,"text-xs","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-xs","text-[var(--calc-text-muted)]"],[1,"planner-tip"],[4,"ngIf","ngIfElse"],[1,"planner-collapse-slot"],["type","button",1,"planner-collapse-toggle",3,"click"],[3,"name"],[1,"mx-auto","max-w-5xl","px-2","pb-4"],[1,"calc-table-shell","splits-table-shell","p-0"],[1,"splits-table-head","splits-grid","calc-table-head","calc-divider-subtle","bg-[var(--calc-surface-1)]/95","sticky","top-0","z-20","border-b","px-2","py-1","backdrop-blur"],[1,"text-center"],[1,"splits-effort-head"],[1,"px-2","pb-2","pt-1"],[1,"splits-row","splits-grid","py-0.5",3,"splits-grid-no-effort"],["mode","ios",1,"app-segment","mt-2","p-[2px]",3,"ionChange","value"],["value","progressive"],["value","lateKick"],["value","step"],[1,"mt-2","flex","items-center","justify-between"],[1,"text-sm","font-semibold"],["type","button","title","Reset to even splits",1,"reset-btn","subtle"],["mode","ios",1,"calc-range",3,"ionChange","ticks","snaps","disabled","min","max","step","value"],["slot","start"],["slot","end"],[1,"calc-warning-copy","calc-warning-slot","mt-1","text-xs"],["type","button","title","Reset to even splits",1,"reset-btn","subtle",3,"click"],["name","refresh-outline"],[1,"mt-1","text-xs","text-[var(--calc-text-muted)]"],[1,"flex","h-[280px]","items-center","justify-center"],["name","crescent",1,"text-center"],[2,"width","100%","height","280px","display","block",3,"Highcharts","options"],["type","button","title","Reset all lap efforts to flat",1,"reset-btn","subtle"],["type","button","title","Reset all lap efforts to flat",1,"reset-btn","subtle",3,"click"],[1,"splits-row","splits-grid","py-0.5"],[1,"splits-cell","splits-cell-lap"],[1,"splits-cell","splits-cell-distance"],[1,"splits-cell","splits-cell-pace"],[1,"splits-cell","splits-cell-effort"],[1,"splits-cell","splits-cell-time"],[1,"splits-cell","splits-cell-cumulative"],["type","button",1,"lap-tag-btn","text-xs",3,"click","disabled"]],template:function(n,i){if(n&1){let d=x();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),l(4,"Splits Planner"),r(),a(5,"p",5),l(6,"Race pacing strategy"),r()(),a(7,"div",6)(8,"div",7)(9,"ion-grid")(10,"ion-row")(11,"ion-col")(12,"div",8)(13,"p",9),l(14,"Strategy"),r(),b(15,Ni,21,13)(16,zi,2,0,"p",10)(17,Ui,9,9),a(18,"p",11),l(19,"Tip: You can mark your effort per lap in the table below."),r()(),b(20,Ki,3,0,"ng-container",12)(21,Gi,1,2,"ng-template",null,0,Wt),r()()()()(),a(23,"div",13)(24,"button",14),m("click",function(){return u(d),h(i.togglePlanner())}),_(25,"ion-icon",15),r()()()(),a(26,"div",16)(27,"div",17)(28,"div",18)(29,"p",19),l(30,"Lap"),r(),a(31,"p",19),l(32,"Distance"),r(),a(33,"p",19),l(34,"Pace"),r(),b(35,Qi,4,1,"div",20),a(36,"p",19),l(37,"Time"),r(),a(38,"p",19),l(39,"Rolling"),r()(),a(40,"div",21),M(41,Yi,12,8,"div",22,Y),r()()()}if(n&2){let d=be(22);c(),k("planner-controls-card-collapsed",i.isPlannerCollapsed),c(6),k("planner-body-collapsed",i.isPlannerCollapsed),c(8),v(i.isStrategyAvailable?15:16),c(2),v(i.currentStrategyProfile!=="step"?17:-1),c(3),g("ngIf",!i.plannerChartMounted||!i.splitsChartReady||!i.splitsChartOptions)("ngIfElse",d),c(3),k("planner-collapse-slot-collapsed",i.isPlannerCollapsed),c(),W("aria-label",i.isPlannerCollapsed?"Expand splits planner":"Collapse splits planner"),c(),g("name",i.isPlannerCollapsed?"chevron-down-outline":"chevron-up-outline"),c(3),k("splits-grid-no-effort",!i.isStrategyAvailable),c(7),v(i.isStrategyAvailable?35:-1),c(6),O(i.splits)}},dependencies:[R,Ke,ye,ke,D,N,et,we,Q,G,Xt,Jn,Yn],styles:[".calc-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--calc-text-muted);font-size:.75rem;font-weight:600}.planner-body[_ngcontent-%COMP%]{max-height:900px;opacity:1;overflow:hidden;transition:max-height var(--calc-motion-normal) var(--calc-motion-ease),opacity var(--calc-motion-normal) var(--calc-motion-ease),margin var(--calc-motion-normal) var(--calc-motion-ease)}.planner-body-inner[_ngcontent-%COMP%]{overflow:hidden}.planner-body-collapsed[_ngcontent-%COMP%]{max-height:0;opacity:0;margin-top:0;pointer-events:none}.planner-controls-card[_ngcontent-%COMP%]{transition:padding-bottom var(--calc-motion-normal) var(--calc-motion-ease)}.planner-controls-card-collapsed[_ngcontent-%COMP%]{padding-bottom:.5rem}.planner-collapse-toggle[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 70%,transparent);border-radius:9999px;background:color-mix(in oklab,var(--calc-surface-2) 76%,var(--calc-surface-1));color:var(--calc-text-muted);display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:50%;transform:translate(-50%);transition:left var(--calc-motion-normal) var(--calc-motion-ease),transform var(--calc-motion-normal) var(--calc-motion-ease)}.planner-collapse-toggle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.15rem}.planner-collapse-slot[_ngcontent-%COMP%]{position:relative;margin-top:.5rem;height:40px;transition:height var(--calc-motion-normal) var(--calc-motion-ease),margin var(--calc-motion-normal) var(--calc-motion-ease)}.planner-collapse-slot-collapsed[_ngcontent-%COMP%]   .planner-collapse-toggle[_ngcontent-%COMP%]{left:calc(100% - 8px);transform:translate(-100%,-54px)}.planner-collapse-slot-collapsed[_ngcontent-%COMP%]{height:0;margin-top:0}.reset-btn[_ngcontent-%COMP%]{align-items:center;border-radius:9999px;display:inline-flex;justify-content:center;padding:.15rem;font-size:.85rem}.reset-btn.subtle[_ngcontent-%COMP%]{background:var(--calc-surface-stripe);border:1px solid var(--calc-border-subtle);color:var(--calc-text-muted);transition:all .15s ease}.reset-btn.subtle[_ngcontent-%COMP%]:hover{background:var(--calc-info-bg);border-color:var(--calc-border-strong);color:var(--calc-accent)}.lap-tag-btn[_ngcontent-%COMP%]{align-items:center;border-radius:9999px;border:1px solid var(--calc-border-subtle);display:inline-flex;justify-content:center;min-width:4.2rem;padding:.18rem .45rem;font-weight:600}.lap-tag-btn[disabled][_ngcontent-%COMP%]{opacity:.5}.lap-tag-uphill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#ef4444 35%,transparent);color:#b91c1c}.lap-tag-downhill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#2563eb 35%,transparent);color:#1d4ed8}.dark[_nghost-%COMP%]   .lap-tag-uphill[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .lap-tag-uphill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#f87171 45%,transparent);color:#fca5a5}.dark[_nghost-%COMP%]   .lap-tag-downhill[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .lap-tag-downhill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#60a5fa 45%,transparent);color:#93c5fd}.splits-row[_ngcontent-%COMP%]:nth-child(odd){background:var(--calc-surface-stripe);border-radius:.75rem}.splits-grid[_ngcontent-%COMP%]{display:grid;align-items:center;column-gap:.28rem;grid-template-columns:2rem minmax(3.2rem,.95fr) minmax(3.2rem,.85fr) minmax(5rem,1.25fr) minmax(4.5rem,1fr) minmax(4.6rem,1fr)}.splits-grid.splits-grid-no-effort[_ngcontent-%COMP%]{grid-template-columns:2rem minmax(3.2rem,1fr) minmax(3.2rem,.9fr) minmax(4.5rem,1fr) minmax(4.6rem,1fr)}.splits-table-head[_ngcontent-%COMP%]{padding-top:.3rem;padding-bottom:.3rem}.splits-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.splits-effort-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.35rem;min-width:0}.splits-cell[_ngcontent-%COMP%]{margin:0;font-size:.875rem;text-align:center}.splits-cell-lap[_ngcontent-%COMP%], .splits-cell-pace[_ngcontent-%COMP%], .splits-cell-time[_ngcontent-%COMP%], .splits-cell-cumulative[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums}.splits-cell-distance[_ngcontent-%COMP%]{white-space:pre-line;line-height:1.15}.splits-cell-effort[_ngcontent-%COMP%]{display:flex;justify-content:center}.splits-cell-cumulative[_ngcontent-%COMP%]{white-space:nowrap}.planner-tip[_ngcontent-%COMP%]{margin-top:.5rem;padding:.32rem .55rem;border-radius:9999px;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 68%,transparent);background:color-mix(in oklab,var(--calc-surface-2) 64%,var(--calc-surface-1));color:var(--calc-text-muted);font-size:.64rem;font-weight:600;letter-spacing:.01em;line-height:1;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.calc-warning-slot[_ngcontent-%COMP%]{visibility:hidden;opacity:0;min-height:1rem;transition:opacity var(--calc-motion-fast) var(--calc-motion-ease)}.calc-warning-slot-visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}@media (max-width: 430px){.splits-grid[_ngcontent-%COMP%]{column-gap:.2rem;grid-template-columns:1.7rem minmax(2.8rem,.95fr) minmax(2.8rem,.85fr) minmax(4.3rem,1.2fr) minmax(3.9rem,1fr) minmax(4rem,1fr)}.splits-grid.splits-grid-no-effort[_ngcontent-%COMP%]{grid-template-columns:1.7rem minmax(2.8rem,1fr) minmax(2.8rem,.9fr) minmax(3.9rem,1fr) minmax(4rem,1fr)}.splits-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.68rem}.splits-cell[_ngcontent-%COMP%]{font-size:.8rem}.lap-tag-btn[_ngcontent-%COMP%]{min-width:3.9rem;padding:.16rem .35rem}}@media (prefers-reduced-motion: reduce){.planner-body[_ngcontent-%COMP%], .planner-controls-card[_ngcontent-%COMP%], .planner-collapse-slot[_ngcontent-%COMP%], .planner-collapse-toggle[_ngcontent-%COMP%]{transition:none}}"]});let o=s;return o})();var Ji=["roadPane"],Xi=["trackPane"],Mt=(o,s)=>s.type;function ea(o,s){if(o&1){let t=x();a(0,"tr",14)(1,"td",16)(2,"button",17),m("click",function(){let n=u(t).$implicit,i=p();return h(i.openTypeInfo.emit(n.type))}),l(3),r()(),a(4,"td",18),l(5),r(),a(6,"td",18),l(7),r()()}if(o&2){let t=s.$implicit,e=p();c(3),y(" ",t.label," "),c(2),y(" ",e.formatCell(t.pacePerMi)," "),c(2),y(" ",e.formatCell(t.pacePerKm)," ")}}function ta(o,s){if(o&1&&(a(0,"th",13),l(1),r()),o&2){let t=s.$implicit;c(),C(t)}}function na(o,s){if(o&1&&(a(0,"td",18),l(1),r()),o&2){let t=s.$implicit,e=p().$implicit;c(),C(e.times[t])}}function ia(o,s){if(o&1){let t=x();a(0,"tr",14)(1,"td",16)(2,"button",17),m("click",function(){let n=u(t).$implicit,i=p();return h(i.openTypeInfo.emit(n.type))}),l(3),r()(),M(4,na,2,1,"td",18,Ae),r()}if(o&2){let t=s.$implicit,e=p();c(3),y(" ",t.label," "),c(),O(e.primaryHeaders)}}function aa(o,s){if(o&1&&(a(0,"th",13),l(1),r()),o&2){let t=s.$implicit;c(),C(t)}}function oa(o,s){if(o&1&&(a(0,"td",18),l(1),r()),o&2){let t=s.$implicit,e=p().$implicit;c(),C(e.times[t])}}function ra(o,s){if(o&1){let t=x();a(0,"tr",14)(1,"td",16)(2,"button",17),m("click",function(){let n=u(t).$implicit,i=p();return h(i.openTypeInfo.emit(n.type))}),l(3),r()(),M(4,oa,2,1,"td",18,Ae),r()}if(o&2){let t=s.$implicit,e=p();c(3),y(" ",t.label," "),c(),O(e.secondaryHeaders)}}var ei=(()=>{let s=class s{constructor(){this.tableMode="road",this.trainingRows=[],this.repRowsPrimary=[],this.repRowsSecondary=[],this.openTypeInfo=new E,this.primaryHeaders=["1200m","800m","600m"],this.secondaryHeaders=["400m","300m","200m"],this.tableStackHeightPx=null,this.isViewReady=!1,this.resizeRafId=null}ngAfterViewInit(){this.isViewReady=!0,this.syncTableStackHeight(!1)}ngOnChanges(e){this.isViewReady&&this.syncTableStackHeight(!0)}ngOnDestroy(){this.resizeRafId!==null&&(cancelAnimationFrame(this.resizeRafId),this.resizeRafId=null)}formatCell(e){return typeof e=="string"?e:`${e.min} ~ ${e.max}`}syncTableStackHeight(e){let n=this.getActivePaneHeight();if(n<=0)return;if(!e||this.tableStackHeightPx===null){this.tableStackHeightPx=n;return}let i=this.tableStackHeightPx;i!==n&&(this.resizeRafId!==null&&(cancelAnimationFrame(this.resizeRafId),this.resizeRafId=null),this.tableStackHeightPx=i,this.resizeRafId=requestAnimationFrame(()=>{this.tableStackHeightPx=n,this.resizeRafId=null}))}getActivePaneHeight(){var n,i;let e=this.tableMode==="track"?(n=this.trackPane)==null?void 0:n.nativeElement:(i=this.roadPane)==null?void 0:i.nativeElement;return e?e.offsetHeight+1:0}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-training-paces-panel"]],viewQuery:function(n,i){if(n&1&&(ce(Ji,5),ce(Xi,5)),n&2){let d;pe(d=de())&&(i.roadPane=d.first),pe(d=de())&&(i.trackPane=d.first)}},inputs:{tableMode:"tableMode",trainingRows:"trainingRows",repRowsPrimary:"repRowsPrimary",repRowsSecondary:"repRowsSecondary"},outputs:{openTypeInfo:"openTypeInfo"},features:[_e],decls:48,vars:10,consts:[["roadPane",""],["trackPane",""],[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"calc-surface-card","p-4"],[1,"mb-3"],[1,"flex","items-center","justify-between","gap-3"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-xs","text-[var(--calc-text-muted)]"],[1,"table-mode-stack"],[1,"table-mode-pane"],[1,"calc-shell-subtle","overflow-hidden","rounded-xl"],[1,"w-full","text-sm"],[1,"bg-[var(--calc-surface-2)]","text-[var(--calc-text-muted)]"],[1,"px-3","py-2","text-left","text-xs","font-semibold","uppercase","tracking-[0.08em]"],[1,"calc-divider-subtle","border-t"],[1,"calc-shell-subtle","mt-4","overflow-hidden","rounded-xl"],[1,"px-3","py-2"],["type","button",1,"result-link",3,"click"],[1,"px-3","py-2","font-semibold","text-[var(--calc-text-strong)]"]],template:function(n,i){n&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),l(5,"Paces"),r()(),a(6,"p",7),l(7,"Tap on each pace type to learn more"),r()(),a(8,"div",8)(9,"div",9,0)(11,"div",10)(12,"table",11)(13,"thead",12)(14,"tr")(15,"th",13),l(16,"Type"),r(),a(17,"th",13),l(18,"1 Mi"),r(),a(19,"th",13),l(20,"1 Km"),r()()(),a(21,"tbody"),M(22,ea,8,3,"tr",14,Mt),r()()()(),a(24,"div",9,1)(26,"div",10)(27,"table",11)(28,"thead",12)(29,"tr")(30,"th",13),l(31,"Type"),r(),M(32,ta,2,1,"th",13,Ae),r()(),a(34,"tbody"),M(35,ia,6,1,"tr",14,Mt),r()()(),a(37,"div",15)(38,"table",11)(39,"thead",12)(40,"tr")(41,"th",13),l(42,"Type"),r(),M(43,aa,2,1,"th",13,Ae),r()(),a(45,"tbody"),M(46,ra,6,1,"tr",14,Mt),r()()()()()()()),n&2&&(c(8),Ne("height",i.tableStackHeightPx,"px"),c(),k("table-mode-pane-active",i.tableMode==="road"),W("aria-hidden",i.tableMode==="road"?"false":"true")("inert",i.tableMode==="road"?null:""),c(13),O(i.trainingRows),c(2),k("table-mode-pane-active",i.tableMode==="track"),W("aria-hidden",i.tableMode==="track"?"false":"true")("inert",i.tableMode==="track"?null:""),c(8),O(i.primaryHeaders),c(3),O(i.repRowsPrimary),c(8),O(i.secondaryHeaders),c(3),O(i.repRowsSecondary))},dependencies:[R],styles:[".table-mode-stack[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:height var(--calc-motion-normal) var(--calc-motion-ease)}.table-mode-pane[_ngcontent-%COMP%]{transition:opacity var(--calc-motion-normal) var(--calc-motion-ease)}.table-mode-pane[_ngcontent-%COMP%]:not(.table-mode-pane-active){position:absolute;top:0;left:0;right:0;opacity:0;pointer-events:none}.table-mode-pane-active[_ngcontent-%COMP%]{position:relative;opacity:1}.result-link[_ngcontent-%COMP%]{min-height:26px;display:inline-flex;justify-content:center;align-items:center;font-size:.75rem;font-weight:600;color:var(--calc-text-strong);background:color-mix(in oklab,var(--calc-surface-2) 68%,var(--calc-surface-1));border:1px solid var(--calc-border-strong);border-radius:9999px;padding:0 .6rem;white-space:nowrap;transition:transform var(--calc-motion-fast) var(--calc-motion-ease),background-color var(--calc-motion-fast) var(--calc-motion-ease)}.result-link[_ngcontent-%COMP%]:active{transform:scale(.96);background:color-mix(in oklab,var(--calc-surface-3) 88%,var(--calc-surface-2))}@media (prefers-reduced-motion: reduce){.table-mode-stack[_ngcontent-%COMP%], .table-mode-pane[_ngcontent-%COMP%]{transition:none}}"]});let o=s;return o})();var ti={easy:{title:"Easy Pace",variety:"Easy pace running refers to warm-ups, cool-downs, recovery runs, recovery running within a workout, and generally long runs.",intensity:"Generally in the range of 59-74% VO2max or 65-79% of LTHR effort. This is a comfortable conversational pace that may vary by heat, terrain, and fatigue.",purpose:"Builds aerobic base and durability so higher-intensity training can be absorbed. Supports recovery while adding useful low-stress volume.",sampleWorkout:"30-45 minutes easy, or easy long run with relaxed finish."},marathon:{title:"Marathon Pace",variety:"Used in sustained marathon-specific tempo runs and long runs with marathon-effort blocks.",intensity:"Steady and controlled effort, typically around 75-84% VO2max for well-trained runners. Feels strong but sustainable for a long duration.",purpose:"Improves fuel efficiency, rhythm, and muscular endurance needed for long race pacing without crossing threshold effort.",sampleWorkout:"2 x 20 minutes at marathon pace with 5 minutes easy between blocks."},threshold:{title:"Threshold Pace",variety:"Used for tempo runs and cruise intervals where recovery is short and rhythm remains controlled.",intensity:"Comfortably hard effort close to one-hour race pace. Speech is limited to short phrases and breathing is deep but controlled.",purpose:"Raises lactate threshold so a faster pace can be sustained aerobically for longer race efforts.",sampleWorkout:"4 x 8 minutes at threshold pace with 2 minutes easy jog recoveries."},interval:{title:"Interval Pace",variety:"VO2max-focused repeats of roughly 3-5 minutes with equal or slightly shorter recoveries.",intensity:"Hard effort near VO2max. Breathing is heavy and the final reps are challenging while still keeping split consistency.",purpose:"Improves oxygen uptake and aerobic power so race pace feels more economical.",sampleWorkout:"5 x 1000m at interval pace with 2:30-3:00 jog recovery."},repetition:{title:"Repetition Pace",variety:"Short fast reps with full recovery, often on track, focused on quality over fatigue.",intensity:"Very hard but not all-out. Reps should feel smooth and precise with complete reset before the next repeat.",purpose:"Develops running economy, mechanics, and neuromuscular speed without deep metabolic stress.",sampleWorkout:"8 x 200m at repetition pace with full walk/jog recovery."},fastReps:{title:"Fast Reps",variety:"Very short repetition work used for top-end turnover and sharpeners near race phases.",intensity:"Fast, relaxed, and technically clean. Effort is high, but total session stress stays controlled through long recoveries.",purpose:"Improves leg speed, coordination, and running economy at high cadence.",sampleWorkout:"10 x 200m fast reps with full recovery and smooth form focus."}};var ni=(()=>{let s=class s{constructor(){this.modalCtrl=A(q),F({arrowBackOutline:X})}dismiss(){this.modalCtrl.dismiss()}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-training-pace-info-modal"]],inputs:{typeInfo:"typeInfo"},decls:28,vars:5,consts:[[1,"safe-area-inline","safe-area-bottom","heat-adjustment-sheet-content","px-2","pb-2","pt-3","mx-3"],["mode","md",1,"focus-summary-item","mb-3"],["aria-label","Back","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"text-xl"],[1,"calc-surface-card","mb-5","flex","max-h-[75vh]","flex-col","gap-5","overflow-y-auto","px-4","py-4"],[1,"text-primary","mb-1","text-xs","font-bold","uppercase","tracking-wider"],[1,"text-[15px]","leading-relaxed","text-[var(--calc-text-strong)]"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"ion-item",1)(2,"ion-button",2),m("click",function(){return i.dismiss()}),_(3,"ion-icon",3),r(),a(4,"ion-label")(5,"span",4),l(6),r()()(),a(7,"div",5)(8,"div")(9,"div",6),l(10,"Variety"),r(),a(11,"div",7),l(12),r()(),a(13,"div")(14,"div",6),l(15,"Intensity"),r(),a(16,"div",7),l(17),r()(),a(18,"div")(19,"div",6),l(20,"Purpose"),r(),a(21,"div",7),l(22),r()(),a(23,"div")(24,"div",6),l(25,"Sample Workout"),r(),a(26,"div",7),l(27),r()()()()),n&2&&(c(6),C(i.typeInfo.title||"Training Pace"),c(6),C(i.typeInfo.variety),c(5),C(i.typeInfo.intensity),c(5),C(i.typeInfo.purpose),c(5),C(i.typeInfo.sampleWorkout))},dependencies:[R,K,Pe,N,D],encapsulation:2});let o=s;return o})();F({arrowBackOutline:X,openOutline:gn});var ii=(()=>{let s=class s{constructor(){this.modalCtrl=A(q)}dismiss(){this.modalCtrl.dismiss()}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-lthr-info-modal"]],decls:32,vars:0,consts:[[1,"safe-area-inline","safe-area-bottom","heat-adjustment-sheet-content","px-2","pb-2","pt-3","mx-3"],["mode","md",1,"focus-summary-item","mb-3"],["aria-label","Back","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"text-xl"],[1,"calc-surface-card","mb-5","flex","max-h-[75vh]","flex-col","gap-5","overflow-y-auto","px-4","py-4"],[1,"text-primary","mb-1","text-xs","font-bold","uppercase","tracking-wider"],[1,"text-[15px]","leading-relaxed","text-[var(--calc-text-strong)]"],[1,"pt-2"],["href","https://www.runnersworld.com/uk/training/a41865710/lactate-threshold/","target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","gap-1.5","text-[var(--calc-accent)]","hover:underline"],["name","open-outline",1,"text-sm"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"ion-item",1)(2,"ion-button",2),m("click",function(){return i.dismiss()}),_(3,"ion-icon",3),r(),a(4,"ion-label")(5,"span",4),l(6,"How to use this"),r()()(),a(7,"div",5)(8,"div")(9,"div",6),l(10,"What is LTHR?"),r(),a(11,"div",7),l(12," Lactate Threshold Heart Rate (LTHR) is the heart rate at which lactate begins to accumulate rapidly in your blood. Training at or near this threshold improves your body's ability to sustain faster paces for longer periods. "),r()(),a(13,"div")(14,"div",6),l(15,"How to find your LTHR"),r(),a(16,"div",7),l(17," The most accurate method is a lab test with blood lactate analysis. Alternatively, you can estimate it by running a 30-minute time trial all-out, then use your average heart rate from the last 20 minutes as your LTHR. Many modern running watches can also estimate this value. "),r()(),a(18,"div")(19,"div",6),l(20,"Benefits of LTHR training"),r(),a(21,"div",7),l(22," Training at threshold intensity raises your lactate threshold, allowing you to run faster before fatigue sets in. This is one of the most effective ways to improve race times from 5K to marathon distances. "),r()(),a(23,"div")(24,"div",6),l(25,"Using heart rate zones"),r(),a(26,"div",7),l(27," Enter your LTHR in bpm to see personalized heart rate zones. These zones help you train at the right intensity \u2014 easy runs stay aerobic (Z1-Z2), tempo runs target threshold (Z3-Z4), and intervals push into VO2max (Z5b) and anaerobic (Z5c) zones. "),r()(),a(28,"div",8)(29,"a",9),l(30," Learn more about lactate threshold training "),_(31,"ion-icon",10),r()()()())},dependencies:[R,K,Pe,N,D],encapsulation:2});let o=s;return o})();var la=mi(ui(),1);var sa=(o,s,t,e,n,i)=>({focusId:o,paceType:s,distance:t,distanceType:e,time:n,pace:i}),ca=(o,s,t,e,n,i,d,f,I)=>({inputType:o,distance:s,pace:t,time:e,distanceType:n,paceType:i,lockType:d,isInputCollapsed:f,focusId:I}),pa=o=>({paceType:o}),da=(o,s,t,e)=>({splitsChartReady:o,splitsChartOptions:s,splitPlan:t,splits:e}),ma=()=>[],Ot=o=>({"input-metric-card-active":o}),ai=o=>({"metric-highlight":o}),It=o=>({"fixed-metric-chip-active":o}),ua=(o,s)=>s.id;function ha(o,s){if(o&1){let t=x();a(0,"div",11)(1,"div"),l(2," Pace adjusted for heat at "),a(3,"span",29),l(4),r()(),a(5,"button",30),m("click",function(){u(t);let n=p();return h(n.clearHeatAdjustment())}),_(6,"ion-icon",31),r()()}if(o&2){let t=p();c(4),re(" ",t.heatAdjustment().temperature+"\xB0"+t.heatAdjustment().temperatureType.toUpperCase()," & ",t.heatAdjustment().dewPoint+"\xB0"+t.heatAdjustment().temperatureType.toUpperCase()," dewpoint ")}}function ga(o,s){if(o&1){let t=x();a(0,"article",32)(1,"div",33)(2,"div")(3,"button",34),m("click",function(){u(t);let n=p().$implicit,i=p();return h(i.setDistance(n.distanceInMeters))}),l(4),r()(),a(5,"div")(6,"p",35),l(7),r()(),a(8,"div")(9,"p",35),l(10),r()(),a(11,"ion-button",36),m("click",function(){u(t);let n=p().$implicit,i=p();return h(i.setFocus(n.id))}),_(12,"ion-icon",37),r()()()}if(o&2){let t=s,e=p().$implicit,n=p();c(3),W("aria-label","Use "+e.type+" distance"),c(),y(" ",e.type," "),c(2),k("flash-highlight",n.highlightResults()),c(),C(e.time),c(2),k("flash-highlight",n.highlightResults()),c(),re(" ",e.pace," ","/"+(t.paceType==="m400"?"400m":t.paceType)," "),c(),W("aria-label","View details for "+e.type)}}function fa(o,s){if(o&1&&(b(0,ga,13,10,"article",32),P(1,"async")),o&2){let t,e=p();v((t=U(3,pa,w(1,1,e.paceType$)))?0:-1,t)}}function _a(o,s){if(o&1){let t=x();a(0,"div",38)(1,"app-splits-panel",39),m("splitHalfDeltaChange",function(n){u(t);let i=p(3);return h(i.handleSplitHalfDeltaChange(n))})("splitHalfDeltaReset",function(){u(t);let n=p(3);return h(n.handleSplitHalfDeltaReset())})("splitStrategyProfileChange",function(n){u(t);let i=p(3);return h(i.handleSplitStrategyProfileChange(n))})("splitTransitionPointChange",function(n){u(t);let i=p(3);return h(i.handleSplitTransitionPointChange(n))})("splitLapTagChange",function(n){u(t);let i=p(3);return h(i.handleSplitLapTagChange(n))})("splitLapTagsReset",function(){u(t);let n=p(3);return h(n.handleSplitLapTagsReset())}),r()()}if(o&2){let t=s,e=p(3);g("@focusTabPane","active"),c(),g("highcharts",e.highcharts)("splitsChartReady",!!t.splitsChartReady)("splitsChartOptions",t.splitsChartOptions)("splitPlan",t.splitPlan)("splits",t.splits||$t(6,ma))}}function ba(o,s){if(o&1&&(b(0,_a,2,7,"div",38),P(1,"async"),P(2,"async"),P(3,"async"),P(4,"async")),o&2){let t,e=p(2);v((t=Lt(9,da,w(1,1,e.splitsChartReady$),w(2,3,e.splitsChartOptions$),w(3,5,e.splitPlan$),w(4,7,e.splits$)))?0:-1,t)}}function xa(o,s){if(o&1){let t=x();a(0,"div",38)(1,"app-training-paces-panel",40),m("openTypeInfo",function(n){u(t);let i=p(2);return h(i.openTrainingTypeInfo(n))}),r()()}if(o&2){let t=p(2);g("@focusTabPane","active"),c(),g("tableMode",t.trainingTableMode())("trainingRows",t.trainingRows())("repRowsPrimary",t.repRowsPrimary())("repRowsSecondary",t.repRowsSecondary())}}function Ca(o,s){if(o&1){let t=x();a(0,"div",38)(1,"app-lthr-panel",41),m("lthrBpmChange",function(n){u(t);let i=p(2);return h(i.onLthrBpmChange(n))})("openInfo",function(){u(t);let n=p(2);return h(n.openLthrInfo())}),r()()}if(o&2){let t=p(2);g("@focusTabPane","active"),c(),g("lthrSummary",t.lthrSummary())("lthrBpm",t.lthrBpm())}}function va(o,s){if(o&1){let t=x();a(0,"div",38)(1,"app-blocks-panel",42),m("navigateToTab",function(n){u(t);let i=p(2);return h(i.onFocusTabChange(n))}),r()()}if(o&2){let t,e=p(2);g("@focusTabPane","active"),c(),g("distanceMeters",((t=e.goalPerformance())==null?null:t.distanceMeters)||0)("distanceType",e.distanceType())("focusId",e.focusId())}}function ya(o,s){if(o&1&&(a(0,"div",13),b(1,ba,5,14)(2,xa,2,5,"div",38)(3,Ca,2,3,"div",38)(4,va,2,4,"div",38),r()),o&2){let t,e=p();c(),v((t=e.activeFocusTab())==="splits"?1:t==="training"?2:t==="lthr"?3:t==="blocks"?4:-1)}}function ka(o,s){if(o&1){let t=x();a(0,"div",16)(1,"div",43)(2,"app-focused-performance-tabs",44),m("activeTabChange",function(n){u(t);let i=p();return h(i.onFocusTabChange(n))}),r()()()}if(o&2){let t=p();c(2),g("activeTab",t.activeFocusTab())}}function Pa(o,s){if(o&1&&(a(0,"ion-label")(1,"p",49),l(2),r(),a(3,"h1",50),l(4),r(),a(5,"p",51),l(6),r()()),o&2){let t=p(),e=p(2);c(2),y(" ",t[e.focusId].type," "),c(2),C(t[e.focusId].time),c(2),re(" ",t[e.focusId].pace,"","/"+(e.paceType==="m400"?"400m":e.paceType)," ")}}function wa(o,s){if(o&1&&(a(0,"ion-label")(1,"p",49),l(2),r(),a(3,"h1",50),l(4),r(),a(5,"p",51),l(6),r()()),o&2){let t=p(3);c(2),re(" ",t.distance,"",t.distanceType," "),c(2),C(t.time),c(2),re(" ",t.pace,"","/"+(t.paceType==="m400"?"400m":t.paceType)," ")}}function Ta(o,s){if(o&1){let t=x();a(0,"ion-item",56),m("click",function(){let n=u(t).$implicit;p(2);let i=be(3),d=p(4);return i.dismiss(),h(d.useSplitsTool(n.command))}),a(1,"ion-label"),l(2),r()()}if(o&2){let t=s.$implicit;c(2),C(t.label)}}function Sa(o,s){if(o&1&&(a(0,"ion-list",54),M(1,Ta,3,1,"ion-item",55,Y),r()),o&2){let t=p(5);c(),O(t.splitsToolsMap)}}function Ma(o,s){o&1&&(a(0,"button",52),l(1," Split By "),r(),a(2,"ion-popover",53,0),b(4,Sa,3,0,"ng-template"),r())}function Oa(o,s){if(o&1){let t=x();a(0,"ion-segment",57),m("ionChange",function(n){u(t);let i=p(4);return h(i.onModeChange(n))}),a(1,"ion-segment-button",58)(2,"ion-label"),l(3,"Road"),r()(),a(4,"ion-segment-button",59)(5,"ion-label"),l(6,"Track"),r()()()}if(o&2){let t=p(4);g("value",t.trainingTableMode())}}function Ia(o,s){if(o&1){let t=x();a(0,"ion-item",45)(1,"ion-button",46),m("click",function(){u(t);let n=p(3);return h(n.setFocus(null))}),_(2,"ion-icon",47),r(),b(3,Pa,7,4,"ion-label")(4,wa,7,5,"ion-label")(5,Ma,5,0)(6,Oa,7,1,"ion-segment",48),r()}if(o&2){let t=p(2),e=p();c(3),v(t.focusId!==-1&&t.focusId!==null?3:4),c(2),v(e.activeFocusTab()==="splits"?5:-1),c(),v(e.activeFocusTab()==="training"?6:-1)}}function Ea(o,s){if(o&1&&(b(0,Ia,7,3,"ion-item",45),P(1,"async")),o&2){let t,e=p(2);v((t=w(1,1,e.results$))?0:-1,t)}}function Ra(o,s){o&1&&b(0,Ea,2,3),o&2&&v(s.focusId!==null?0:-1)}function Va(o,s){if(o&1){let t=x();a(0,"div",60)(1,"div",72)(2,"button",73),m("click",function(n){u(t);let i=p(2);return h(i.onLockTypeChange(n,"distance"))}),_(3,"ion-icon",74),l(4),r(),a(5,"button",75),m("click",function(n){u(t);let i=p(2);return h(i.onLockTypeChange(n,"time"))}),_(6,"ion-icon",74),l(7),r(),a(8,"button",76),m("click",function(n){u(t);let i=p(2);return h(i.onLockTypeChange(n,"pace"))}),_(9,"ion-icon",74),l(10),r()()()}if(o&2){let t=p();c(2),g("ngClass",U(9,It,t.lockType==="distance")),c(),g("name",t.lockType==="distance"?"pin":"pin-outline"),c(),y(" ",t.lockType==="distance"?"Distance Pinned":"Pin Distance"," "),c(),g("ngClass",U(11,It,t.lockType==="time")),c(),g("name",t.lockType==="time"?"pin":"pin-outline"),c(),y(" ",t.lockType==="time"?"Time Pinned":"Pin Time"," "),c(),g("ngClass",U(13,It,t.lockType==="pace")),c(),g("name",t.lockType==="pace"?"pin":"pin-outline"),c(),y(" ",t.lockType==="pace"?"Pace Pinned":"Pin Pace"," ")}}function Ba(o,s){o&1&&_(0,"ion-icon",63)}function Aa(o,s){o&1&&_(0,"ion-icon",63)}function Da(o,s){o&1&&_(0,"ion-icon",63)}function Fa(o,s){if(o&1){let t=x();b(0,Va,11,15,"div",60),a(1,"div",61)(2,"button",62),m("click",function(){u(t);let n=p();return h(n.onInputTypeChange("distance"))}),b(3,Ba,1,0,"ion-icon",63),a(4,"ion-label",64),l(5),r(),a(6,"div",65)(7,"p",66),l(8),r(),a(9,"p",67),l(10),r()()(),a(11,"button",68),m("click",function(){u(t);let n=p();return h(n.onInputTypeChange("time"))}),b(12,Aa,1,0,"ion-icon",63),a(13,"ion-label",64),l(14),r(),a(15,"div",65)(16,"p",69),l(17),r()()(),a(18,"button",70),m("click",function(){u(t);let n=p();return h(n.onInputTypeChange("pace"))}),b(19,Da,1,0,"ion-icon",63),a(20,"ion-label",64),l(21),r(),a(22,"div",65)(23,"p",69),l(24),r(),a(25,"p",71),l(26),r()()()()}if(o&2){let t=s,e=p();v(e.isKeyboardShowing()&&t.focusId===null&&!t.isInputCollapsed?0:-1),c(),k("hidden",t.isInputCollapsed||t.focusId!==null),c(),g("ngClass",U(19,Ot,t.inputType==="distance")),c(),v(t.lockType==="distance"?3:-1),c(2),y(" ",t.inputType==="distance"&&e.isKeyboardShowing()?"Enter ":"","Distance "),c(2),g("ngClass",U(21,ai,e.highlightDistance())),c(),y(" ",t.distance||"0"," "),c(),g("ngClass",U(23,ai,e.highlightDistance())),c(),C(t.distanceType),c(),g("ngClass",U(25,Ot,t.inputType==="time")),c(),v(t.lockType==="time"?12:-1),c(2),y(" ",t.inputType==="time"&&e.isKeyboardShowing()?"Enter ":"","Time "),c(3),C(t.time||"00:00:00"),c(),g("ngClass",U(27,Ot,t.inputType==="pace")),c(),v(t.lockType==="pace"?19:-1),c(2),y(" ",t.inputType==="pace"&&e.isKeyboardShowing()?"Enter ":"","Pace "),c(3),C(t.pace||"00:00"),c(2),C("/"+(t.paceType==="m400"?"400m":t.paceType))}}function Ha(o,s){if(o&1){let t=x();a(0,"ion-col",77)(1,"app-calculator-input",87),m("inputChange",function(n){u(t);let i=p(2);return h(i.onAdjustmentChange(n))}),r()()}o&2&&(c(),g("buttonRows",s))}function ja(o,s){if(o&1){let t=x();a(0,"ion-item",56),m("click",function(){let n=u(t).$implicit;p(2);let i=be(12),d=p();return i.dismiss(),h(d.useDistanceTool(n.command))}),a(1,"ion-label"),l(2),r()()}if(o&2){let t=s.$implicit;c(2),C(t.label)}}function $a(o,s){if(o&1&&(a(0,"ion-list",54),M(1,ja,3,1,"ion-item",55,Y),r()),o&2){let t=p(2);c(),O(t.distanceToolsMap)}}function La(o,s){if(o&1){let t=x();a(0,"ion-item",56),m("click",function(){let n=u(t).$implicit;p(2);let i=be(17),d=p();return i.dismiss(),h(d.usePaceTool(n.command))}),a(1,"ion-label"),l(2),r()()}if(o&2){let t=s.$implicit;c(2),C(t.label)}}function Na(o,s){if(o&1&&(a(0,"ion-list",54),M(1,La,3,1,"ion-item",55,Y),r()),o&2){let t=p(2);c(),O(t.paceToolsMap)}}function za(o,s){if(o&1){let t=x();a(0,"ion-row",18),b(1,Ha,2,1,"ion-col",77),P(2,"async"),a(3,"ion-col",78)(4,"app-calculator-input",79),m("clear",function(){u(t);let n=p();return h(n.onClearInput())})("inputChange",function(n){u(t);let i=p();return h(i.onInputChange(n))}),r()(),a(5,"ion-col",80)(6,"div",81)(7,"ion-button",82),m("click",function(){u(t);let n=p();return h(n.viewDetails())}),_(8,"ion-icon",37),r(),a(9,"button",83),l(10," Distance Tools "),r(),a(11,"ion-popover",84,1),b(13,$a,3,0,"ng-template"),r(),a(14,"button",85),l(15," Pace Tools "),r(),a(16,"ion-popover",86,2),b(18,Na,3,0,"ng-template"),r()()()()}if(o&2){let t,e=p();c(),v((t=w(2,2,e.adjustmentButtons$))?1:-1,t),c(3),g("buttonRows",e.inputButtons)}}var $l=(()=>{let s=class s{onModeChange(e){this.onTrainingTableModeChange(e.detail.value)}constructor(){this.store=A(se),this.modalCtrl=A(q),this.darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.lightThemeColor="#c8daf3",this.darkThemeColor="#0f172a",this.systemThemeListener=e=>{this.appTheme()==="system"&&this.applyTheme(this.appTheme(),e.matches,this.appAccent())},this.highcharts=la,this.paceToolsMap=kn,this.distanceToolsMap=Pn,this.splitsToolsMap=wn,this.trainingTypeInfo=ti,this.activeFocusTab=B("splits"),this.trainingTableMode=B("road"),this.lthrBpm=B(""),this.highlightDistance=B(!1),this.highlightResults=B(!1),this.distance$=this.store.select(yt),this.distanceType$=this.store.select(kt),this.time$=this.store.select(Pt),this.pace$=this.store.select(In),this.paceType$=this.store.select(En),this.results$=this.store.select(Tt),this.lockType$=this.store.select(Rn),this.inputType$=this.store.select(Vn),this.focusId$=this.store.select(wt),this.adjustmentButtons$=this.store.select(Bn),this.splits$=this.store.select(An),this.splitDistanceBy$=this.store.select(Dn),this.isInputCollapsed$=this.store.select(Fn),this.splitsChartOptions$=this.store.select(Hn),this.splitsChartReady$=this.store.select(jn),this.splitPlan$=this.store.select($n),this.isKeyboardShowing=this.store.selectSignal(Ln),this.appTheme=this.store.selectSignal(ct),this.appAccent=this.store.selectSignal(pt),this.overallCalculationMode=this.store.selectSignal(Nn),this.heatAdjustment=this.store.selectSignal(dt),this.focusId=this.store.selectSignal(wt),this.results=this.store.selectSignal(Tt),this.distance=this.store.selectSignal(yt),this.distanceType=this.store.selectSignal(kt),this.time=this.store.selectSignal(Pt),this.themeEffect=Ut(()=>{let e=this.appTheme(),n=this.appAccent();this.applyTheme(e,this.darkModeMediaQuery.matches,n)}),this.goalPerformance=le(()=>{let e=this.focusId();if(e===null)return null;if(e>=0){let d=this.results().find(f=>f.id===e);return d?{distanceMeters:d.distanceInMeters,timeSeconds:vt(d.time)}:null}let n=Number(this.distance());return{distanceMeters:this.distanceType()==="km"?n*1e3:n*1609.344,timeSeconds:vt(this.time())}}),this.trainingPaces=le(()=>{let e=this.goalPerformance();return!e||!e.timeSeconds?null:Sn(e.distanceMeters,e.timeSeconds)}),this.trainingRepTables=le(()=>{let e=this.trainingPaces();return e?Mn(e):null}),this.trainingRows=le(()=>{let e=this.trainingPaces();if(!e)return[];let n=i=>i*1.60934;return[{type:"easy",label:"Easy",pacePerKm:{min:$(e.easy.min),max:$(e.easy.max)},pacePerMi:{min:$(n(e.easy.min)),max:$(n(e.easy.max))}},{type:"marathon",label:"Marathon",pacePerKm:$(e.marathon),pacePerMi:$(n(e.marathon))},{type:"threshold",label:"Threshold",pacePerKm:$(e.threshold),pacePerMi:$(n(e.threshold))},{type:"interval",label:"Interval",pacePerKm:$(e.interval),pacePerMi:$(n(e.interval))},{type:"repetition",label:"Repetition",pacePerKm:$(e.repetition),pacePerMi:$(n(e.repetition))}]}),this.repRowsPrimary=le(()=>{let e=this.trainingRepTables();return e?[{type:"threshold",label:"Threshold",times:{"1200m":e.primary.threshold["1200m"],"800m":e.primary.threshold["800m"],"600m":e.primary.threshold["600m"],"400m":null,"300m":null,"200m":null}},{type:"interval",label:"Interval",times:{"1200m":e.primary.interval["1200m"],"800m":e.primary.interval["800m"],"600m":e.primary.interval["600m"],"400m":null,"300m":null,"200m":null}},{type:"repetition",label:"Repetition",times:{"1200m":e.primary.repetition["1200m"],"800m":e.primary.repetition["800m"],"600m":e.primary.repetition["600m"],"400m":null,"300m":null,"200m":null}}]:[]}),this.repRowsSecondary=le(()=>{let e=this.trainingRepTables();return e?[{type:"interval",label:"Interval",times:{"1200m":null,"800m":null,"600m":null,"400m":e.secondary.interval["400m"],"300m":e.secondary.interval["300m"],"200m":e.secondary.interval["200m"]}},{type:"repetition",label:"Repetition",times:{"1200m":null,"800m":null,"600m":null,"400m":e.secondary.repetition["400m"],"300m":e.secondary.repetition["300m"],"200m":e.secondary.repetition["200m"]}},{type:"fastReps",label:"Fast Reps",times:{"1200m":null,"800m":null,"600m":null,"400m":e.secondary.fastReps["400m"],"300m":e.secondary.fastReps["300m"],"200m":e.secondary.fastReps["200m"]}}]:[]}),this.lthrSummary=le(()=>{let e=this.trainingPaces();if(!e)return null;let n=$(e.threshold),i=$(e.threshold*1.60934),d=On(Number(this.lthrBpm()));return{thresholdPacePerKm:n,thresholdPacePerMi:i,hasLthrBpm:!!d,zones:d||void 0}}),this.inputButtons=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","C"]],F({arrowForward:an,chevronCollapseOutline:ln,heart:ot,calculator:rn,calculatorOutline:nt,lockOpenOutline:un,lockClosed:mn,pin:fn,pinOutline:lt,hammerOutline:dn,arrowBackOutline:X,chevronForwardOutline:sn,informationCircleOutline:rt,closeCircleOutline:cn,"keyboard-hide":"assets/keyboard_hide.svg","keyboard-show":"assets/keyboard_show.svg"})}async ngOnInit(){this.handleColorSchemeChange();let{value:e}=await ue.get({key:"LTHR_BPM"});e&&this.lthrBpm.set(e)}ngOnDestroy(){this.darkModeMediaQuery.removeEventListener("change",this.systemThemeListener)}async ionViewDidEnter(){await this.checkFirstInstall()}async checkFirstInstall(){let{value:e}=await ue.get({key:Fe});e!=="true"&&await(await this.modalCtrl.create({component:ut,backdropDismiss:!1,cssClass:"onboarding-fullscreen-modal"})).present()}handleColorSchemeChange(){this.darkModeMediaQuery.addEventListener("change",this.systemThemeListener)}applyTheme(e,n,i){let d=e==="dark"||e==="system"&&n,f=document.documentElement;f.dataset.theme=e,f.classList.toggle("dark",d),f.classList.toggle("ion-palette-dark",d),this.applyAccent(i,d),this.updateThemeColorMeta(d),this.store.dispatch(T.changeTheme({isDarkMode:d}))}updateThemeColorMeta(e){let n=document.documentElement,f=getComputedStyle(n).getPropertyValue("--calc-surface-0").trim()||(e?this.darkThemeColor:this.lightThemeColor),I=document.querySelector('meta[name="theme-color"]');I&&I.setAttribute("content",f)}applyAccent(e,n){let i=yn(e),d=document.documentElement,f=n?i.dark:i.light;d.style.setProperty("--calc-accent",f.accent),d.style.setProperty("--calc-accent-strong",f.accentStrong),d.style.setProperty("--calc-link",f.accentStrong),d.style.setProperty("--calc-surface-0",f.surface0),d.style.setProperty("--calc-surface-1",f.surface1),d.style.setProperty("--calc-surface-2",f.surface2),d.style.setProperty("--calc-surface-3",f.surface3)}trackById(e,n){return n.id}setFocus(e){var n,i;try{(i=(n=this.ionContent)==null?void 0:n.nativeElement)==null||i.scrollToTop()}catch{}e!==null&&(this.activeFocusTab.set("splits"),this.trainingTableMode.set("road")),this.store.dispatch(T.setFocus({focusId:e}))}setDistance(e){this.highlightDistance.set(!0),setTimeout(()=>{this.highlightDistance.set(!1)},200),this.store.dispatch(T.setDistance({distanceInMeters:e}))}onLockTypeChange(e,n){this.store.dispatch(T.changeLockType({lockType:n})),e.stopPropagation()}onAdjustmentChange(e){this.store.dispatch(T.adjustmentChanged({adjustment:e}))}onInputTypeChange(e){this.isKeyboardShowing()&&this.store.dispatch(T.changeInputType({inputType:e}))}onInputChange(e){this.store.dispatch(T.inputChanged({input:e}))}onClearInput(){this.store.dispatch(T.clearInput())}useDistanceTool(e){this.store.dispatch(T.useDistanceTool({command:e}))}async usePaceTool(e){if(e==="heatAdjust"){let n=await this.modalCtrl.create({component:Kn,cssClass:"heat-adjustment-fullscreen-modal"});await n.present();let{data:i}=await n.onDidDismiss();i&&this.store.dispatch(T.applyHeatAdjustment({payload:{temperature:i.temperature,dewPoint:i.dewPoint,temperatureType:i.temperatureType}}))}else this.store.dispatch(T.usePaceTool({command:e}))}clearHeatAdjustment(){this.store.dispatch(T.applyHeatAdjustment({payload:{temperature:"",dewPoint:"",temperatureType:this.heatAdjustment().temperatureType}}))}useSplitsTool(e){this.store.dispatch(T.useSplitsTool({command:e}))}viewDetails(){this.setFocus(-1)}handleSplitHalfDeltaChange(e){this.store.dispatch(T.setSplitHalfDelta({seconds:e}))}handleSplitHalfDeltaReset(){this.store.dispatch(T.resetSplitHalfDelta())}handleSplitStrategyProfileChange(e){this.store.dispatch(T.setSplitStrategyProfile({profile:e}))}handleSplitTransitionPointChange(e){this.store.dispatch(T.setSplitTransitionPoint({percent:e}))}handleSplitLapTagChange(e){this.store.dispatch(T.setSplitLapTag(e))}handleSplitLapTagsReset(){this.store.dispatch(T.resetLapTags())}onCalculationModeChange(e){this.store.dispatch(T.setOverallCalculationMode({mode:e.detail.value==="useRacePredictor"?"race":"pace"})),this.highlightResults.set(!1),setTimeout(()=>{this.highlightResults.set(!0),setTimeout(()=>{this.highlightResults.set(!1)},500)},10)}onFocusTabChange(e){this.activeFocusTab.set(e)}onTrainingTableModeChange(e){this.trainingTableMode.set(e)}onLthrBpmChange(e){this.lthrBpm.set(e),ue.set({key:"LTHR_BPM",value:e})}async openTrainingTypeInfo(e){let n=this.trainingTypeInfo[e];if(!n)return;await(await this.modalCtrl.create({component:ni,componentProps:{typeInfo:n},cssClass:"heat-adjustment-sheet",handle:!0,initialBreakpoint:1,breakpoints:[0,1]})).present()}async openLthrInfo(){await(await this.modalCtrl.create({component:ii,cssClass:"heat-adjustment-sheet",handle:!0,initialBreakpoint:1,breakpoints:[0,1]})).present()}toggleKeyboard(){this.store.dispatch(T.toggleKeyboard())}async openAboutModal(){await(await this.modalCtrl.create({component:Gn,cssClass:"about-fullscreen-modal"})).present()}};s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=S({type:s,selectors:[["app-calculator"]],viewQuery:function(n,i){if(n&1&&ce(ie,5,$e),n&2){let d;pe(d=de())&&(i.ionContent=d.first)}},decls:63,vars:75,consts:[["splitsPopover",""],["distancePopover",""],["pacePopover",""],[1,"safe-area-content","safe-area-content-top","calc-content"],[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"sticky","top-2","z-10"],[1,"calc-surface-card","p-3","backdrop-blur"],[1,"results-head-grid","mb-2","text-[11px]","font-semibold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"translate-x-5"],[1,"translate-x-6"],[1,"-translate-x-2","text-center"],[1,"calc-shell-subtle","calc-heat-banner","flex","items-center","justify-between","gap-2","py-2","pl-3","pr-2","text-xs"],[1,"results-table","mt-2"],[1,"focus-tab-shell"],[1,"safe-area-inline","safe-area-bottom","calc-footer"],[1,"mx-auto","max-w-5xl","px-2","pb-2"],[1,"my-2"],[1,"calc-keypad-grid","calc-shell-subtle","mt-1","rounded-2xl","p-1"],[1,"ion-align-items-center"],[1,"ion-align-items-center","mt-1"],["size","2"],["aria-label","Open about","fill","clear","shape","round",1,"calc-icon-btn","mx-auto","flex",3,"click"],["slot","icon-only","name","information-circle-outline"],["size","8"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","useSteadyPace"],["value","useRacePredictor"],["aria-label","Toggle keyboard","fill","clear","shape","round",1,"calc-icon-btn","mx-auto","flex",3,"click"],["slot","icon-only",3,"name"],[1,"font-semibold"],["type","button","aria-label","Clear heat adjustment",1,"calc-heat-dismiss","flex","items-center","justify-center","rounded-full","p-1","transition-colors",3,"click"],["name","close-circle-outline",1,"text-base"],[1,"result-row-card"],[1,"result-row-grid"],["type","button",1,"result-link",3,"click"],[1,"result-primary"],["fill","clear","shape","round",1,"calc-icon-btn","result-splits-btn","mx-auto","-translate-x-2",3,"click"],["slot","icon-only","name","arrow-forward"],[1,"focus-tab-pane"],[3,"splitHalfDeltaChange","splitHalfDeltaReset","splitStrategyProfileChange","splitTransitionPointChange","splitLapTagChange","splitLapTagsReset","highcharts","splitsChartReady","splitsChartOptions","splitPlan","splits"],[3,"openTypeInfo","tableMode","trainingRows","repRowsPrimary","repRowsSecondary"],[3,"lthrBpmChange","openInfo","lthrSummary","lthrBpm"],[3,"navigateToTab","distanceMeters","distanceType","focusId"],[1,"mx-auto","max-w-5xl"],[3,"activeTabChange","activeTab"],["mode","md",1,"focus-summary-item"],["aria-label","Back to calculator","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],["mode","ios",1,"app-segment","w-[150px]","p-[2px]",3,"value"],[1,"calc-muted-copy","text-xs","uppercase","tracking-[0.08em]"],[1,"text-lg","font-extrabold"],[1,"calc-muted-copy","text-sm"],["id","splits-popover-trigger","aria-label","Open split by options",1,"tool-btn","px-3"],["trigger","splits-popover-trigger"],["mode","md"],["button",""],["button","",3,"click"],["mode","ios",1,"app-segment","w-[150px]","p-[2px]",3,"ionChange","value"],["value","road"],["value","track"],[1,"mx-auto","mt-0.5","max-w-xl","rounded-xl"],[1,"calc-shell-subtle","mx-auto","mt-1","grid","max-w-xl","grid-cols-3","gap-1","rounded-2xl","px-1","py-0.5"],["type","button","aria-label","Select distance input",1,"input-metric-card",3,"click","ngClass"],["name","pin",1,"metric-pin-marker"],[1,"metric-label","text-center","text-[10px]","font-semibold","uppercase","tracking-[0.08em]"],[1,"mb-0","mt-0","flex","flex-row","justify-center","gap-1","text-sm","font-semibold","leading-none"],[1,"metric-value","text-right",3,"ngClass"],[1,"metric-unit",3,"ngClass"],["type","button","aria-label","Select time input",1,"input-metric-card",3,"click","ngClass"],[1,"metric-value","text-right"],["type","button","aria-label","Select pace input",1,"input-metric-card",3,"click","ngClass"],[1,"metric-unit"],[1,"grid","grid-cols-3","gap-1"],["type","button","aria-label","Set distance as fixed metric",1,"fixed-metric-chip",3,"click","ngClass"],[1,"text-xs",3,"name"],["type","button","aria-label","Set time as fixed metric",1,"fixed-metric-chip",3,"click","ngClass"],["type","button","aria-label","Set pace as fixed metric",1,"fixed-metric-chip",3,"click","ngClass"],["size","3"],["size","6"],[3,"clear","inputChange","buttonRows"],["size","3",1,"ion-align-self-stretch","min-w-0"],[1,"flex","h-full","flex-col","justify-between","gap-2","py-0.5"],["aria-label","View details","fill","clear","shape","round",1,"calc-icon-btn","result-splits-btn","mx-auto",3,"click"],["id","distance-tools-trigger","aria-label","Open distance tools",1,"tool-btn","w-full","p-2","text-center"],["trigger","distance-tools-trigger"],["id","pace-tools-trigger","aria-label","Open pace tools",1,"tool-btn","w-full","p-2","text-center"],["trigger","pace-tools-trigger"],[3,"inputChange","buttonRows"]],template:function(n,i){if(n&1&&(a(0,"ion-content",3),P(1,"async"),a(2,"div",4),P(3,"async"),a(4,"div")(5,"div",5)(6,"section",6)(7,"div",7)(8,"p"),l(9,"Distance"),r(),a(10,"p",8),l(11,"Time"),r(),a(12,"p",9),l(13,"Pace"),r(),a(14,"p",10),l(15,"Details"),r()(),b(16,ha,7,2,"div",11),r()(),a(17,"div",12),M(18,fa,2,5,null,null,ua),P(20,"async"),r()()(),b(21,ya,5,1,"div",13),P(22,"async"),r(),a(23,"ion-footer",14)(24,"div",15),b(25,ka,3,1,"div",16),P(26,"async"),b(27,Ra,1,1),P(28,"async"),P(29,"async"),P(30,"async"),P(31,"async"),P(32,"async"),P(33,"async"),b(34,Fa,27,29),P(35,"async"),P(36,"async"),P(37,"async"),P(38,"async"),P(39,"async"),P(40,"async"),P(41,"async"),P(42,"async"),P(43,"async"),a(44,"ion-grid",17),P(45,"async"),P(46,"async"),b(47,za,19,4,"ion-row",18),a(48,"ion-row",19)(49,"ion-col",20)(50,"ion-button",21),m("click",function(){return i.openAboutModal()}),_(51,"ion-icon",22),r()(),a(52,"ion-col",23)(53,"ion-segment",24),m("ionChange",function(f){return i.onCalculationModeChange(f)}),a(54,"ion-segment-button",25)(55,"ion-label"),l(56,"Steady Pace"),r()(),a(57,"ion-segment-button",26)(58,"ion-label"),l(59,"Race Predictor"),r()()()(),a(60,"ion-col",20)(61,"ion-button",27),m("click",function(){return i.toggleKeyboard()}),_(62,"ion-icon",28),r()()()()()()),n&2){let d,f;k("focus-scrollbar-visible",w(1,14,i.focusId$)!==null&&(i.activeFocusTab()==="splits"||i.activeFocusTab()==="blocks")),c(2),k("hidden",w(3,16,i.focusId$)!==null),c(14),v(+i.heatAdjustment().temperature&&+i.heatAdjustment().dewPoint?16:-1),c(2),O(w(20,18,i.results$)),c(3),v(w(22,20,i.focusId$)!==null?21:-1),c(4),v(w(26,22,i.focusId$)!==null?25:-1),c(2),v((d=Nt(58,sa,w(28,24,i.focusId$),w(29,26,i.paceType$),w(30,28,i.distance$),w(31,30,i.distanceType$),w(32,32,i.time$),w(33,34,i.pace$)))?27:-1,d),c(7),v((f=zt(65,ca,[w(35,36,i.inputType$),w(36,38,i.distance$),w(37,40,i.pace$),w(38,42,i.time$),w(39,44,i.distanceType$),w(40,46,i.paceType$),w(41,48,i.lockType$),w(42,50,i.isInputCollapsed$),w(43,52,i.focusId$)]))?34:-1,f),c(10),k("hidden",w(45,54,i.isInputCollapsed$)||w(46,56,i.focusId$)!==null),c(3),v(i.isKeyboardShowing()?47:-1),c(6),g("value",i.overallCalculationMode()==="race"?"useRacePredictor":"useSteadyPace"),c(9),g("name",i.isKeyboardShowing()?"keyboard-hide":"keyboard-show")}},dependencies:[Q,G,Un,R,Kt,qt,ve,K,ye,ie,Yt,ke,D,Pe,N,Jt,we,Zt,qn,Xn,ei,Qn,Zn],styles:["[_nghost-%COMP%]{--ion-background-color: var(--calc-surface-0)}.calc-content[_ngcontent-%COMP%]{--background: linear-gradient( 180deg, color-mix(in oklab, var(--calc-surface-0) 82%, white) 0%, color-mix(in oklab, var(--calc-surface-2) 84%, var(--calc-accent) 16%) 100% )}.calc-content.focus-scrollbar-visible[_ngcontent-%COMP%]::part(scroll){overflow-y:scroll;scrollbar-gutter:stable both-edges;scrollbar-width:thin;scrollbar-color:color-mix(in oklab,var(--calc-accent) 46%,var(--calc-surface-3)) transparent}.calc-content.focus-scrollbar-visible[_ngcontent-%COMP%]::part(scroll)::-webkit-scrollbar{width:8px}.calc-content.focus-scrollbar-visible[_ngcontent-%COMP%]::part(scroll)::-webkit-scrollbar-track{background:color-mix(in oklab,var(--calc-surface-2) 58%,transparent);border-radius:9999px}.calc-content.focus-scrollbar-visible[_ngcontent-%COMP%]::part(scroll)::-webkit-scrollbar-thumb{background:color-mix(in oklab,var(--calc-accent) 56%,var(--calc-surface-3));border-radius:9999px}.calc-footer[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-surface-raised) 80%,var(--calc-accent) 20%)}[_ngcontent-%COMP%]:root.ion-palette-dark   .calc-footer[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-surface-0) 80%,transparent)}.focus-tab-shell[_ngcontent-%COMP%]{position:relative;overflow:hidden}.focus-tab-pane[_ngcontent-%COMP%]{width:100%}.tool-btn[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;min-height:42px;border-radius:var(--calc-radius-md);border:1px solid var(--calc-border-strong);background:linear-gradient(145deg,color-mix(in oklab,var(--calc-surface-3) 90%,var(--calc-accent) 10%),color-mix(in oklab,var(--calc-surface-raised) 92%,var(--calc-accent) 8%));color:var(--calc-text-strong);font-size:.875rem;font-weight:400;box-shadow:var(--calc-shadow-sm);transition:transform var(--calc-motion-fast) var(--calc-motion-ease),filter var(--calc-motion-fast) var(--calc-motion-ease)}.tool-btn[_ngcontent-%COMP%]:active{transform:scale(.97);filter:brightness(.95)}.calc-surface-card[_ngcontent-%COMP%]{border-radius:var(--calc-radius-lg);border:1px solid var(--calc-border-subtle);background:color-mix(in oklab,var(--calc-surface-raised) 88%,var(--calc-info-bg));box-shadow:var(--calc-shadow-sm);padding:.5rem .1rem 0}.results-table[_ngcontent-%COMP%]{border-radius:var(--calc-radius-lg);border:1px solid var(--calc-border-subtle);background:color-mix(in oklab,var(--calc-surface-raised) 90%,var(--calc-info-bg));box-shadow:var(--calc-shadow-sm);overflow:hidden}.result-row-card[_ngcontent-%COMP%]{border-radius:0;border:0;background:transparent;box-shadow:none;padding:0 .1rem 0 .8rem;transition:background-color var(--calc-motion-fast) var(--calc-motion-ease),border-color var(--calc-motion-fast) var(--calc-motion-ease)}.result-row-card[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid color-mix(in oklab,var(--calc-border-subtle) 70%,transparent)}.result-row-card[_ngcontent-%COMP%]:nth-child(odd){background:color-mix(in oklab,var(--calc-surface-stripe) 88%,var(--calc-info-bg) 12%)}.result-row-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1.5fr) minmax(0,1fr) minmax(0,1fr) auto;align-items:center;gap:.25rem}.results-head-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1.5fr) minmax(0,1fr) minmax(0,1fr) 58px;align-items:center;gap:.25rem}.results-head-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{text-align:center}.results-head-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{padding-right:.35rem;white-space:nowrap}.result-row-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;justify-content:center}.result-row-grid[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]:last-child{margin-right:.35rem}.result-link[_ngcontent-%COMP%]{min-height:26px;display:inline-flex;justify-content:center;align-items:center;font-size:.75rem;font-weight:600;color:var(--calc-accent-strong);background:color-mix(in oklab,var(--calc-surface-2) 78%,var(--calc-info-bg));border:1px solid var(--calc-border-strong);border-radius:9999px;padding:0 .6rem;white-space:nowrap;transition:transform var(--calc-motion-fast) var(--calc-motion-ease),background-color var(--calc-motion-fast) var(--calc-motion-ease)}.result-link[_ngcontent-%COMP%]:active{transform:scale(.96);background:color-mix(in oklab,var(--calc-surface-3) 88%,var(--calc-info-bg))}.result-primary[_ngcontent-%COMP%]{color:var(--calc-text-strong);font-size:.9rem;font-weight:600}@keyframes _ngcontent-%COMP%_resultFlash{0%{color:var(--calc-accent-strong);opacity:.5}to{color:var(--calc-text-strong);opacity:1}}.result-primary.flash-highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_resultFlash .5s ease-out forwards}.result-splits-btn[_ngcontent-%COMP%]{--color: color-mix(in oklab, var(--calc-accent-strong) 82%, #0f172a);--background: color-mix(in oklab, var(--calc-surface-raised) 82%, var(--calc-info-bg));--background-hover: color-mix(in oklab, var(--calc-info-bg) 74%, var(--calc-accent) 26%);--background-activated: color-mix(in oklab, var(--calc-info-bg) 74%, var(--calc-accent) 26%);--border-width: 1px;--border-style: solid;--border-color: var(--calc-border-strong);--box-shadow: 0 1px 2px color-mix(in oklab, var(--calc-border-subtle) 90%, transparent)}.input-metric-card[_ngcontent-%COMP%]{cursor:pointer;min-height:50px;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2px;border-radius:var(--calc-radius-md);border:1px solid color-mix(in oklab,var(--calc-border-subtle) 38%,transparent);color:var(--calc-text-strong);background:var(--calc-surface-raised);padding:.2rem;transition:background-color var(--calc-motion-normal) var(--calc-motion-ease),transform var(--calc-motion-fast) var(--calc-motion-ease),border-color var(--calc-motion-normal) var(--calc-motion-ease),box-shadow var(--calc-motion-normal) var(--calc-motion-ease)}.input-metric-card[_ngcontent-%COMP%]:active{transform:scale(.985)}.input-metric-card[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:var(--calc-text-muted)}.input-metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{color:var(--calc-text-strong)}.input-metric-card[_ngcontent-%COMP%]   .metric-unit[_ngcontent-%COMP%]{color:var(--calc-text-muted)}.metric-pin-marker[_ngcontent-%COMP%]{position:absolute;top:.28rem;right:.3rem;font-size:.72rem;color:color-mix(in oklab,var(--metric-pin-color, var(--calc-accent)) 85%,var(--calc-text-strong));opacity:.95}.input-metric-card-active[_ngcontent-%COMP%]{border-color:var(--calc-active-fill-border);background:var(--calc-active-fill);box-shadow:var(--calc-shadow-sm)}.input-metric-card-active[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%], .input-metric-card-active[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%], .input-metric-card-active[_ngcontent-%COMP%]   .metric-unit[_ngcontent-%COMP%]{color:var(--calc-active-fill-text)}.fixed-metric-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;min-height:28px;white-space:nowrap;border-radius:9999px;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 44%,transparent);color:var(--calc-text-muted);background:color-mix(in oklab,var(--calc-surface-raised) 92%,var(--calc-surface-1));font-size:9.5px;font-weight:700;letter-spacing:.01em;padding:0 .45rem;transition:transform var(--calc-motion-fast) var(--calc-motion-ease),background-color var(--calc-motion-fast) var(--calc-motion-ease),border-color var(--calc-motion-fast) var(--calc-motion-ease)}.fixed-metric-chip[_ngcontent-%COMP%]:active{transform:scale(.98)}.fixed-metric-chip-active[_ngcontent-%COMP%]{border-color:var(--calc-active-fill-border);color:var(--calc-active-fill-text);background:var(--calc-active-fill);box-shadow:var(--calc-shadow-sm)}.calc-heat-banner[_ngcontent-%COMP%]{border-color:color-mix(in oklab,var(--calc-border-strong) 80%,transparent);background:color-mix(in oklab,var(--calc-info-bg) 74%,var(--calc-accent) 26%);color:var(--calc-text-muted)}.calc-heat-dismiss[_ngcontent-%COMP%]:hover{background:color-mix(in oklab,var(--calc-accent) 16%,transparent)}.metric-highlight[_ngcontent-%COMP%]{color:var(--calc-accent-strong)}.calc-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:600;color:var(--calc-text-muted)}ion-range[_ngcontent-%COMP%]::part(tick), ion-range[_ngcontent-%COMP%]::part(tick-active), ion-range[_ngcontent-%COMP%]::part(bar), ion-range[_ngcontent-%COMP%]::part(bar-active){background:var(--calc-accent)}@media (min-width: 768px){.calc-keypad-grid[_ngcontent-%COMP%]{max-width:36rem;margin-left:auto;margin-right:auto}}[_ngcontent-%COMP%]:root.ion-palette-dark   .result-splits-btn[_ngcontent-%COMP%]{--color: #f7fbff;--background: color-mix(in oklab, var(--calc-surface-1) 80%, var(--calc-accent) 20%);--background-hover: color-mix(in oklab, var(--calc-surface-1) 68%, var(--calc-accent) 32%);--background-activated: color-mix(in oklab, var(--calc-surface-1) 68%, var(--calc-accent) 32%);--border-color: color-mix(in oklab, var(--calc-accent) 48%, transparent);--box-shadow: 0 1px 3px color-mix(in oklab, var(--calc-accent) 30%, transparent)}@media (prefers-reduced-motion: reduce){.result-row-card[_ngcontent-%COMP%], .input-metric-card[_ngcontent-%COMP%], .fixed-metric-chip[_ngcontent-%COMP%]{transition:none}.result-row-card[_ngcontent-%COMP%]:active, .input-metric-card[_ngcontent-%COMP%]:active, .fixed-metric-chip[_ngcontent-%COMP%]:active{transform:none}}"],data:{animation:[De("focusTabPane",[Ce(":enter",[me({opacity:0,transform:"translateY(32px)"}),xe("240ms cubic-bezier(0.22, 0.61, 0.36, 1)",me({opacity:1,transform:"translateY(0)"}))])])]}});let o=s;return o})();export{$l as CalculatorPage};
