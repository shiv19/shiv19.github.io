import{$b as fr,A as Ct,B as Dn,Bb as er,C as An,Ca as Vn,Cb as tr,D as Mn,Db as Mt,E as Nn,Eb as ft,F as xn,Fb as nr,G as ie,Gb as rr,H as at,Hb as or,I as jn,Ib as sr,J as Ze,Jb as ir,K as _e,Kb as Nt,La as Gn,Lb as ht,M as ae,Ma as Pt,Mb as cr,N as ne,Na as Dt,Nb as ke,O as J,Ob as ar,P as Ln,Pb as ur,Q as Fn,Qb as W,S as He,Ua as At,Ub as lr,Va as Wn,Vb as pe,W as Zn,Wa as $n,X as Hn,Xa as qn,Z as ut,_ as lt,a as qe,aa as Rt,ab as Xn,b as st,bb as Yn,bc as xt,c as _n,d as vn,db as Kn,e as bn,f as kn,g as Sn,h as Q,i as wn,j as On,ja as Un,k as oe,ka as Bn,l as wt,la as zn,m as In,n as it,o as Ot,p as Oe,q as Le,r as se,s as ct,t as It,u as Fe,ub as Jn,v as ye,vb as Qn,w as Cn,x as Rn,y as Pn,z as Me}from"./chunk-YTJHU2UQ.js";import"./chunk-LQIEJ42F.js";import{a as hr}from"./chunk-LN5FOYJ3.js";import"./chunk-3LBDOKJT.js";import"./chunk-IUY2474Y.js";import"./chunk-UXRUJSTR.js";import"./chunk-G3CV3VGG.js";import"./chunk-6ELOQLIR.js";import"./chunk-45MY3PPL.js";import"./chunk-DC3ROQRI.js";import"./chunk-4U6PRYVA.js";import"./chunk-GHS4QXHZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as te,b as ue,e as mo}from"./chunk-IBA7VTSM.js";var Se=globalThis;function Ee(e){return(Se.__Zone_symbol_prefix||"__zone_symbol__")+e}function To(){let e=Se.performance;function t(U){e&&e.mark&&e.mark(U)}function o(U,b){e&&e.measure&&e.measure(U,b)}t("Zone");let n=(()=>{let b=class b{static assertZonePatched(){if(Se.Promise!==Z.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let s=b.current;for(;s.parent;)s=s.parent;return s}static get current(){return D.zone}static get currentTask(){return j}static __load_patch(s,v,L=!1){if(Z.hasOwnProperty(s)){let F=Se[Ee("forceDuplicateZoneCheck")]===!0;if(!L&&F)throw Error("Already loaded patch: "+s)}else if(!Se["__Zone_disable_"+s]){let F="Zone:"+s;t(F),Z[s]=v(Se,b,N),o(F,F)}}get parent(){return this._parent}get name(){return this._name}constructor(s,v){this._parent=s,this._name=v?v.name||"unnamed":"<root>",this._properties=v&&v.properties||{},this._zoneDelegate=new i(this,this._parent&&this._parent._zoneDelegate,v)}get(s){let v=this.getZoneWith(s);if(v)return v._properties[s]}getZoneWith(s){let v=this;for(;v;){if(v._properties.hasOwnProperty(s))return v;v=v._parent}return null}fork(s){if(!s)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,s)}wrap(s,v){if(typeof s!="function")throw new Error("Expecting function got: "+s);let L=this._zoneDelegate.intercept(this,s,v),F=this;return function(){return F.runGuarded(L,this,arguments,v)}}run(s,v,L,F){D={parent:D,zone:this};try{return this._zoneDelegate.invoke(this,s,v,L,F)}finally{D=D.parent}}runGuarded(s,v=null,L,F){D={parent:D,zone:this};try{try{return this._zoneDelegate.invoke(this,s,v,L,F)}catch(x){if(this._zoneDelegate.handleError(this,x))throw x}}finally{D=D.parent}}runTask(s,v,L){if(s.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(s.zone||X).name+"; Execution: "+this.name+")");let F=s,{type:x,data:{isPeriodic:Ne=!1,isRefreshable:we=!1}={}}=s;if(s.state===V&&(x===q||x===_))return;let me=s.state!=S;me&&F._transitionTo(S,T);let xe=j;j=F,D={parent:D,zone:this};try{x==_&&s.data&&!Ne&&!we&&(s.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,F,v,L)}catch(g){if(this._zoneDelegate.handleError(this,g))throw g}}finally{let g=s.state;if(g!==V&&g!==P)if(x==q||Ne||we&&g===k)me&&F._transitionTo(T,S,k);else{let E=F._zoneDelegates;this._updateTaskCount(F,-1),me&&F._transitionTo(V,S,V),we&&(F._zoneDelegates=E)}D=D.parent,j=xe}}scheduleTask(s){if(s.zone&&s.zone!==this){let L=this;for(;L;){if(L===s.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${s.zone.name}`);L=L.parent}}s._transitionTo(k,V);let v=[];s._zoneDelegates=v,s._zone=this;try{s=this._zoneDelegate.scheduleTask(this,s)}catch(L){throw s._transitionTo(P,k,V),this._zoneDelegate.handleError(this,L),L}return s._zoneDelegates===v&&this._updateTaskCount(s,1),s.state==k&&s._transitionTo(T,k),s}scheduleMicroTask(s,v,L,F){return this.scheduleTask(new u(G,s,v,L,F,void 0))}scheduleMacroTask(s,v,L,F,x){return this.scheduleTask(new u(_,s,v,L,F,x))}scheduleEventTask(s,v,L,F,x){return this.scheduleTask(new u(q,s,v,L,F,x))}cancelTask(s){if(s.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(s.zone||X).name+"; Execution: "+this.name+")");if(!(s.state!==T&&s.state!==S)){s._transitionTo(R,T,S);try{this._zoneDelegate.cancelTask(this,s)}catch(v){throw s._transitionTo(P,R),this._zoneDelegate.handleError(this,v),v}return this._updateTaskCount(s,-1),s._transitionTo(V,R),s.runCount=-1,s}}_updateTaskCount(s,v){let L=s._zoneDelegates;v==-1&&(s._zoneDelegates=null);for(let F=0;F<L.length;F++)L[F]._updateTaskCount(s.type,v)}};b.__symbol__=Ee;let U=b;return U})(),r={name:"",onHasTask:(U,b,h,s)=>U.hasTask(h,s),onScheduleTask:(U,b,h,s)=>U.scheduleTask(h,s),onInvokeTask:(U,b,h,s,v,L)=>U.invokeTask(h,s,v,L),onCancelTask:(U,b,h,s)=>U.cancelTask(h,s)};class i{get zone(){return this._zone}constructor(b,h,s){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=b,this._parentDelegate=h,this._forkZS=s&&(s&&s.onFork?s:h._forkZS),this._forkDlgt=s&&(s.onFork?h:h._forkDlgt),this._forkCurrZone=s&&(s.onFork?this._zone:h._forkCurrZone),this._interceptZS=s&&(s.onIntercept?s:h._interceptZS),this._interceptDlgt=s&&(s.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=s&&(s.onIntercept?this._zone:h._interceptCurrZone),this._invokeZS=s&&(s.onInvoke?s:h._invokeZS),this._invokeDlgt=s&&(s.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=s&&(s.onInvoke?this._zone:h._invokeCurrZone),this._handleErrorZS=s&&(s.onHandleError?s:h._handleErrorZS),this._handleErrorDlgt=s&&(s.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=s&&(s.onHandleError?this._zone:h._handleErrorCurrZone),this._scheduleTaskZS=s&&(s.onScheduleTask?s:h._scheduleTaskZS),this._scheduleTaskDlgt=s&&(s.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=s&&(s.onScheduleTask?this._zone:h._scheduleTaskCurrZone),this._invokeTaskZS=s&&(s.onInvokeTask?s:h._invokeTaskZS),this._invokeTaskDlgt=s&&(s.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=s&&(s.onInvokeTask?this._zone:h._invokeTaskCurrZone),this._cancelTaskZS=s&&(s.onCancelTask?s:h._cancelTaskZS),this._cancelTaskDlgt=s&&(s.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=s&&(s.onCancelTask?this._zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let v=s&&s.onHasTask,L=h&&h._hasTaskZS;(v||L)&&(this._hasTaskZS=v?s:r,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,s.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this._zone),s.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this._zone),s.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this._zone))}fork(b,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,b,h):new n(b,h)}intercept(b,h,s){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,b,h,s):h}invoke(b,h,s,v,L){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,b,h,s,v,L):h.apply(s,v)}handleError(b,h){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,b,h):!0}scheduleTask(b,h){let s=h;if(this._scheduleTaskZS)this._hasTaskZS&&s._zoneDelegates.push(this._hasTaskDlgtOwner),s=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,b,h),s||(s=h);else if(h.scheduleFn)h.scheduleFn(h);else if(h.type==G)O(h);else throw new Error("Task is missing scheduleFn.");return s}invokeTask(b,h,s,v){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,b,h,s,v):h.callback.apply(s,v)}cancelTask(b,h){let s;if(this._cancelTaskZS)s=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,b,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");s=h.cancelFn(h)}return s}hasTask(b,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,b,h)}catch(s){this.handleError(b,s)}}_updateTaskCount(b,h){let s=this._taskCounts,v=s[b],L=s[b]=v+h;if(L<0)throw new Error("More tasks executed then were scheduled.");if(v==0||L==0){let F={microTask:s.microTask>0,macroTask:s.macroTask>0,eventTask:s.eventTask>0,change:b};this.hasTask(this._zone,F)}}}class u{constructor(b,h,s,v,L,F){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=b,this.source=h,this.data=v,this.scheduleFn=L,this.cancelFn=F,!s)throw new Error("callback is not defined");this.callback=s;let x=this;b===q&&v&&v.useG?this.invoke=u.invokeTask:this.invoke=function(){return u.invokeTask.call(Se,x,this,arguments)}}static invokeTask(b,h,s){b||(b=this),ce++;try{return b.runCount++,b.zone.runTask(b,h,s)}finally{ce==1&&C(),ce--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(V,k)}_transitionTo(b,h,s){if(this._state===h||this._state===s)this._state=b,b==V&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${b}', expecting state '${h}'${s?" or '"+s+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let a=Ee("setTimeout"),p=Ee("Promise"),d=Ee("then"),l=[],f=!1,y;function M(U){if(y||Se[p]&&(y=Se[p].resolve(0)),y){let b=y[d];b||(b=y.then),b.call(y,U)}else Se[a](U,0)}function O(U){ce===0&&l.length===0&&M(C),U&&l.push(U)}function C(){if(!f){for(f=!0;l.length;){let U=l;l=[];for(let b=0;b<U.length;b++){let h=U[b];try{h.zone.runTask(h,null,null)}catch(s){N.onUnhandledError(s)}}}N.microtaskDrainDone(),f=!1}}let X={name:"NO ZONE"},V="notScheduled",k="scheduling",T="scheduled",S="running",R="canceling",P="unknown",G="microTask",_="macroTask",q="eventTask",Z={},N={symbol:Ee,currentZoneFrame:()=>D,onUnhandledError:ee,microtaskDrainDone:ee,scheduleMicroTask:O,showUncaughtError:()=>!n[Ee("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:ee,patchMethod:()=>ee,bindArguments:()=>[],patchThen:()=>ee,patchMacroTask:()=>ee,patchEventPrototype:()=>ee,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>ee,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>ee,wrapWithCurrentZone:()=>ee,filterProperties:()=>[],attachOriginToPatched:()=>ee,_redefineProperty:()=>ee,patchCallbacks:()=>ee,nativeScheduleMicroTask:M},D={parent:null,zone:new n(null,null)},j=null,ce=0;function ee(){}return o("Zone","Zone"),n}function yo(){let e=globalThis,t=e[Ee("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(t||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return e.Zone??(e.Zone=To()),e.Zone}var Ye=Object.getOwnPropertyDescriptor,Ht=Object.defineProperty,Ut=Object.getPrototypeOf,_o=Object.create,vo=Array.prototype.slice,Bt="addEventListener",zt="removeEventListener",jt=Ee(Bt),Lt=Ee(zt),Ie="true",Ce="false",Ke=Ee("");function Vt(e,t){return Zone.current.wrap(e,t)}function Gt(e,t,o,n,r){return Zone.current.scheduleMacroTask(e,t,o,n,r)}var $=Ee,Et=typeof window<"u",ze=Et?window:void 0,re=Et&&ze||globalThis,bo="removeAttribute";function Wt(e,t){for(let o=e.length-1;o>=0;o--)typeof e[o]=="function"&&(e[o]=Vt(e[o],t+"_"+o));return e}function ko(e,t){let o=e.constructor.name;for(let n=0;n<t.length;n++){let r=t[n],i=e[r];if(i){let u=Ye(e,r);if(!yr(u))continue;e[r]=(a=>{let p=function(){return a.apply(this,Wt(arguments,o+"."+r))};return Pe(p,a),p})(i)}}}function yr(e){return e?e.writable===!1?!1:!(typeof e.get=="function"&&typeof e.set>"u"):!0}var _r=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,gt=!("nw"in re)&&typeof re.process<"u"&&re.process.toString()==="[object process]",$t=!gt&&!_r&&!!(Et&&ze.HTMLElement),vr=typeof re.process<"u"&&re.process.toString()==="[object process]"&&!_r&&!!(Et&&ze.HTMLElement),pt={},So=$("enable_beforeunload"),dr=function(e){if(e=e||re.event,!e)return;let t=pt[e.type];t||(t=pt[e.type]=$("ON_PROPERTY"+e.type));let o=this||e.target||re,n=o[t],r;if($t&&o===ze&&e.type==="error"){let i=e;r=n&&n.call(this,i.message,i.filename,i.lineno,i.colno,i.error),r===!0&&e.preventDefault()}else r=n&&n.apply(this,arguments),e.type==="beforeunload"&&re[So]&&typeof r=="string"?e.returnValue=r:r!=null&&!r&&e.preventDefault();return r};function pr(e,t,o){let n=Ye(e,t);if(!n&&o&&Ye(o,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let r=$("on"+t+"patched");if(e.hasOwnProperty(r)&&e[r])return;delete n.writable,delete n.value;let i=n.get,u=n.set,a=t.slice(2),p=pt[a];p||(p=pt[a]=$("ON_PROPERTY"+a)),n.set=function(d){let l=this;if(!l&&e===re&&(l=re),!l)return;typeof l[p]=="function"&&l.removeEventListener(a,dr),u&&u.call(l,null),l[p]=d,typeof d=="function"&&l.addEventListener(a,dr,!1)},n.get=function(){let d=this;if(!d&&e===re&&(d=re),!d)return null;let l=d[p];if(l)return l;if(i){let f=i.call(this);if(f)return n.set.call(this,f),typeof d[bo]=="function"&&d.removeAttribute(t),f}return null},Ht(e,t,n),e[r]=!0}function br(e,t,o){if(t)for(let n=0;n<t.length;n++)pr(e,"on"+t[n],o);else{let n=[];for(let r in e)r.slice(0,2)=="on"&&n.push(r);for(let r=0;r<n.length;r++)pr(e,n[r],o)}}var ve=$("originalInstance");function Xe(e){let t=re[e];if(!t)return;re[$(e)]=t,re[e]=function(){let r=Wt(arguments,e);switch(r.length){case 0:this[ve]=new t;break;case 1:this[ve]=new t(r[0]);break;case 2:this[ve]=new t(r[0],r[1]);break;case 3:this[ve]=new t(r[0],r[1],r[2]);break;case 4:this[ve]=new t(r[0],r[1],r[2],r[3]);break;default:throw new Error("Arg list too long.")}},Pe(re[e],t);let o=new t(function(){}),n;for(n in o)e==="XMLHttpRequest"&&n==="responseBlob"||function(r){typeof o[r]=="function"?re[e].prototype[r]=function(){return this[ve][r].apply(this[ve],arguments)}:Ht(re[e].prototype,r,{set:function(i){typeof i=="function"?(this[ve][r]=Vt(i,e+"."+r),Pe(this[ve][r],i)):this[ve][r]=i},get:function(){return this[ve][r]}})}(n);for(n in t)n!=="prototype"&&t.hasOwnProperty(n)&&(re[e][n]=t[n])}function Re(e,t,o){let n=e;for(;n&&!n.hasOwnProperty(t);)n=Ut(n);!n&&e[t]&&(n=e);let r=$(t),i=null;if(n&&(!(i=n[r])||!n.hasOwnProperty(r))){i=n[r]=n[t];let u=n&&Ye(n,t);if(yr(u)){let a=o(i,r,t);n[t]=function(){return a(this,arguments)},Pe(n[t],i)}}return i}function wo(e,t,o){let n=null;function r(i){let u=i.data;return u.args[u.cbIdx]=function(){i.invoke.apply(this,arguments)},n.apply(u.target,u.args),i}n=Re(e,t,i=>function(u,a){let p=o(u,a);return p.cbIdx>=0&&typeof a[p.cbIdx]=="function"?Gt(p.name,a[p.cbIdx],p,r):i.apply(u,a)})}function Pe(e,t){e[$("OriginalDelegate")]=t}var Er=!1,Ft=!1;function Oo(){try{let e=ze.navigator.userAgent;if(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1)return!0}catch{}return!1}function Io(){if(Er)return Ft;Er=!0;try{let e=ze.navigator.userAgent;(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1||e.indexOf("Edge/")!==-1)&&(Ft=!0)}catch{}return Ft}function gr(e){return typeof e=="function"}function mr(e){return typeof e=="number"}var Be=!1;if(typeof window<"u")try{let e=Object.defineProperty({},"passive",{get:function(){Be=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{Be=!1}var Co={useG:!0},ge={},kr={},Sr=new RegExp("^"+Ke+"(\\w+)(true|false)$"),wr=$("propagationStopped");function Or(e,t){let o=(t?t(e):e)+Ce,n=(t?t(e):e)+Ie,r=Ke+o,i=Ke+n;ge[e]={},ge[e][Ce]=r,ge[e][Ie]=i}function Ro(e,t,o,n){let r=n&&n.add||Bt,i=n&&n.rm||zt,u=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",p=$(r),d="."+r+":",l="prependListener",f="."+l+":",y=function(k,T,S){if(k.isRemoved)return;let R=k.callback;typeof R=="object"&&R.handleEvent&&(k.callback=_=>R.handleEvent(_),k.originalDelegate=R);let P;try{k.invoke(k,T,[S])}catch(_){P=_}let G=k.options;if(G&&typeof G=="object"&&G.once){let _=k.originalDelegate?k.originalDelegate:k.callback;T[i].call(T,S.type,_,G)}return P};function M(k,T,S){if(T=T||e.event,!T)return;let R=k||T.target||e,P=R[ge[T.type][S?Ie:Ce]];if(P){let G=[];if(P.length===1){let _=y(P[0],R,T);_&&G.push(_)}else{let _=P.slice();for(let q=0;q<_.length&&!(T&&T[wr]===!0);q++){let Z=y(_[q],R,T);Z&&G.push(Z)}}if(G.length===1)throw G[0];for(let _=0;_<G.length;_++){let q=G[_];t.nativeScheduleMicroTask(()=>{throw q})}}}let O=function(k){return M(this,k,!1)},C=function(k){return M(this,k,!0)};function X(k,T){if(!k)return!1;let S=!0;T&&T.useG!==void 0&&(S=T.useG);let R=T&&T.vh,P=!0;T&&T.chkDup!==void 0&&(P=T.chkDup);let G=!1;T&&T.rt!==void 0&&(G=T.rt);let _=k;for(;_&&!_.hasOwnProperty(r);)_=Ut(_);if(!_&&k[r]&&(_=k),!_||_[p])return!1;let q=T&&T.eventNameToString,Z={},N=_[p]=_[r],D=_[$(i)]=_[i],j=_[$(u)]=_[u],ce=_[$(a)]=_[a],ee;T&&T.prepend&&(ee=_[$(T.prepend)]=_[T.prepend]);function U(c,m){return!Be&&typeof c=="object"&&c?!!c.capture:!Be||!m?c:typeof c=="boolean"?{capture:c,passive:!0}:c?typeof c=="object"&&c.passive!==!1?ue(te({},c),{passive:!0}):c:{passive:!0}}let b=function(c){if(!Z.isExisting)return N.call(Z.target,Z.eventName,Z.capture?C:O,Z.options)},h=function(c){if(!c.isRemoved){let m=ge[c.eventName],I;m&&(I=m[c.capture?Ie:Ce]);let A=I&&c.target[I];if(A){for(let w=0;w<A.length;w++)if(A[w]===c){A.splice(w,1),c.isRemoved=!0,c.removeAbortListener&&(c.removeAbortListener(),c.removeAbortListener=null),A.length===0&&(c.allRemoved=!0,c.target[I]=null);break}}}if(c.allRemoved)return D.call(c.target,c.eventName,c.capture?C:O,c.options)},s=function(c){return N.call(Z.target,Z.eventName,c.invoke,Z.options)},v=function(c){return ee.call(Z.target,Z.eventName,c.invoke,Z.options)},L=function(c){return D.call(c.target,c.eventName,c.invoke,c.options)},F=S?b:s,x=S?h:L,Ne=function(c,m){let I=typeof m;return I==="function"&&c.callback===m||I==="object"&&c.originalDelegate===m},we=T&&T.diff?T.diff:Ne,me=Zone[$("UNPATCHED_EVENTS")],xe=e[$("PASSIVE_EVENTS")];function g(c){if(typeof c=="object"&&c!==null){let m=te({},c);return c.signal&&(m.signal=c.signal),m}return c}let E=function(c,m,I,A,w=!1,H=!1){return function(){let B=this||e,z=arguments[0];T&&T.transferEventName&&(z=T.transferEventName(z));let Y=arguments[1];if(!Y)return c.apply(this,arguments);if(gt&&z==="uncaughtException")return c.apply(this,arguments);let K=!1;if(typeof Y!="function"){if(!Y.handleEvent)return c.apply(this,arguments);K=!0}if(R&&!R(c,Y,B,arguments))return;let De=Be&&!!xe&&xe.indexOf(z)!==-1,de=g(U(arguments[2],De)),Ae=de==null?void 0:de.signal;if(Ae!=null&&Ae.aborted)return;if(me){for(let be=0;be<me.length;be++)if(z===me[be])return De?c.call(B,z,Y,de):c.apply(this,arguments)}let kt=de?typeof de=="boolean"?!0:de.capture:!1,En=de&&typeof de=="object"?de.once:!1,go=Zone.current,St=ge[z];St||(Or(z,q),St=ge[z]);let gn=St[kt?Ie:Ce],je=B[gn],mn=!1;if(je){if(mn=!0,P){for(let be=0;be<je.length;be++)if(we(je[be],Y))return}}else je=B[gn]=[];let ot,Tn=B.constructor.name,yn=kr[Tn];yn&&(ot=yn[z]),ot||(ot=Tn+m+(q?q(z):z)),Z.options=de,En&&(Z.options.once=!1),Z.target=B,Z.capture=kt,Z.eventName=z,Z.isExisting=mn;let $e=S?Co:void 0;$e&&($e.taskData=Z),Ae&&(Z.options.signal=void 0);let Te=go.scheduleEventTask(ot,Y,$e,I,A);if(Ae){Z.options.signal=Ae;let be=()=>Te.zone.cancelTask(Te);c.call(Ae,"abort",be,{once:!0}),Te.removeAbortListener=()=>Ae.removeEventListener("abort",be)}if(Z.target=null,$e&&($e.taskData=null),En&&(Z.options.once=!0),!Be&&typeof Te.options=="boolean"||(Te.options=de),Te.target=B,Te.capture=kt,Te.eventName=z,K&&(Te.originalDelegate=Y),H?je.unshift(Te):je.push(Te),w)return B}};return _[r]=E(N,d,F,x,G),ee&&(_[l]=E(ee,f,v,x,G,!0)),_[i]=function(){let c=this||e,m=arguments[0];T&&T.transferEventName&&(m=T.transferEventName(m));let I=arguments[2],A=I?typeof I=="boolean"?!0:I.capture:!1,w=arguments[1];if(!w)return D.apply(this,arguments);if(R&&!R(D,w,c,arguments))return;let H=ge[m],B;H&&(B=H[A?Ie:Ce]);let z=B&&c[B];if(z)for(let Y=0;Y<z.length;Y++){let K=z[Y];if(we(K,w)){if(z.splice(Y,1),K.isRemoved=!0,z.length===0&&(K.allRemoved=!0,c[B]=null,!A&&typeof m=="string")){let De=Ke+"ON_PROPERTY"+m;c[De]=null}return K.zone.cancelTask(K),G?c:void 0}}return D.apply(this,arguments)},_[u]=function(){let c=this||e,m=arguments[0];T&&T.transferEventName&&(m=T.transferEventName(m));let I=[],A=Ir(c,q?q(m):m);for(let w=0;w<A.length;w++){let H=A[w],B=H.originalDelegate?H.originalDelegate:H.callback;I.push(B)}return I},_[a]=function(){let c=this||e,m=arguments[0];if(m){T&&T.transferEventName&&(m=T.transferEventName(m));let I=ge[m];if(I){let A=I[Ce],w=I[Ie],H=c[A],B=c[w];if(H){let z=H.slice();for(let Y=0;Y<z.length;Y++){let K=z[Y],De=K.originalDelegate?K.originalDelegate:K.callback;this[i].call(this,m,De,K.options)}}if(B){let z=B.slice();for(let Y=0;Y<z.length;Y++){let K=z[Y],De=K.originalDelegate?K.originalDelegate:K.callback;this[i].call(this,m,De,K.options)}}}}else{let I=Object.keys(c);for(let A=0;A<I.length;A++){let w=I[A],H=Sr.exec(w),B=H&&H[1];B&&B!=="removeListener"&&this[a].call(this,B)}this[a].call(this,"removeListener")}if(G)return this},Pe(_[r],N),Pe(_[i],D),ce&&Pe(_[a],ce),j&&Pe(_[u],j),!0}let V=[];for(let k=0;k<o.length;k++)V[k]=X(o[k],n);return V}function Ir(e,t){if(!t){let i=[];for(let u in e){let a=Sr.exec(u),p=a&&a[1];if(p&&(!t||p===t)){let d=e[u];if(d)for(let l=0;l<d.length;l++)i.push(d[l])}}return i}let o=ge[t];o||(Or(t),o=ge[t]);let n=e[o[Ce]],r=e[o[Ie]];return n?r?n.concat(r):n.slice():r?r.slice():[]}function Po(e,t){let o=e.Event;o&&o.prototype&&t.patchMethod(o.prototype,"stopImmediatePropagation",n=>function(r,i){r[wr]=!0,n&&n.apply(r,i)})}function Do(e,t){t.patchMethod(e,"queueMicrotask",o=>function(n,r){Zone.current.scheduleMicroTask("queueMicrotask",r[0])})}var dt=$("zoneTask");function Ue(e,t,o,n){let r=null,i=null;t+=n,o+=n;let u={};function a(d){let l=d.data;l.args[0]=function(){return d.invoke.apply(this,arguments)};let f=r.apply(e,l.args);return mr(f)?l.handleId=f:(l.handle=f,l.isRefreshable=gr(f.refresh)),d}function p(d){let{handle:l,handleId:f}=d.data;return i.call(e,l??f)}r=Re(e,t,d=>function(l,f){if(gr(f[0])){let y={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?f[1]||0:void 0,args:f},M=f[0];f[0]=function(){try{return M.apply(this,arguments)}finally{let{handle:S,handleId:R,isPeriodic:P,isRefreshable:G}=y;!P&&!G&&(R?delete u[R]:S&&(S[dt]=null))}};let O=Gt(t,f[0],y,a,p);if(!O)return O;let{handleId:C,handle:X,isRefreshable:V,isPeriodic:k}=O.data;if(C)u[C]=O;else if(X&&(X[dt]=O,V&&!k)){let T=X.refresh;X.refresh=function(){let{zone:S,state:R}=O;return R==="notScheduled"?(O._state="scheduled",S._updateTaskCount(O,1)):R==="running"&&(O._state="scheduling"),T.call(this)}}return X??C??O}else return d.apply(e,f)}),i=Re(e,o,d=>function(l,f){let y=f[0],M;mr(y)?(M=u[y],delete u[y]):(M=y==null?void 0:y[dt],M?y[dt]=null:M=y),M!=null&&M.type?M.cancelFn&&M.zone.cancelTask(M):d.apply(e,f)})}function Ao(e,t){let{isBrowser:o,isMix:n}=t.getGlobalObjects();if(!o&&!n||!e.customElements||!("customElements"in e))return;let r=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,e.customElements,"customElements","define",r)}function Mo(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:o,zoneSymbolEventNames:n,TRUE_STR:r,FALSE_STR:i,ZONE_SYMBOL_PREFIX:u}=t.getGlobalObjects();for(let p=0;p<o.length;p++){let d=o[p],l=d+i,f=d+r,y=u+l,M=u+f;n[d]={},n[d][i]=y,n[d][r]=M}let a=e.EventTarget;if(!(!a||!a.prototype))return t.patchEventTarget(e,t,[a&&a.prototype]),!0}function No(e,t){t.patchEventPrototype(e,t)}function Cr(e,t,o){if(!o||o.length===0)return t;let n=o.filter(i=>i.target===e);if(!n||n.length===0)return t;let r=n[0].ignoreProperties;return t.filter(i=>r.indexOf(i)===-1)}function Tr(e,t,o,n){if(!e)return;let r=Cr(e,t,o);br(e,r,n)}function Zt(e){return Object.getOwnPropertyNames(e).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function xo(e,t){if(gt&&!vr||Zone[e.symbol("patchEvents")])return;let o=t.__Zone_ignore_on_properties,n=[];if($t){let r=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let i=Oo()?[{target:r,ignoreProperties:["error"]}]:[];Tr(r,Zt(r),o&&o.concat(i),Ut(r))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let r=0;r<n.length;r++){let i=t[n[r]];i&&i.prototype&&Tr(i.prototype,Zt(i.prototype),o)}}function jo(e){e.__load_patch("legacy",t=>{let o=t[e.__symbol__("legacyPatch")];o&&o()}),e.__load_patch("timers",t=>{let o="set",n="clear";Ue(t,o,n,"Timeout"),Ue(t,o,n,"Interval"),Ue(t,o,n,"Immediate")}),e.__load_patch("requestAnimationFrame",t=>{Ue(t,"request","cancel","AnimationFrame"),Ue(t,"mozRequest","mozCancel","AnimationFrame"),Ue(t,"webkitRequest","webkitCancel","AnimationFrame")}),e.__load_patch("blocking",(t,o)=>{let n=["alert","prompt","confirm"];for(let r=0;r<n.length;r++){let i=n[r];Re(t,i,(u,a,p)=>function(d,l){return o.current.run(u,t,l,p)})}}),e.__load_patch("EventTarget",(t,o,n)=>{No(t,n),Mo(t,n);let r=t.XMLHttpRequestEventTarget;r&&r.prototype&&n.patchEventTarget(t,n,[r.prototype])}),e.__load_patch("MutationObserver",(t,o,n)=>{Xe("MutationObserver"),Xe("WebKitMutationObserver")}),e.__load_patch("IntersectionObserver",(t,o,n)=>{Xe("IntersectionObserver")}),e.__load_patch("FileReader",(t,o,n)=>{Xe("FileReader")}),e.__load_patch("on_property",(t,o,n)=>{xo(n,t)}),e.__load_patch("customElements",(t,o,n)=>{Ao(t,n)}),e.__load_patch("XHR",(t,o)=>{d(t);let n=$("xhrTask"),r=$("xhrSync"),i=$("xhrListener"),u=$("xhrScheduled"),a=$("xhrURL"),p=$("xhrErrorBeforeScheduled");function d(l){let f=l.XMLHttpRequest;if(!f)return;let y=f.prototype;function M(N){return N[n]}let O=y[jt],C=y[Lt];if(!O){let N=l.XMLHttpRequestEventTarget;if(N){let D=N.prototype;O=D[jt],C=D[Lt]}}let X="readystatechange",V="scheduled";function k(N){let D=N.data,j=D.target;j[u]=!1,j[p]=!1;let ce=j[i];O||(O=j[jt],C=j[Lt]),ce&&C.call(j,X,ce);let ee=j[i]=()=>{if(j.readyState===j.DONE)if(!D.aborted&&j[u]&&N.state===V){let b=j[o.__symbol__("loadfalse")];if(j.status!==0&&b&&b.length>0){let h=N.invoke;N.invoke=function(){let s=j[o.__symbol__("loadfalse")];for(let v=0;v<s.length;v++)s[v]===N&&s.splice(v,1);!D.aborted&&N.state===V&&h.call(N)},b.push(N)}else N.invoke()}else!D.aborted&&j[u]===!1&&(j[p]=!0)};return O.call(j,X,ee),j[n]||(j[n]=N),q.apply(j,D.args),j[u]=!0,N}function T(){}function S(N){let D=N.data;return D.aborted=!0,Z.apply(D.target,D.args)}let R=Re(y,"open",()=>function(N,D){return N[r]=D[2]==!1,N[a]=D[1],R.apply(N,D)}),P="XMLHttpRequest.send",G=$("fetchTaskAborting"),_=$("fetchTaskScheduling"),q=Re(y,"send",()=>function(N,D){if(o.current[_]===!0||N[r])return q.apply(N,D);{let j={target:N,url:N[a],isPeriodic:!1,args:D,aborted:!1},ce=Gt(P,T,j,k,S);N&&N[p]===!0&&!j.aborted&&ce.state===V&&ce.invoke()}}),Z=Re(y,"abort",()=>function(N,D){let j=M(N);if(j&&typeof j.type=="string"){if(j.cancelFn==null||j.data&&j.data.aborted)return;j.zone.cancelTask(j)}else if(o.current[G]===!0)return Z.apply(N,D)})}}),e.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&ko(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),e.__load_patch("PromiseRejectionEvent",(t,o)=>{function n(r){return function(i){Ir(t,r).forEach(a=>{let p=t.PromiseRejectionEvent;if(p){let d=new p(r,{promise:i.promise,reason:i.rejection});a.invoke(d)}})}}t.PromiseRejectionEvent&&(o[$("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),o[$("rejectionHandledHandler")]=n("rejectionhandled"))}),e.__load_patch("queueMicrotask",(t,o,n)=>{Do(t,n)})}function Lo(e){e.__load_patch("ZoneAwarePromise",(t,o,n)=>{let r=Object.getOwnPropertyDescriptor,i=Object.defineProperty;function u(g){if(g&&g.toString===Object.prototype.toString){let E=g.constructor&&g.constructor.name;return(E||"")+": "+JSON.stringify(g)}return g?g.toString():Object.prototype.toString.call(g)}let a=n.symbol,p=[],d=t[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,l=a("Promise"),f=a("then"),y="__creationTrace__";n.onUnhandledError=g=>{if(n.showUncaughtError()){let E=g&&g.rejection;E?console.error("Unhandled Promise rejection:",E instanceof Error?E.message:E,"; Zone:",g.zone.name,"; Task:",g.task&&g.task.source,"; Value:",E,E instanceof Error?E.stack:void 0):console.error(g)}},n.microtaskDrainDone=()=>{for(;p.length;){let g=p.shift();try{g.zone.runGuarded(()=>{throw g.throwOriginal?g.rejection:g})}catch(E){O(E)}}};let M=a("unhandledPromiseRejectionHandler");function O(g){n.onUnhandledError(g);try{let E=o[M];typeof E=="function"&&E.call(this,g)}catch{}}function C(g){return g&&g.then}function X(g){return g}function V(g){return x.reject(g)}let k=a("state"),T=a("value"),S=a("finally"),R=a("parentPromiseValue"),P=a("parentPromiseState"),G="Promise.then",_=null,q=!0,Z=!1,N=0;function D(g,E){return c=>{try{U(g,E,c)}catch(m){U(g,!1,m)}}}let j=function(){let g=!1;return function(c){return function(){g||(g=!0,c.apply(null,arguments))}}},ce="Promise resolved with itself",ee=a("currentTaskTrace");function U(g,E,c){let m=j();if(g===c)throw new TypeError(ce);if(g[k]===_){let I=null;try{(typeof c=="object"||typeof c=="function")&&(I=c&&c.then)}catch(A){return m(()=>{U(g,!1,A)})(),g}if(E!==Z&&c instanceof x&&c.hasOwnProperty(k)&&c.hasOwnProperty(T)&&c[k]!==_)h(c),U(g,c[k],c[T]);else if(E!==Z&&typeof I=="function")try{I.call(c,m(D(g,E)),m(D(g,!1)))}catch(A){m(()=>{U(g,!1,A)})()}else{g[k]=E;let A=g[T];if(g[T]=c,g[S]===S&&E===q&&(g[k]=g[P],g[T]=g[R]),E===Z&&c instanceof Error){let w=o.currentTask&&o.currentTask.data&&o.currentTask.data[y];w&&i(c,ee,{configurable:!0,enumerable:!1,writable:!0,value:w})}for(let w=0;w<A.length;)s(g,A[w++],A[w++],A[w++],A[w++]);if(A.length==0&&E==Z){g[k]=N;let w=c;try{throw new Error("Uncaught (in promise): "+u(c)+(c&&c.stack?`
`+c.stack:""))}catch(H){w=H}d&&(w.throwOriginal=!0),w.rejection=c,w.promise=g,w.zone=o.current,w.task=o.currentTask,p.push(w),n.scheduleMicroTask()}}}return g}let b=a("rejectionHandledHandler");function h(g){if(g[k]===N){try{let E=o[b];E&&typeof E=="function"&&E.call(this,{rejection:g[T],promise:g})}catch{}g[k]=Z;for(let E=0;E<p.length;E++)g===p[E].promise&&p.splice(E,1)}}function s(g,E,c,m,I){h(g);let A=g[k],w=A?typeof m=="function"?m:X:typeof I=="function"?I:V;E.scheduleMicroTask(G,()=>{try{let H=g[T],B=!!c&&S===c[S];B&&(c[R]=H,c[P]=A);let z=E.run(w,void 0,B&&w!==V&&w!==X?[]:[H]);U(c,!0,z)}catch(H){U(c,!1,H)}},c)}let v="function ZoneAwarePromise() { [native code] }",L=function(){},F=t.AggregateError;class x{static toString(){return v}static resolve(E){return E instanceof x?E:U(new this(null),q,E)}static reject(E){return U(new this(null),Z,E)}static withResolvers(){let E={};return E.promise=new x((c,m)=>{E.resolve=c,E.reject=m}),E}static any(E){if(!E||typeof E[Symbol.iterator]!="function")return Promise.reject(new F([],"All promises were rejected"));let c=[],m=0;try{for(let w of E)m++,c.push(x.resolve(w))}catch{return Promise.reject(new F([],"All promises were rejected"))}if(m===0)return Promise.reject(new F([],"All promises were rejected"));let I=!1,A=[];return new x((w,H)=>{for(let B=0;B<c.length;B++)c[B].then(z=>{I||(I=!0,w(z))},z=>{A.push(z),m--,m===0&&(I=!0,H(new F(A,"All promises were rejected")))})})}static race(E){let c,m,I=new this((H,B)=>{c=H,m=B});function A(H){c(H)}function w(H){m(H)}for(let H of E)C(H)||(H=this.resolve(H)),H.then(A,w);return I}static all(E){return x.allWithCallback(E)}static allSettled(E){return(this&&this.prototype instanceof x?this:x).allWithCallback(E,{thenCallback:m=>({status:"fulfilled",value:m}),errorCallback:m=>({status:"rejected",reason:m})})}static allWithCallback(E,c){let m,I,A=new this((z,Y)=>{m=z,I=Y}),w=2,H=0,B=[];for(let z of E){C(z)||(z=this.resolve(z));let Y=H;try{z.then(K=>{B[Y]=c?c.thenCallback(K):K,w--,w===0&&m(B)},K=>{c?(B[Y]=c.errorCallback(K),w--,w===0&&m(B)):I(K)})}catch(K){I(K)}w++,H++}return w-=2,w===0&&m(B),A}constructor(E){let c=this;if(!(c instanceof x))throw new Error("Must be an instanceof Promise.");c[k]=_,c[T]=[];try{let m=j();E&&E(m(D(c,q)),m(D(c,Z)))}catch(m){U(c,!1,m)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return x}then(E,c){var w;let m=(w=this.constructor)==null?void 0:w[Symbol.species];(!m||typeof m!="function")&&(m=this.constructor||x);let I=new m(L),A=o.current;return this[k]==_?this[T].push(A,I,E,c):s(this,A,I,E,c),I}catch(E){return this.then(null,E)}finally(E){var A;let c=(A=this.constructor)==null?void 0:A[Symbol.species];(!c||typeof c!="function")&&(c=x);let m=new c(L);m[S]=S;let I=o.current;return this[k]==_?this[T].push(I,m,E,E):s(this,I,m,E,E),m}}x.resolve=x.resolve,x.reject=x.reject,x.race=x.race,x.all=x.all;let Ne=t[l]=t.Promise;t.Promise=x;let we=a("thenPatched");function me(g){let E=g.prototype,c=r(E,"then");if(c&&(c.writable===!1||!c.configurable))return;let m=E.then;E[f]=m,g.prototype.then=function(I,A){return new x((H,B)=>{m.call(this,H,B)}).then(I,A)},g[we]=!0}n.patchThen=me;function xe(g){return function(E,c){let m=g.apply(E,c);if(m instanceof x)return m;let I=m.constructor;return I[we]||me(I),m}}return Ne&&(me(Ne),Re(t,"fetch",g=>xe(g))),Promise[o.__symbol__("uncaughtPromiseErrors")]=p,x})}function Fo(e){e.__load_patch("toString",t=>{let o=Function.prototype.toString,n=$("OriginalDelegate"),r=$("Promise"),i=$("Error"),u=function(){if(typeof this=="function"){let l=this[n];if(l)return typeof l=="function"?o.call(l):Object.prototype.toString.call(l);if(this===Promise){let f=t[r];if(f)return o.call(f)}if(this===Error){let f=t[i];if(f)return o.call(f)}}return o.call(this)};u[n]=o,Function.prototype.toString=u;let a=Object.prototype.toString,p="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?p:a.call(this)}})}function Zo(e,t,o,n,r){let i=Zone.__symbol__(n);if(t[i])return;let u=t[i]=t[n];t[n]=function(a,p,d){return p&&p.prototype&&r.forEach(function(l){let f=`${o}.${n}::`+l,y=p.prototype;try{if(y.hasOwnProperty(l)){let M=e.ObjectGetOwnPropertyDescriptor(y,l);M&&M.value?(M.value=e.wrapWithCurrentZone(M.value,f),e._redefineProperty(p.prototype,l,M)):y[l]&&(y[l]=e.wrapWithCurrentZone(y[l],f))}else y[l]&&(y[l]=e.wrapWithCurrentZone(y[l],f))}catch{}}),u.call(t,a,p,d)},e.attachOriginToPatched(t[n],u)}function Ho(e){e.__load_patch("util",(t,o,n)=>{let r=Zt(t);n.patchOnProperties=br,n.patchMethod=Re,n.bindArguments=Wt,n.patchMacroTask=wo;let i=o.__symbol__("BLACK_LISTED_EVENTS"),u=o.__symbol__("UNPATCHED_EVENTS");t[u]&&(t[i]=t[u]),t[i]&&(o[i]=o[u]=t[i]),n.patchEventPrototype=Po,n.patchEventTarget=Ro,n.isIEOrEdge=Io,n.ObjectDefineProperty=Ht,n.ObjectGetOwnPropertyDescriptor=Ye,n.ObjectCreate=_o,n.ArraySlice=vo,n.patchClass=Xe,n.wrapWithCurrentZone=Vt,n.filterProperties=Cr,n.attachOriginToPatched=Pe,n._redefineProperty=Object.defineProperty,n.patchCallbacks=Zo,n.getGlobalObjects=()=>({globalSources:kr,zoneSymbolEventNames:ge,eventNames:r,isBrowser:$t,isMix:vr,isNode:gt,TRUE_STR:Ie,FALSE_STR:Ce,ZONE_SYMBOL_PREFIX:Ke,ADD_EVENT_LISTENER_STR:Bt,REMOVE_EVENT_LISTENER_STR:zt})})}function Uo(e){Lo(e),Fo(e),Ho(e)}var Rr=yo();Uo(Rr);jo(Rr);var Pr=[{path:"",loadComponent:()=>import("./chunk-5SHGA5CQ.js").then(e=>e.CalculatorPage)}];var Dr=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Fn({type:t,selectors:[["app-root"]],standalone:!0,features:[Vn],decls:2,vars:0,template:function(r,i){r&1&&(Un(0,"ion-app"),zn(1,"ion-router-outlet"),Bn())},dependencies:[Kn,Yn],encapsulation:2});let e=t;return e})();var Ar={production:!0};var zo={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},mt="__@ngrx/effects_create__";function le(e,t={}){let o=t.functional?e:e(),n=te(te({},zo),t);return Object.defineProperty(o,mt,{value:n}),o}function Vo(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(mt)?e[n][mt].hasOwnProperty("dispatch"):!1).map(n=>{let r=e[n][mt];return te({propertyName:n},r)})}function Go(e){return Vo(e)}function xr(e){return Object.getPrototypeOf(e)}function Wo(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function jr(e){return typeof e=="function"}function $o(e){return e.filter(jr)}function qo(e,t,o){let n=xr(e),i=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,u=Go(e).map(({propertyName:a,dispatch:p,useEffectsErrorHandler:d})=>{let l=typeof e[a]=="function"?e[a]():e[a],f=d?o(l,t):l;return p===!1?f.pipe(Cn()):f.pipe(Dn()).pipe(oe(M=>({effect:e[a],notification:M,propertyName:a,sourceName:i,sourceInstance:e})))});return Oe(...u)}var Xo=10;function Lr(e,t,o=Xo){return e.pipe(ct(n=>(t&&t.handleError(n),o<=1?e:Lr(e,t,o-1))))}var fe=(()=>{let t=class t extends qe{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(ne(ht))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function he(...e){return se(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var fi=new ae("@ngrx/effects Internal Root Guard"),hi=new ae("@ngrx/effects User Provided Effects"),di=new ae("@ngrx/effects Internal Root Effects"),pi=new ae("@ngrx/effects Internal Root Effects Instances"),Ei=new ae("@ngrx/effects Internal Feature Effects"),gi=new ae("@ngrx/effects Internal Feature Effects Instance Groups"),Yo=new ae("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Lr}),Ko="@ngrx/effects/init",Jo=tr(Ko);function Qo(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!es(o)&&t.handleError(new Error(`Effect ${ts(e)} dispatched an invalid action: ${ns(o)}`))}}function es(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function ts({propertyName:e,sourceInstance:t,sourceName:o}){let n=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function ns(e){try{return JSON.stringify(e)}catch{return e}}var rs="ngrxOnIdentifyEffects";function os(e){return Xt(e,rs)}var ss="ngrxOnRunEffects";function is(e){return Xt(e,ss)}var cs="ngrxOnInitEffects";function as(e){return Xt(e,cs)}function Xt(e,t){return e&&t in e&&typeof e[t]=="function"}var Fr=(()=>{let t=class t extends st{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(Ct(n=>Wo(n)?xr(n):n),wt(n=>n.pipe(Ct(us))),wt(n=>{let r=n.pipe(Me(u=>ls(this.errorHandler,this.effectsErrorHandler)(u)),oe(u=>(Qo(u,this.errorHandler),u.notification)),se(u=>u.kind==="N"&&u.value!=null),Pn()),i=n.pipe(ye(1),se(as),oe(u=>u.ngrxOnInitEffects()));return Oe(r,i)}))}};t.\u0275fac=function(r){return new(r||t)(ne(lt),ne(Yo))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function us(e){return os(e)?e.ngrxOnIdentifyEffects():""}function ls(e,t){return o=>{let n=qo(o,e,t);return is(o)?o.ngrxOnRunEffects(n):n}}var fs=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(ne(Fr),ne(ke))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Zr(...e){let t=e.flat(),o=$o(t);return He([o,{provide:Ln,multi:!0,useValue:()=>{J(rr),J(or,{optional:!0});let n=J(fs),r=J(Fr),i=!n.isStarted;i&&n.start();for(let u of t){let a=jr(u)?J(u):u;r.addEffects(a)}i&&J(ke).dispatch(Jo())}}])}var Yt={};mo(Yt,{calculateSplitsEffect:()=>vs,changeThemeEffect:()=>bs,inputChangedEffect:()=>Es,inputDistanceEffect:()=>gs,inputPaceEffect:()=>Ts,inputTimeEffect:()=>ms,lockTypeChangedEffect:()=>hs,recalculationEffect:()=>ys,setFocusEffect:()=>_s,splitsSliderValueEffect:()=>ks,useDistanceToolEffect:()=>ps,usePaceToolEffect:()=>ds});var hs=le((e=J(fe),t=J(Qn))=>e.pipe(he(W.changeLockType),ie(({lockType:o})=>{let n="";switch(o){case"distance":n=`Distance is locked
When pace changes, time is calculated
When time changes, pace is calculated
When distance changes, time is calculated`;break;case"time":n=`Time is locked
When distance changes, pace is calculated
When pace changes, distance is calculated
When time changes, distance is calculated`;break;case"pace":n=`Pace is locked
When distance changes, time is calculated
When time changes, distance is calculated
When pace changes, time is calculated`;break}return t.create({message:n,duration:2e3,position:"top",cssClass:"toast-message"}).then(r=>r.present()),Q(W.noop())})),{functional:!0}),ds=le((e=J(fe))=>e.pipe(he(W.usePaceTool),Me(()=>Q(W.calculate({whatChanged:"pace"})))),{functional:!0}),ps=le((e=J(fe))=>e.pipe(he(W.useDistanceTool),Me(()=>Q(W.calculate({whatChanged:"distance"})))),{functional:!0}),Es=le((e=J(fe),t=J(ke))=>e.pipe(he(W.inputChanged),Ze(t.select(xt)),ie(([{input:o},n])=>{switch(n){case"distance":return Q(W.inputDistance({input:o}));case"time":return Q(W.inputTime({input:o}));case"pace":return Q(W.inputPace({input:o}));default:return Q(W.noop())}})),{functional:!0}),gs=le((e=J(fe))=>e.pipe(he(W.inputDistance),Me(()=>Q(W.calculate({whatChanged:"distance"})))),{functional:!0}),ms=le((e=J(fe))=>e.pipe(he(W.inputTime),Me(()=>Q(W.calculate({whatChanged:"time"})))),{functional:!0}),Ts=le((e=J(fe))=>e.pipe(he(W.inputPace),Me(()=>Q(W.calculate({whatChanged:"pace"})))),{functional:!0}),ys=le((e=J(fe),t=J(ke))=>e.pipe(he(W.adjustmentChanged,W.setFocus,W.setDistance,W.setOverallCalculationMode,W.applyHeatAdjustment),Ze(t.select(xt)),ie(([o,n])=>Q(W.calculate({whatChanged:n})))),{functional:!0}),_s=le((e=J(fe))=>e.pipe(he(W.setFocus,W.useSplitsTool),ie(t=>Q(W.calculateSplits()))),{functional:!0}),vs=le((e=J(fe))=>e.pipe(he(W.calculateSplits),Fe(100),ie(t=>Q(W.updateSplitsChart()))),{functional:!0}),bs=le((e=J(fe),t=J(ke))=>e.pipe(he(W.changeTheme),Ze(t.select(fr)),se(([o,n])=>n!==null),Fe(100),ie(o=>Q(W.updateSplitsChart()))),{functional:!0}),ks=le((e=J(fe))=>e.pipe(he(W.splitsSliderValueChanged),Fe(100),ie(({value:t})=>t===0?Q(W.calculateSplits()):Q(W.updateSplitsChart()))),{functional:!0});var Qe="PERFORM_ACTION",Ss="REFRESH",Gr="RESET",Wr="ROLLBACK",$r="COMMIT",qr="SWEEP",Xr="TOGGLE_ACTION",ws="SET_ACTIONS_ACTIVE",Yr="JUMP_TO_STATE",Kr="JUMP_TO_ACTION",ln="IMPORT_STATE",Jr="LOCK_CHANGES",Qr="PAUSE_RECORDING",Ve=class{constructor(t,o){if(this.action=t,this.timestamp=o,this.type=Qe,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Kt=class{constructor(){this.type=Ss}},Jt=class{constructor(t){this.timestamp=t,this.type=Gr}},Qt=class{constructor(t){this.timestamp=t,this.type=Wr}},en=class{constructor(t){this.timestamp=t,this.type=$r}},tn=class{constructor(){this.type=qr}},nn=class{constructor(t){this.id=t,this.type=Xr}};var rn=class{constructor(t){this.index=t,this.type=Yr}},on=class{constructor(t){this.actionId=t,this.type=Kr}},sn=class{constructor(t){this.nextLiftedState=t,this.type=ln}},cn=class{constructor(t){this.status=t,this.type=Jr}},an=class{constructor(t){this.status=t,this.type=Qr}};var vt=new ae("@ngrx/store-devtools Options"),Hr=new ae("@ngrx/store-devtools Initial Config");function eo(){return null}var Os="NgRx Store DevTools";function Is(e){let t={maxAge:!1,monitor:eo,actionSanitizer:void 0,stateSanitizer:void 0,name:Os,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o=typeof e=="function"?e():e,n=o.logOnly?{pause:!0,export:!0,test:!0}:!1,r=o.features||n||t.features;r.import===!0&&(r.import="custom");let i=Object.assign({},t,{features:r},o);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function Ur(e,t){return e.filter(o=>t.indexOf(o)<0)}function to(e){let{computedStates:t,currentStateIndex:o}=e;if(o>=t.length){let{state:r}=t[t.length-1];return r}let{state:n}=t[o];return n}function Je(e){return new Ve(e,+Date.now())}function Cs(e,t){return Object.keys(t).reduce((o,n)=>{let r=Number(n);return o[r]=no(e,t[r],r),o},{})}function no(e,t,o){return ue(te({},t),{action:e(t.action,o)})}function Rs(e,t){return t.map((o,n)=>({state:ro(e,o.state,n),error:o.error}))}function ro(e,t,o){return e(t,o)}function oo(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Ps(e,t,o,n){let r=[],i={},u=[];return e.stagedActionIds.forEach((a,p)=>{let d=e.actionsById[a];d&&(p&&fn(e.computedStates[p],d,t,o,n)||(i[a]=d,r.push(a),u.push(e.computedStates[p])))}),ue(te({},e),{stagedActionIds:r,actionsById:i,computedStates:u})}function fn(e,t,o,n,r){let i=o&&!o(e,t.action),u=n&&!t.action.type.match(n.map(p=>Br(p)).join("|")),a=r&&t.action.type.match(r.map(p=>Br(p)).join("|"));return i||u||a}function Br(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function so(e){return{ngZone:e?J(ut):null,connectInZone:e}}var bt=(()=>{let t=class t extends ft{};t.\u0275fac=(()=>{let n;return function(i){return(n||(n=Zn(t)))(i||t)}})(),t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),Tt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},un=new ae("@ngrx/store-devtools Redux Devtools Extension"),io=(()=>{let t=class t{constructor(n,r,i){this.config=r,this.dispatcher=i,this.zoneConfig=so(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,r){if(this.devtoolsExtension)if(n.type===Qe){if(r.isLocked||r.isPaused)return;let i=to(r);if(oo(this.config)&&fn(i,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let u=this.config.stateSanitizer?ro(this.config.stateSanitizer,i,r.currentStateIndex):i,a=this.config.actionSanitizer?no(this.config.actionSanitizer,n,r.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,u))}else{let i=ue(te({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?Cs(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?Rs(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new qe(n=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(i=>n.next(i)),r.unsubscribe}):bn}createActionStreams(){let n=this.createChangesObservable().pipe(Nn()),r=n.pipe(se(l=>l.type===Tt.START)),i=n.pipe(se(l=>l.type===Tt.STOP)),u=n.pipe(se(l=>l.type===Tt.DISPATCH),oe(l=>this.unwrapAction(l.payload)),It(l=>l.type===ln?this.dispatcher.pipe(se(f=>f.type===Nt),On(1e3),Fe(1e3),oe(()=>l),ct(()=>Q(l)),ye(1)):Q(l))),p=n.pipe(se(l=>l.type===Tt.ACTION),oe(l=>this.unwrapAction(l.payload))).pipe(at(i)),d=u.pipe(at(i));this.start$=r.pipe(at(i)),this.actions$=this.start$.pipe(ie(()=>p)),this.liftedActions$=this.start$.pipe(ie(()=>d))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let r={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(r.maxAge=n.maxAge),r}sendToReduxDevtools(n){try{n()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};t.\u0275fac=function(r){return new(r||t)(ne(un),ne(vt),ne(bt))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),_t={type:Mt},Ds="@ngrx/store-devtools/recompute",As={type:Ds};function co(e,t,o,n,r){if(n)return{state:o,error:"Interrupted by an error up the chain"};let i=o,u;try{i=e(o,t)}catch(a){u=a.toString(),r.handleError(a)}return{state:i,error:u}}function yt(e,t,o,n,r,i,u,a,p){if(t>=e.length&&e.length===i.length)return e;let d=e.slice(0,t),l=i.length-(p?1:0);for(let f=t;f<l;f++){let y=i[f],M=r[y].action,O=d[f-1],C=O?O.state:n,X=O?O.error:void 0,k=u.indexOf(y)>-1?O:co(o,M,C,X,a);d.push(k)}return p&&d.push(e[e.length-1]),d}function Ms(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:Je(_t)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Ns(e,t,o,n,r={}){return i=>(u,a)=>{let{monitorState:p,actionsById:d,nextActionId:l,stagedActionIds:f,skippedActionIds:y,committedState:M,currentStateIndex:O,computedStates:C,isLocked:X,isPaused:V}=u||t;u||(d=Object.create(d));function k(R){let P=R,G=f.slice(1,P+1);for(let _=0;_<G.length;_++)if(C[_+1].error){P=_,G=f.slice(1,P+1);break}else delete d[G[_]];y=y.filter(_=>G.indexOf(_)===-1),f=[0,...f.slice(P+1)],M=C[P].state,C=C.slice(P),O=O>P?O-P:0}function T(){d={0:Je(_t)},l=1,f=[0],y=[],M=C[O].state,O=0,C=[]}let S=0;switch(a.type){case Jr:{X=a.status,S=1/0;break}case Qr:{V=a.status,V?(f=[...f,l],d[l]=new Ve({type:"@ngrx/devtools/pause"},+Date.now()),l++,S=f.length-1,C=C.concat(C[C.length-1]),O===f.length-2&&O++,S=1/0):T();break}case Gr:{d={0:Je(_t)},l=1,f=[0],y=[],M=e,O=0,C=[];break}case $r:{T();break}case Wr:{d={0:Je(_t)},l=1,f=[0],y=[],O=0,C=[];break}case Xr:{let{id:R}=a;y.indexOf(R)===-1?y=[R,...y]:y=y.filter(G=>G!==R),S=f.indexOf(R);break}case ws:{let{start:R,end:P,active:G}=a,_=[];for(let q=R;q<P;q++)_.push(q);G?y=Ur(y,_):y=[...y,..._],S=f.indexOf(R);break}case Yr:{O=a.index,S=1/0;break}case Kr:{let R=f.indexOf(a.actionId);R!==-1&&(O=R),S=1/0;break}case qr:{f=Ur(f,y),y=[],O=Math.min(O,f.length-1);break}case Qe:{if(X)return u||t;if(V||u&&fn(u.computedStates[O],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let P=C[C.length-1];C=[...C.slice(0,-1),co(i,a.action,P.state,P.error,o)],S=1/0;break}r.maxAge&&f.length===r.maxAge&&k(1),O===f.length-1&&O++;let R=l++;d[R]=a,f=[...f,R],S=f.length-1;break}case ln:{({monitorState:p,actionsById:d,nextActionId:l,stagedActionIds:f,skippedActionIds:y,committedState:M,currentStateIndex:O,computedStates:C,isLocked:X,isPaused:V}=a.nextLiftedState);break}case Mt:{S=0,r.maxAge&&f.length>r.maxAge&&(C=yt(C,S,i,M,d,f,y,o,V),k(f.length-r.maxAge),S=1/0);break}case Nt:{if(C.filter(P=>P.error).length>0)S=0,r.maxAge&&f.length>r.maxAge&&(C=yt(C,S,i,M,d,f,y,o,V),k(f.length-r.maxAge),S=1/0);else{if(!V&&!X){O===f.length-1&&O++;let P=l++;d[P]=new Ve(a,+Date.now()),f=[...f,P],S=f.length-1,C=yt(C,S,i,M,d,f,y,o,V)}C=C.map(P=>ue(te({},P),{state:i(P.state,As)})),O=f.length-1,r.maxAge&&f.length>r.maxAge&&k(f.length-r.maxAge),S=1/0}break}default:{S=1/0;break}}return C=yt(C,S,i,M,d,f,y,o,V),p=n(p,a),{monitorState:p,actionsById:d,nextActionId:l,stagedActionIds:f,skippedActionIds:y,committedState:M,currentStateIndex:O,computedStates:C,isLocked:X,isPaused:V}}}var zr=(()=>{let t=class t{constructor(n,r,i,u,a,p,d,l){let f=Ms(d,l.monitor),y=Ns(d,f,p,l.monitor,l),M=Oe(Oe(r.asObservable().pipe(xn(1)),u.actions$).pipe(oe(Je)),n,u.liftedActions$).pipe(kn(vn)),O=i.pipe(oe(y)),C=so(l.connectInZone),X=new _n(1);this.liftedStateSubscription=M.pipe(Ze(O),Vr(C),Mn(({state:T},[S,R])=>{let P=R(T,S);return S.type!==Qe&&oo(l)&&(P=Ps(P,l.predicate,l.actionsSafelist,l.actionsBlocklist)),u.notify(S,P),{state:P,action:S}},{state:f,action:null})).subscribe(({state:T,action:S})=>{if(X.next(T),S.type===Qe){let R=S.action;a.next(R)}}),this.extensionStartSubscription=u.start$.pipe(Vr(C)).subscribe(()=>{this.refresh()});let V=X.asObservable(),k=V.pipe(oe(to));Object.defineProperty(k,"state",{value:er(k,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=V,this.state=k}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new Ve(n,+Date.now()))}refresh(){this.dispatch(new Kt)}reset(){this.dispatch(new Jt(+Date.now()))}rollback(){this.dispatch(new Qt(+Date.now()))}commit(){this.dispatch(new en(+Date.now()))}sweep(){this.dispatch(new tn)}toggleAction(n){this.dispatch(new nn(n))}jumpToAction(n){this.dispatch(new on(n))}jumpToState(n){this.dispatch(new rn(n))}importState(n){this.dispatch(new sn(n))}lockChanges(n){this.dispatch(new cn(n))}pauseRecording(n){this.dispatch(new an(n))}};t.\u0275fac=function(r){return new(r||t)(ne(bt),ne(ft),ne(sr),ne(io),ne(ht),ne(lt),ne(nr),ne(vt))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();function Vr({ngZone:e,connectInZone:t}){return o=>t?new qe(n=>o.subscribe({next:r=>e.run(()=>n.next(r)),error:r=>e.run(()=>n.error(r)),complete:()=>e.run(()=>n.complete())})):o}var xs=new ae("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function js(e,t){return!!e||t.monitor!==eo}function Ls(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function ao(e={}){return He([io,bt,zr,{provide:Hr,useValue:e},{provide:xs,deps:[un,vt],useFactory:js},{provide:un,useFactory:Ls},{provide:vt,deps:[Hr],useFactory:Is},{provide:cr,deps:[zr],useFactory:Fs},{provide:ir,useExisting:bt}])}function Fs(e){return e.state}var et=hr("Preferences",{web:()=>import("./chunk-YFUYSEZC.js").then(e=>new e.PreferencesWeb)});var tt="__StridemateAppState__",uo=3,Zs="stridemate-state",Ge="app-state",dn=class{constructor(){this.db=null,this.dbReady=this.openDatabase()}openDatabase(){return new Promise((t,o)=>{if(this.db)return t(this.db);if(!window.indexedDB)return o(new Error("IndexedDB not supported"));let n=indexedDB.open(Zs,1);n.onerror=r=>{console.error("IndexedDB error:",r),o(new Error("Failed to open IndexedDB"))},n.onsuccess=r=>{this.db=r.target.result,t(this.db)},n.onupgradeneeded=r=>{let i=r.target.result;i.objectStoreNames.contains(Ge)||i.createObjectStore(Ge,{keyPath:"key"})}})}async set(t,o){try{let n=await this.dbReady;return new Promise((r,i)=>{var d;let u=n.transaction([Ge],"readwrite"),p=u.objectStore(Ge).put({key:t,value:o});p.onsuccess=()=>r(),p.onerror=()=>i(new Error("Failed to store data")),(d=u.commit)==null||d.call(u)})}catch(n){console.error("Error storing data in IndexedDB:",n),await et.set({key:t,value:JSON.stringify(o)})}}async get(t){try{let o=await this.dbReady;return new Promise((n,r)=>{let a=o.transaction([Ge],"readonly").objectStore(Ge).get(t);a.onsuccess=()=>{a.result?n(a.result.value):n(null)},a.onerror=()=>r(new Error("Failed to retrieve data"))})}catch(o){console.error("Error retrieving data from IndexedDB:",o);let{value:n}=await et.get({key:t});return n?JSON.parse(n):null}}},pn=new dn,hn=null,Hs=500;function Us(e){var t,o,n,r;if(!e)return e;try{let i=ue(te({},e),{calculator:e.calculator?ue(te({},e.calculator),{splitsChartOptions:null}):void 0});return JSON.parse(JSON.stringify(i))}catch(i){return console.error("Error sanitizing state for storage:",i),{calculator:{distanceType:((t=e==null?void 0:e.calculator)==null?void 0:t.distanceType)||"km",paceType:((o=e==null?void 0:e.calculator)==null?void 0:o.paceType)||"km",distance:((n=e==null?void 0:e.calculator)==null?void 0:n.distance)||"10",isDarkMode:((r=e==null?void 0:e.calculator)==null?void 0:r.isDarkMode)||!1}}}}function lo(e){return(t,o)=>{let n=e(t,o);return hn&&clearTimeout(hn),hn=setTimeout(()=>{try{let r=Us(n),i={version:uo,state:r};pn.set(tt,i).catch(u=>console.error("Failed to persist state:",u))}catch(r){console.error("Error preparing state for storage:",r)}},Hs),n}}async function fo(){try{let e=await pn.get(tt);if(!e){let{value:t}=await et.get({key:tt});t&&(console.log("Migrating from Preferences to IndexedDB..."),e=JSON.parse(t),await pn.set(tt,e),await et.remove({key:tt}))}if(e){let t=e.version<uo?Bs(e.state,e.version):e.state;return ue(te({},t),{[pe.name]:lr(t)})}}catch(e){console.error("Failed to initialize state from storage:",e)}}function Bs(e,t){let o=te({},e);return t===1&&(o={[pe.name]:te({},o[pe.name])},delete o[pe.name].paceConversionMap,delete o[pe.name].distanceConversionMap,delete o[pe.name].splitDistanceMap),t===2&&(o={[pe.name]:ue(te({},o[pe.name]),{heatAdjustment:{temperature:"0",dewPoint:"0",temperatureType:"c"}})}),o}var rt="Service workers are disabled or not supported by this browser";function zs(e){return it(()=>wn(new Error(e)))}var We=class{constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=zs(rt);else{let n=Ot(t,"controllerchange").pipe(oe(()=>t.controller)),r=it(()=>Q(t.controller)),i=In(r,n);this.worker=i.pipe(se(l=>!!l)),this.registration=this.worker.pipe(ie(()=>t.getRegistration()));let d=Ot(t,"message").pipe(oe(l=>l.data)).pipe(se(l=>l&&l.type)).pipe(An());d.connect(),this.events=d}}postMessage(t,o){return this.worker.pipe(ye(1),jn(n=>{n.postMessage(te({action:t},o))})).toPromise().then(()=>{})}postMessageWithOperation(t,o,n){let r=this.waitForOperationCompleted(n),i=this.postMessage(t,o);return Promise.all([i,r]).then(([,u])=>u)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let o;return typeof t=="string"?o=n=>n.type===t:o=n=>t.includes(n.type),this.events.pipe(se(o))}nextEventOfType(t){return this.eventsOfType(t).pipe(ye(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(se(o=>o.nonce===t),ye(1),oe(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Vs=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new st,!n.isEnabled){this.messages=Le,this.notificationClicks=Le,this.subscription=Le;return}this.messages=this.sw.eventsOfType("PUSH").pipe(oe(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(oe(i=>i.data)),this.pushManager=this.sw.registration.pipe(oe(i=>i.pushManager));let r=this.pushManager.pipe(ie(i=>i.getSubscription()));this.subscription=Oe(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(rt));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)u[a]=i.charCodeAt(a);return r.applicationServerKey=u,this.pushManager.pipe(ie(a=>a.subscribe(r)),ye(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(rt));let n=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(ye(1),ie(n)).toPromise()}decodeBase64(n){return atob(n)}};t.\u0275fac=function(r){return new(r||t)(ne(We))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),Gs=(()=>{let t=class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Le,this.unrecoverable=Le;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(rt));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(rt));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}};t.\u0275fac=function(r){return new(r||t)(ne(We))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();var ho=new ae("");function Ws(e,t,o,n){return()=>{if(!(At(n)&&"serviceWorker"in navigator&&o.enabled!==!1))return;let r=e.get(ut),i=e.get(Pt);r.runOutsideAngular(()=>{let a=navigator.serviceWorker,p=()=>{var d;return(d=a.controller)==null?void 0:d.postMessage({action:"INITIALIZE"})};a.addEventListener("controllerchange",p),i.onDestroy(()=>{a.removeEventListener("controllerchange",p)})});let u;if(typeof o.registrationStrategy=="function")u=o.registrationStrategy();else{let[a,...p]=(o.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":u=Q(null);break;case"registerWithDelay":u=po(+p[0]||0);break;case"registerWhenStable":let d=Sn(e.get(Pt).whenStable());u=p[0]?Oe(d,po(+p[0])):d;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${o.registrationStrategy}`)}}r.runOutsideAngular(()=>u.pipe(ye(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:o.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function po(e){return Q(null).pipe(Rn(e))}function $s(e,t){return new We(At(t)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var nt=class{};function Eo(e,t={}){return He([Vs,Gs,{provide:ho,useValue:e},{provide:nt,useValue:t},{provide:We,useFactory:$s,deps:[nt,Rt]},{provide:Gn,useFactory:Ws,deps:[Hn,ho,nt,Rt],multi:!0}])}Ar.production&&void 0;async function qs(){let e=fo(),t=await Wn(Dr,{providers:[{provide:$n,useClass:Xn},Jn(),qn(Pr),ar({[pe.name]:pe.reducer},{metaReducers:[lo]}),ao({name:"Stridemate",maxAge:25,logOnly:!Dt(),autoPause:!0,trace:!0,traceLimit:25}),Zr(Yt),Eo("ngsw-worker.js",{enabled:!Dt(),registrationStrategy:"registerWhenStable:30000"})]}).catch(o=>(console.error(o),null));if(t)try{let o=await e;o&&t.injector.get(ke).dispatch(ur.initializeState({payload:o}))}catch(o){console.error("Failed to load stored state:",o)}}qs();
