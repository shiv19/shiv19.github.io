import{a as ut}from"./chunk-2GT6F2KJ.js";import{$ as Pe,$b as rn,$c as nt,Aa as s,Ab as Wt,Ac as hn,Ba as b,Bb as fe,Bc as gn,Ca as y,Cb as Y,Cc as _n,Da as oe,Db as zt,Dc as $,Ea as ct,Eb as U,Ec as fn,Fa as pt,Fc as xn,G as It,Ga as dt,Gb as Kt,Gc as ht,Ha as Vt,Hb as j,Ia as z,Ib as xe,J as B,Ja as Bt,Jb as Ze,Jc as bn,Ka as Dt,Kb as J,Kc as Cn,La as Ft,Lb as Ut,Lc as gt,M as Ve,Ma as k,Mb as X,Mc as _t,N as u,Na as w,Nb as qt,Nc as ft,O as h,Ob as Zt,Oc as xt,Pa as re,Pb as Qt,Pc as vn,Qa as At,Qb as Qe,Qc as yn,R as O,Rb as Yt,Rc as bt,S as Et,Sa as Lt,Sb as Jt,Sc as kn,Ta as He,Tb as Xt,Tc as wn,U as Be,Ua as je,Ub as en,Uc as Tn,V as D,Va as $t,Vb as tn,Vc as Pn,Wa as Ht,Wb as Ye,Wc as Sn,Xa as E,Xb as Je,Xc as Mn,Y as Ot,Yb as nn,Yc as In,Z as c,Zb as an,Zc as En,_b as on,_c as tt,aa as T,ab as mt,ac as ln,ad as On,ba as Rt,bb as Ne,bc as Xe,bd as it,ca as x,cc as sn,cd as ce,db as We,dc as cn,dd as Rn,eb as ze,ec as et,fa as ue,fb as Ke,ga as _,ha as De,ia as V,ja as C,ka as q,la as Se,lb as Ue,ma as S,mb as Ge,na as M,nb as jt,oa as a,ob as he,pa as o,qa as f,ra as Me,rb as Nt,rc as le,sa as Ie,ta as v,tb as K,ua as m,ub as ge,uc as P,va as p,vb as se,vc as ni,wa as Fe,wb as qe,wc as pn,xa as Ae,xb as _e,xc as dn,ya as Le,yb as Q,yc as mn,za as $e,zb as F,zc as un}from"./chunk-ZFNUDW3A.js";import"./chunk-SLQ2DS3G.js";import{a as N}from"./chunk-3ORAKWS2.js";import{b as Gt}from"./chunk-VGWXPRBH.js";import"./chunk-RKPUEK56.js";import"./chunk-D66CROZD.js";import"./chunk-5QXA6RFF.js";import"./chunk-F67JXMIH.js";import"./chunk-K2ZTZ6NN.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-YAUMUHNT.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{g as ti}from"./chunk-E6HTCO4C.js";var Vn=Gt("Haptics",{web:()=>import("./chunk-FHAZAMUM.js").then(i=>new i.HapticsWeb)});var ii=i=>({"grid-template-columns":i});function ai(i,l){if(i&1){let t=v();a(0,"button",4),m("pointerdown",function(){let n=u(t),r=n.$implicit,d=n.$index,g=p().$index,I=p(2);return h(I.onButtonPress(r,g,d))}),f(1,"div",5),a(2,"span",6),s(3),o()()}if(i&2){let t=l.$implicit,e=l.$index,n=p(),r=n.$implicit,d=n.$index,g=p(2);V("pill-button-first",e===0)("pill-button-last",e===r.length-1)("is-pressed",g.getButtonState(d,e)==="pressed"),ue("aria-label","Input "+t),c(),_("@buttonGlow",g.getGlowState(d,e)),c(2),b(t)}}function oi(i,l){if(i&1&&(a(0,"div",2),S(1,ai,4,9,"button",3,q),o()),i&2){let t=l.$implicit;c(),M(t)}}function ri(i,l){if(i&1&&(a(0,"div",0),S(1,oi,3,0,"div",2,q),o()),i&2){let t=p();c(),M(t.buttonRows)}}function li(i,l){if(i&1){let t=v();a(0,"button",9),m("pointerdown",function(){let n=u(t),r=n.$implicit,d=n.$index,g=p().$index,I=p(2);return h(I.onButtonPress(r,g,d))}),f(1,"div",5),a(2,"span",10),s(3),o()()}if(i&2){let t=l.$implicit,e=l.$index,n=p().$index,r=p(2);V("clear-button",t==="C")("is-pressed",r.getButtonState(n,e)==="pressed"),ue("aria-label",t==="C"?"Clear input":"Input "+t),c(),_("@buttonGlow",r.getGlowState(n,e)),c(2),b(t)}}function si(i,l){if(i&1&&(Me(0,7),S(1,li,4,7,"button",8,q),Ie()),i&2){let t=l.$implicit;c(),M(t)}}function ci(i,l){if(i&1&&(a(0,"div",1),S(1,si,3,0,"ng-container",7,q),o()),i&2){let t=p();_("ngStyle",z(1,ii,t.getGridTemplateColumns())),c(),M(t.buttonRows)}}var Bn=(()=>{let l=class l{constructor(){this.clear=new O,this.inputChange=new O,this.buttonRows=[],this.buttonStates={},this.glowStates={},this.isReducedMotion=!1,this.activeTimeouts=new Set}ngOnInit(){this.isReducedMotion=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}ngOnDestroy(){this.activeTimeouts.forEach(e=>clearTimeout(e)),this.activeTimeouts.clear()}async triggerHaptic(e){try{await Vn.impact({style:e})}catch{}}clearTapped(){this.clear.emit(),this.triggerHaptic(ut.Medium)}inputTapped(e){this.inputChange.emit(e),this.triggerHaptic(ut.Light)}get isPillMode(){return this.buttonRows.length>0&&this.buttonRows.every(e=>e.length===2)}getGridTemplateColumns(){var e;return`repeat(${((e=this.buttonRows[0])==null?void 0:e.length)||1}, 1fr)`}getButtonId(e,n){return`btn-${e}-${n}`}getButtonState(e,n){let r=this.getButtonId(e,n);return this.buttonStates[r]||"normal"}getGlowState(e,n){let r=this.getButtonId(e,n);return this.glowStates[r]||"inactive"}onButtonPress(e,n,r){let d=this.getButtonId(n,r);this.buttonStates[d]="pressed",this.glowStates[d]="active";let g=this.isReducedMotion?0:70,I=this.isReducedMotion?0:160,ie=setTimeout(()=>{this.buttonStates[d]="normal",this.activeTimeouts.delete(ie)},g);this.activeTimeouts.add(ie);let ee=setTimeout(()=>{this.glowStates[d]="inactive",this.activeTimeouts.delete(ee)},I);this.activeTimeouts.add(ee),e==="C"?this.clearTapped():this.inputTapped(e)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-calculator-input"]],inputs:{buttonRows:"buttonRows"},outputs:{clear:"clear",inputChange:"inputChange"},decls:2,vars:1,consts:[[1,"flex","flex-col","gap-2"],[1,"grid","gap-2",3,"ngStyle"],[1,"pill-container"],["type","button",1,"pill-button",3,"pill-button-first","pill-button-last","is-pressed"],["type","button",1,"pill-button",3,"pointerdown"],[1,"glow-overlay"],[1,"button-text-sm"],["ngProjectAs","div.contents",5,["div",8,"contents"]],["type","button",1,"calc-input-key",3,"clear-button","is-pressed"],["type","button",1,"calc-input-key",3,"pointerdown"],[1,"button-text"]],template:function(n,r){n&1&&x(0,ri,3,0,"div",0)(1,ci,3,3,"div",1),n&2&&C(r.isPillMode?0:1)},dependencies:[E,$t],styles:['.calc-input-key[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;min-height:42px;min-width:42px;position:relative;border-radius:var(--calc-radius-md);border:none;background:transparent;color:var(--calc-text-strong)}.calc-input-key[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;background:var(--calc-surface-raised);box-shadow:inset 0 1px color-mix(in oklab,white 60%,transparent),inset 0 -1px color-mix(in oklab,var(--calc-border-subtle) 70%,transparent);pointer-events:none}.calc-input-key[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:3px;border-radius:calc(var(--calc-radius-md) - 2px);border:1px solid var(--calc-border-strong);background:linear-gradient(to bottom,color-mix(in oklab,var(--calc-surface-raised) 84%,var(--calc-accent) 16%),color-mix(in oklab,var(--calc-surface-2) 80%,var(--calc-accent) 20%));box-shadow:0 1px color-mix(in oklab,white 62%,transparent) inset,0 7px 12px -6px color-mix(in oklab,#0f172a 36%,transparent),0 3px 6px -4px color-mix(in oklab,#0f172a 25%,transparent);transition:transform .12s cubic-bezier(.34,1.56,.64,1),box-shadow .12s cubic-bezier(.34,1.56,.64,1),filter .12s cubic-bezier(.34,1.56,.64,1);pointer-events:none}.calc-input-key.is-pressed[_ngcontent-%COMP%]:after, .calc-input-key[_ngcontent-%COMP%]:active:after{transform:translateY(2px) scale(.97);filter:brightness(.95);box-shadow:0 1px color-mix(in oklab,white 30%,transparent) inset,0 1px 2px color-mix(in oklab,#0f172a 25%,transparent);transition-duration:.06s}.calc-input-key[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1;font-size:1rem;font-weight:400;letter-spacing:.01em;transition:transform .12s cubic-bezier(.34,1.56,.64,1)}.calc-input-key.is-pressed[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], .calc-input-key[_ngcontent-%COMP%]:active   .button-text[_ngcontent-%COMP%]{transform:translateY(2px) scale(.97);transition-duration:.06s}.pill-container[_ngcontent-%COMP%]{display:flex;border-radius:var(--calc-radius-md);overflow:hidden;border:1px solid var(--calc-border-subtle);background:linear-gradient(145deg,color-mix(in oklab,var(--calc-surface-3) 88%,var(--calc-accent) 12%),color-mix(in oklab,var(--calc-surface-raised) 90%,var(--calc-accent) 10%));box-shadow:var(--calc-shadow-sm)}.pill-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;flex:1;min-height:42px;position:relative;overflow:hidden;border:none;background:transparent;color:var(--calc-text-strong);transition:background-color var(--calc-motion-fast) var(--calc-motion-ease)}.pill-button.is-pressed[_ngcontent-%COMP%], .pill-button[_ngcontent-%COMP%]:active{background:color-mix(in oklab,var(--calc-info-bg) 86%,var(--calc-accent) 14%)}.pill-button-first[_ngcontent-%COMP%]{border-right:1px solid var(--calc-border-subtle);border-radius:var(--calc-radius-md) 0 0 var(--calc-radius-md)}.pill-button-last[_ngcontent-%COMP%]{border-radius:0 var(--calc-radius-md) var(--calc-radius-md) 0}.glow-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,rgba(255,255,255,.36) 0%,rgba(255,255,255,.1) 50%,transparent 100%);border-radius:inherit;pointer-events:none}.clear-button[_ngcontent-%COMP%]:after{border-color:color-mix(in oklab,var(--calc-danger) 52%,transparent);background:linear-gradient(to bottom,color-mix(in oklab,var(--calc-danger) 32%,var(--calc-surface-3)),color-mix(in oklab,var(--calc-danger) 20%,var(--calc-surface-2)))}.clear-button.is-pressed[_ngcontent-%COMP%]:after, .clear-button[_ngcontent-%COMP%]:active:after{filter:brightness(.88)}.button-text[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1;font-size:1rem;font-weight:400;letter-spacing:.01em}.button-text-sm[_ngcontent-%COMP%]{display:inline-block;position:relative;z-index:1;font-size:.8rem;font-weight:400;letter-spacing:.01em}@media (prefers-reduced-motion: reduce){.calc-input-key[_ngcontent-%COMP%]:after{transition:none}.calc-input-key.is-pressed[_ngcontent-%COMP%]:after, .calc-input-key[_ngcontent-%COMP%]:active:after{transform:none}.calc-input-key[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{transition:none}.calc-input-key.is-pressed[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], .calc-input-key[_ngcontent-%COMP%]:active   .button-text[_ngcontent-%COMP%]{transform:none}}'],data:{animation:[mt("buttonGlow",[ze("inactive",We({opacity:0,transform:"scale(0)"})),ze("active",We({opacity:.18,transform:"scale(1.8)"})),Ke("inactive => active",Ne("85ms ease-out")),Ke("active => inactive",Ne("120ms ease-out"))])]}});let i=l;return i})();var Dn=(()=>{let l=class l{constructor(){this.modalCtrl=B(U),this.toastCtrl=B(Kt),this.store=B(le),this.heatAdjustment=this.store.selectSignal(it),this.temperature="",this.dewPoint="",this.temperatureType="c",this.applyDisabled=D(!0),this.keyboardOffset=D(0),this.onKeyboardDidShow=e=>{var r;let n=((r=e.detail)==null?void 0:r.keyboardHeight)??0;this.keyboardOffset.set(Math.max(0,n))},this.onKeyboardDidHide=()=>{this.keyboardOffset.set(0)},N({arrowBackOutline:X})}fToC(e){return((e-32)*5/9).toFixed(1).replace(/\.0$/,"")}cToF(e){return(e*9/5+32).toFixed(1).replace(/\.0$/,"")}ngOnInit(){window.addEventListener("ionKeyboardDidShow",this.onKeyboardDidShow),window.addEventListener("ionKeyboardDidHide",this.onKeyboardDidHide)}ngAfterViewInit(){this.temperature=this.heatAdjustment().temperature,this.dewPoint=this.heatAdjustment().dewPoint,this.temperatureType=this.heatAdjustment().temperatureType,this.checkInput()}ngOnDestroy(){window.removeEventListener("ionKeyboardDidShow",this.onKeyboardDidShow),window.removeEventListener("ionKeyboardDidHide",this.onKeyboardDidHide)}dismiss(){this.modalCtrl.dismiss()}applyAdjustment(){this.modalCtrl.dismiss({temperatureType:this.temperatureType,temperature:this.temperature,dewPoint:this.dewPoint})}onClearAdjustment(){this.modalCtrl.dismiss({temperatureType:"c",temperature:"",dewPoint:""})}temperatureTypeChanged(e){this.temperatureType=e.detail.value,this.temperatureType==="f"?(this.temperature=this.cToF(Number(this.temperature)),this.dewPoint=this.cToF(Number(this.dewPoint))):(this.temperature=this.fToC(Number(this.temperature)),this.dewPoint=this.fToC(Number(this.dewPoint)))}async checkInput(){if(!Number(this.temperature)||!Number(this.dewPoint))return;let e=this.temperatureType==="f"?Number(this.temperature):Number(this.temperature)*9/5+32,n=this.temperatureType==="f"?Number(this.dewPoint):Number(this.dewPoint)*9/5+32,r=e+n>180;this.applyDisabled.set(r),r&&(await this.toastCtrl.create({message:"Heat Index is too high, running not recommended",duration:5e3,color:"danger",position:"top"})).present()}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-heat-adjustment-modal"]],decls:21,vars:6,consts:[[1,"safe-area-inline","safe-area-bottom","heat-adjustment-sheet-content","px-2","pb-2","pt-3"],["mode","md",1,"focus-summary-item","mb-3"],["aria-label","Back to calculator","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"text-xl"],[1,"calc-surface-card","flex","max-h-[75vh]","flex-col","gap-4","overflow-y-auto","px-3","py-2"],["href","https://maximumperformancerunning.blogspot.com/2013/07/temperature-dew-point.html","target","_blank",1,"calc-link-action"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","c"],["value","f"],["required","","mode","md","label","Temperature","label-placement","stacked","inputmode","decimal","fill","outline",3,"ngModelChange","ionInput","ngModel"],["required","","mode","md","label","Dew Point","label-placement","stacked","inputmode","decimal","fill","outline",3,"ngModelChange","ionInput","ngModel"],["fill","clear",1,"app-button","w-full","rounded-lg",3,"click","disabled"],[1,"calc-link-action","mb-5","text-center",3,"click"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"ion-item",1)(2,"ion-button",2),m("click",function(){return r.dismiss()}),f(3,"ion-icon",3),o(),a(4,"ion-label")(5,"span",4),s(6,"Apply Heat Adjustment"),o()()(),a(7,"div",5)(8,"a",6),s(9," How does this work? "),o(),a(10,"ion-segment",7),m("ionChange",function(g){return r.temperatureTypeChanged(g)}),a(11,"ion-segment-button",8),s(12," Celsius "),o(),a(13,"ion-segment-button",9),s(14," Fahrenheit "),o()(),a(15,"ion-input",10),dt("ngModelChange",function(g){return pt(r.temperature,g)||(r.temperature=g),g}),m("ionInput",function(){return r.checkInput()}),o(),a(16,"ion-input",11),dt("ngModelChange",function(g){return pt(r.dewPoint,g)||(r.dewPoint=g),g}),m("ionInput",function(){return r.checkInput()}),o(),a(17,"ion-button",12),m("click",function(){return r.applyAdjustment()}),s(18,"Apply"),o(),a(19,"p",13),m("click",function(){return r.onClearAdjustment()}),s(20," Clear Adjustment "),o()()()),n&2&&(c(7),De("padding-bottom",r.keyboardOffset()+8,"px"),c(3),_("value",r.temperatureType),c(5),ct("ngModel",r.temperature),c(),ct("ngModel",r.dewPoint),c(),_("disabled",r.applyDisabled()))},dependencies:[E,J,Y,he,Ue,jt,Ge,Q,F,K,xe,j],styles:["ion-input[_ngcontent-%COMP%]{--border-color: color-mix(in oklab, var(--calc-text-muted) 40%, transparent);--highlight-color-focused: var(--calc-accent-strong);--highlight-color-valid: var(--calc-accent-strong);--color: var(--calc-text-strong)}"]});let i=l;return i})();var Ee="HAS_SEEN_ONBOARDING_v2";var di=["scrollContainer"];function mi(i,l){if(i&1&&f(0,"div",21),i&2){let t=l.index,e=p();V("w-6",e.currentSlide===t)("onboarding-dot-active",e.currentSlide===t)("w-2",e.currentSlide!==t)("onboarding-dot-idle",e.currentSlide!==t)}}function ui(i,l){if(i&1){let t=v();a(0,"div",22)(1,"ion-button",23),m("click",function(){u(t);let n=p();return h(n.dismiss())}),s(2," Skip "),o(),a(3,"ion-button",24),m("click",function(){u(t);let n=p();return h(n.nextSlide())}),s(4," Next "),f(5,"ion-icon",25),o()()}}function hi(i,l){if(i&1){let t=v();a(0,"div",26)(1,"ion-button",27),m("click",function(){u(t);let n=p();return h(n.finish())}),s(2," Let's Go "),f(3,"ion-icon",25),o()()}}var ot=(()=>{let l=class l{get tutorialHeroSrc(){let e=document.documentElement.dataset.theme;return e==="dark"?"assets/tutorial_dark.svg":e==="light"?"assets/tutorial.svg":this.darkModeMediaQuery.matches?"assets/tutorial_dark.svg":"assets/tutorial.svg"}constructor(){this.modalCtrl=B(U),this.darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.slides=[0,1,2,3],this.currentSlide=0,N({calculatorOutline:Qe,pinOutline:Xe,flameOutline:en,shieldCheckmark:et,arrowForwardOutline:Zt})}onScroll(e){let n=e.target,r=Math.round(n.scrollLeft/n.clientWidth);r!==this.currentSlide&&(this.currentSlide=r)}nextSlide(){if(this.currentSlide<this.slides.length-1){let e=this.scrollContainer.nativeElement,n=(this.currentSlide+1)*e.clientWidth;e.scrollTo({left:n,behavior:"smooth"})}}async finish(){await ce.set({key:Ee,value:"true"}),this.modalCtrl.dismiss()}async dismiss(){await ce.set({key:Ee,value:"true"}),this.modalCtrl.dismiss()}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-onboarding-modal"]],viewQuery:function(n,r){if(n&1&&Fe(di,5),n&2){let d;Ae(d=Le())&&(r.scrollContainer=d.first)}},decls:46,vars:4,consts:[["scrollContainer",""],["scroll-y","false",1,"ion-padding","safe-area-content"],[1,"flex","h-full","flex-col"],[1,"hide-scrollbar","flex","flex-1","snap-x","snap-mandatory","overflow-x-auto","scroll-smooth","transition-all",3,"scroll"],[1,"flex","w-full","shrink-0","snap-center","flex-col","items-center","justify-center","px-6"],[1,"onboarding-hero-shell","mb-8","w-full"],["alt","Interactive tutorial preview","loading","eager",1,"onboarding-hero-image",3,"src"],[1,"mb-4","text-center","text-2xl","font-bold","text-[var(--calc-text-strong)]"],[1,"calc-muted-copy","text-center"],[1,"text-[var(--calc-text-strong)]"],[1,"onboarding-icon-shell","onboarding-icon-shell-success","mb-10","flex","h-32","w-32","items-center","justify-center","rounded-full"],["name","calculator-outline",1,"onboarding-icon","text-6xl"],[1,"onboarding-icon-shell","onboarding-icon-shell-warning","mb-10","flex","h-32","w-32","items-center","justify-center","rounded-full"],["name","flame-outline",1,"onboarding-icon","text-6xl"],[1,"onboarding-icon-shell","onboarding-icon-shell-privacy","mb-10","flex","h-32","w-32","items-center","justify-center","rounded-full"],["name","shield-checkmark",1,"onboarding-icon","text-6xl"],[1,"mt-auto","px-4","pb-8","pt-4"],[1,"mb-8","flex","justify-center","gap-2"],["class","onboarding-dot h-2 rounded-full transition-all duration-300",3,"w-6","onboarding-dot-active","w-2","onboarding-dot-idle",4,"ngFor","ngForOf"],["class","flex items-center justify-between",4,"ngIf"],["class","flex w-full items-center justify-center",4,"ngIf"],[1,"onboarding-dot","h-2","rounded-full","transition-all","duration-300"],[1,"flex","items-center","justify-between"],["fill","clear","color","medium",3,"click"],["shape","round",3,"click"],["slot","end","name","arrow-forward-outline"],[1,"flex","w-full","items-center","justify-center"],["shape","round","color","primary",1,"w-full",3,"click"]],template:function(n,r){if(n&1){let d=v();a(0,"ion-content",1)(1,"div",2)(2,"div",3,0),m("scroll",function(I){return u(d),h(r.onScroll(I))}),a(4,"div",4)(5,"div",5),f(6,"img",6),o(),a(7,"h2",7),s(8,"Pace, Time, Distance"),o(),a(9,"p",8),s(10," Enter any two values. "),a(11,"strong",9),s(12,"Pin"),o(),s(13," the one you want fixed, then edit another value and Stridemate calculates the third instantly. "),o()(),a(14,"div",4)(15,"div",10),f(16,"ion-icon",11),o(),a(17,"h2",7),s(18,"Predict & Strategize"),o(),a(19,"p",8),s(20," Use the "),a(21,"strong",9),s(22,"Race Predictor"),o(),s(23," to estimate finish times for distances up to 100mi, and generate detailed split tables. "),o()(),a(24,"div",4)(25,"div",12),f(26,"ion-icon",13),o(),a(27,"h2",7),s(28,"Advanced Pacing"),o(),a(29,"p",8),s(30," Adjust expected pace based on "),a(31,"strong",9),s(32,"Heat and Humidity"),o(),s(33,", or use the pacing slider to model perfect negative splits. "),o()(),a(34,"div",4)(35,"div",14),f(36,"ion-icon",15),o(),a(37,"h2",7),s(38,"100% Offline & Private"),o(),a(39,"p",8),s(40," No accounts. No ads. No tracking. Your data stays completely on your device. Let's start running. "),o()()(),a(41,"div",16)(42,"div",17),x(43,mi,1,8,"div",18),o(),x(44,ui,6,0,"div",19)(45,hi,4,0,"div",20),o()()()}n&2&&(c(6),_("src",r.tutorialHeroSrc,Ot),c(37),_("ngForOf",r.slides),c(),_("ngIf",r.currentSlide<r.slides.length-1),c(),_("ngIf",r.currentSlide===r.slides.length-1))},dependencies:[E,He,je,se,K,j],styles:[".hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.hide-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.onboarding-icon-shell[_ngcontent-%COMP%]{border:1px solid var(--calc-border-subtle)}.onboarding-hero-shell[_ngcontent-%COMP%]{max-width:360px}.onboarding-hero-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:16px;border:1px solid var(--calc-border-subtle)}.onboarding-icon[_ngcontent-%COMP%]{color:var(--calc-accent-strong)}.onboarding-icon-shell-info[_ngcontent-%COMP%]{background:var(--calc-info-bg)}.onboarding-icon-shell-success[_ngcontent-%COMP%]{background:var(--calc-success-bg)}.onboarding-icon-shell-warning[_ngcontent-%COMP%]{background:var(--calc-warning-bg)}.onboarding-icon-shell-privacy[_ngcontent-%COMP%]{background:var(--calc-privacy-bg)}.onboarding-dot-active[_ngcontent-%COMP%]{background:var(--calc-accent)}.onboarding-dot-idle[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-text-muted) 24%,transparent)}"]});let i=l;return i})();function gi(i,l){if(i&1){let t=v();a(0,"button",35),m("click",function(){let n=u(t).$implicit,r=p();return h(r.onAccentChange(n.id))}),f(1,"span",36),a(2,"span",16),s(3),o()()}if(i&2){let t=l.$implicit,e=p();V("accent-preset-btn-active",e.appAccent()===t.id),c(),De("background",t.light.accent),c(2),b(t.label)}}var Fn=(()=>{let l=class l{constructor(){this.store=B(le),this.modalCtrl=B(U),this.accentPresets=pn,this.appTheme=this.store.selectSignal(tt),this.appAccent=this.store.selectSignal(nt),N({heart:Ye,shieldCheckmark:et,mailOutline:on,playCircleOutline:sn,arrowBackOutline:X,informationCircleOutline:Je})}async showLockInfo(){this.dismiss(),await(await this.modalCtrl.create({component:Rn,componentProps:{lockType:"all"},initialBreakpoint:.8,breakpoints:[.8,1]})).present()}async replayTutorial(){this.dismiss(),await(await this.modalCtrl.create({component:ot})).present()}dismiss(){this.modalCtrl.dismiss()}onThemeChange(e){let n=e.detail.value;n&&this.store.dispatch(P.setAppTheme({appTheme:n}))}onAccentChange(e){this.store.dispatch(P.setAppAccent({appAccent:e}))}trackAccent(e,n){return n.id}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-about-modal"]],decls:68,vars:3,consts:[[1,"ion-padding","safe-area-content"],[1,"mx-auto","flex","max-w-md","flex-col","gap-6","py-4"],[1,"text-center"],[1,"text-2xl","font-bold"],[1,"calc-muted-copy","text-sm"],[1,"flex","flex-col","gap-3"],[1,"calc-shell-subtle","mx-4","rounded-lg","p-3"],[1,"calc-muted-copy","mb-2","block","text-sm","font-semibold"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","system"],["value","light"],["value","dark"],[1,"grid","grid-cols-2","gap-2"],["type","button","class","accent-preset-btn",3,"accent-preset-btn-active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"calc-cta-secondary","mx-4","flex","items-center","justify-center","gap-2","p-3","transition-opacity","active:opacity-80",3,"click"],["name","information-circle-outline",1,"text-xl"],[1,"font-semibold"],["name","play-circle-outline",1,"text-xl"],["href","https://ko-fi.com/shiv19","target","_blank",1,"mx-4","flex","items-center","justify-center","gap-2","rounded-lg","bg-[#FF5E5B]","p-3","text-white","transition-opacity","active:opacity-80"],["name","heart"],["href","mailto:sp@shiv19.com?subject=Stridemate%20Feedback",1,"calc-link-action","flex","items-center","justify-center","gap-2","text-sm"],["name","mail-outline"],["href","https://shiv19.com/stridemate/privacy","target","_blank",1,"calc-link-action","flex","items-center","justify-center","gap-2","text-sm"],["name","shield-checkmark"],[1,"calc-shell-subtle","mx-4","rounded-lg","p-4"],[1,"mb-3","text-sm","leading-relaxed"],[1,"text-sm","leading-relaxed"],["name","heart",1,"text-red-500"],["href","https://shiv19.com","target","_blank",1,"calc-link-action"],[1,"safe-area-inline","safe-area-bottom","calc-footer"],[1,"mx-auto","max-w-5xl","px-2","pb-2"],["mode","md",1,"focus-summary-item"],["aria-label","Back to calculator","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"text-xl"],["type","button",1,"accent-preset-btn",3,"click"],[1,"accent-preset-dot"]],template:function(n,r){n&1&&(a(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4,"Stridemate"),o(),a(5,"p",4),s(6,"Version 1.2.3"),o()(),a(7,"div",5)(8,"div",6)(9,"ion-label",7),s(10,"Theme"),o(),a(11,"ion-segment",8),m("ionChange",function(g){return r.onThemeChange(g)}),a(12,"ion-segment-button",9)(13,"ion-label"),s(14,"System"),o()(),a(15,"ion-segment-button",10)(16,"ion-label"),s(17,"Light"),o()(),a(18,"ion-segment-button",11)(19,"ion-label"),s(20,"Dark"),o()()()(),a(21,"div",6)(22,"ion-label",7),s(23,"Accent"),o(),a(24,"div",12),x(25,gi,4,5,"button",13),o()(),a(26,"button",14),m("click",function(){return r.showLockInfo()}),f(27,"ion-icon",15),a(28,"span",16),s(29,"How Pinning Works"),o()(),a(30,"button",14),m("click",function(){return r.replayTutorial()}),f(31,"ion-icon",17),a(32,"span",16),s(33,"Replay Tutorial"),o()(),a(34,"a",18),f(35,"ion-icon",19),a(36,"span",16),s(37,"Support on Ko-fi"),o()()(),a(38,"a",20),f(39,"ion-icon",21),s(40," Send Feedback "),o(),a(41,"a",22),f(42,"ion-icon",23),s(43," Privacy Policy "),o(),a(44,"div",24)(45,"p",25),s(46," I built Stridemate before the era of AI assistants."),f(47,"br"),s(48," As a runner, I was frustrated with existing pace calculators - they all required too many taps to do simple conversions. "),o(),a(49,"p",25),s(50," I wanted something that would let me instantly switch between km and mile paces, calculate splits, and adjust for heat - all without fighting with a tiny keyboard. "),o(),a(51,"p",26),s(52," This app solves my own problem, and I hope it helps you too. It's completely free, works offline, and respects your privacy - no tracking, no ads, no data collection. "),o()(),a(53,"div",2)(54,"p",4),s(55," Made with "),f(56,"ion-icon",27),s(57," by "),a(58,"a",28),s(59,"Shiva Prasad"),o()()()()(),a(60,"ion-footer",29)(61,"div",30)(62,"ion-item",31)(63,"ion-button",32),m("click",function(){return r.dismiss()}),f(64,"ion-icon",33),o(),a(65,"ion-label")(66,"span",34),s(67,"About Stridemate"),o()()()()()),n&2&&(c(11),_("value",r.appTheme()),c(14),_("ngForOf",r.accentPresets)("ngForTrackBy",r.trackAccent))},dependencies:[E,He,se,qe,Q,K,j,F,J,Y],styles:[".accent-preset-btn[_ngcontent-%COMP%]{align-items:center;background:var(--calc-surface-raised);border:1px solid var(--calc-border-subtle);border-radius:var(--calc-radius-md);color:var(--calc-text-strong);display:inline-flex;font-size:.75rem;gap:.5rem;justify-content:flex-start;min-height:40px;padding:.45rem .65rem}.accent-preset-btn-active[_ngcontent-%COMP%]{background:var(--calc-info-bg);border-color:var(--calc-border-strong)}.accent-preset-dot[_ngcontent-%COMP%]{border:1px solid color-mix(in oklab,var(--calc-text-strong) 20%,transparent);border-radius:9999px;height:.9rem;width:.9rem}"]});let i=l;return i})();var An=(()=>{let l=class l{constructor(){this.activeTab="splits",this.activeTabChange=new O}onTabChange(e){this.activeTabChange.emit(e.detail.value)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-focused-performance-tabs"]],inputs:{activeTab:"activeTab"},outputs:{activeTabChange:"activeTabChange"},decls:14,vars:1,consts:[[1,"px-2"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","splits"],["value","training"],["value","lthr"],["value","blocks"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"ion-segment",1),m("ionChange",function(g){return r.onTabChange(g)}),a(2,"ion-segment-button",2)(3,"ion-label"),s(4,"Splits"),o()(),a(5,"ion-segment-button",3)(6,"ion-label"),s(7,"Paces"),o()(),a(8,"ion-segment-button",4)(9,"ion-label"),s(10,"LTHR"),o()(),a(11,"ion-segment-button",5)(12,"ion-label"),s(13,"Blocks"),o()()()()),n&2&&(c(),_("value",r.activeTab))},dependencies:[J,Y,F],encapsulation:2});let i=l;return i})();function _i(i,l){if(i&1&&(a(0,"div",6)(1,"p",13)(2,"span",14),s(3,"Z1 Recovery:"),o(),s(4),o(),a(5,"p",13)(6,"span",14),s(7,"Z2 Aerobic:"),o(),s(8),o(),a(9,"p",13)(10,"span",14),s(11,"Z3 Tempo:"),o(),s(12),o(),a(13,"p",13)(14,"span",14),s(15,"Z4 Sub-threshold:"),o(),s(16),o(),a(17,"p",13)(18,"span",14),s(19,"Z5a Threshold:"),o(),s(20),o(),a(21,"p",13)(22,"span",14),s(23,"Z5b VO2max:"),o(),s(24),o(),a(25,"p",13)(26,"span",14),s(27,"Z5c Anaerobic:"),o(),s(28),o()()),i&2){let t=p(2);c(4),y(" ",t.lthrSummary.zones.z1,""),c(4),y(" ",t.lthrSummary.zones.z2,""),c(4),y(" ",t.lthrSummary.zones.z3,""),c(4),y(" ",t.lthrSummary.zones.z4,""),c(4),y(" ",t.lthrSummary.zones.z5a,""),c(4),y(" ",t.lthrSummary.zones.z5b,""),c(4),y(" ",t.lthrSummary.zones.z5c,"")}}function fi(i,l){i&1&&(a(0,"p",12),s(1," Add LTHR bpm to view heart-rate zones. Threshold pace remains available without heart-rate data. "),o())}function xi(i,l){if(i&1){let t=v();a(0,"div",6)(1,"div",7)(2,"p",8),s(3,"Threshold Pace /km"),o(),a(4,"p",9),s(5),o()(),a(6,"div",7)(7,"p",8),s(8,"Threshold Pace /mi"),o(),a(9,"p",9),s(10),o()()(),a(11,"div",10)(12,"ion-input",11),m("ionInput",function(n){u(t);let r=p();return h(r.onLthrInput(n))}),o(),x(13,_i,29,7,"div",6)(14,fi,2,0,"p",12),o()}if(i&2){let t=p();c(5),b(t.lthrSummary.thresholdPacePerKm),c(5),b(t.lthrSummary.thresholdPacePerMi),c(2),_("value",t.lthrBpm),c(),C(t.lthrSummary.hasLthrBpm&&t.lthrSummary.zones?13:14)}}var Ln=(()=>{let l=class l{constructor(){this.lthrSummary=null,this.lthrBpm="",this.lthrBpmChange=new O,this.openInfo=new O}onLthrInput(e){var r;let n=((r=e.detail.value)==null?void 0:r.toString())??"";this.lthrBpmChange.emit(n.replace(/[^0-9]/g,"").slice(0,3))}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-lthr-panel"]],inputs:{lthrSummary:"lthrSummary",lthrBpm:"lthrBpm"},outputs:{lthrBpmChange:"lthrBpmChange",openInfo:"openInfo"},decls:10,vars:1,consts:[[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"calc-surface-card","p-4"],[1,"mb-3"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-xs","text-[var(--calc-text-muted)]"],["type","button",1,"mt-1","text-sm","text-[var(--calc-accent)]","underline",3,"click"],[1,"mt-3","grid","grid-cols-1","gap-2","sm:grid-cols-2"],[1,"calc-shell-subtle","rounded-xl","p-3"],[1,"text-xs","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"text-xl","font-extrabold"],[1,"calc-shell-subtle","mt-4","rounded-xl","p-3"],["id","lthr-input","mode","md","type","number","min","0","max","260","label","Your LTHR (bpm)","labelPlacement","stacked","fill","outline","inputmode","numeric",3,"ionInput","value"],[1,"mt-3","text-sm","text-[var(--calc-text-muted)]"],[1,"text-sm"],[1,"font-semibold"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),s(4," LTHR Pace Guidance "),o(),a(5,"p",4),s(6," LTHR anchors your zones to your actual physiology instead of age-based formulas. "),o(),a(7,"button",5),m("click",function(){return r.openInfo.emit()}),s(8," How to use this "),o()(),x(9,xi,15,4),o()()),n&2&&(c(9),C(r.lthrSummary?9:-1))},dependencies:[E,xe],styles:["ion-input[_ngcontent-%COMP%]{--border-color: color-mix(in oklab, var(--calc-text-muted) 40%, transparent);--highlight-color-focused: var(--calc-accent-strong);--highlight-color-valid: var(--calc-accent-strong);--color: var(--calc-text-strong)}"]});let i=l;return i})();var bi=(i,l)=>l.name,Ci=(i,l)=>l.week;function vi(i,l){i&1&&(a(0,"div",1)(1,"p",2),s(2," Blocks supports 5K and longer. For shorter events, use Splits and Paces. "),o()())}function yi(i,l){if(i&1&&(f(0,"br"),s(1)),i&2){let t=p().$implicit;c(),y("",t.taperReduction," ")}}function ki(i,l){if(i&1&&(a(0,"div",24)(1,"p",30),s(2),o(),a(3,"p",31),s(4),x(5,yi,2,1),o()()),i&2){let t=l.$implicit;c(2),oe("",t.name," (",t.weeks,"w)"),c(2),y(" Trend: ",t.volumeTrend," "),c(),C(t.taperReduction?5:-1)}}function wi(i,l){if(i&1&&(a(0,"ion-row",32)(1,"ion-col")(2,"p",36),s(3),o()()()),i&2){let t=p().$implicit;c(3),y(" ",t.phaseTag," ")}}function Ti(i,l){if(i&1&&(x(0,wi,4,1,"ion-row",32),a(1,"ion-row",33)(2,"ion-col",27)(3,"p",34),s(4),o()(),a(5,"ion-col")(6,"p",35),s(7),o()(),a(8,"ion-col")(9,"p",34),s(10),o()(),a(11,"ion-col")(12,"p",34),s(13),o()(),a(14,"ion-col")(15,"p",34),s(16),o()()()),i&2){let t=l.$implicit,e=l.$index;C(t.isNewPhase?0:-1),c(),V("blocks-row-accent",e%2===0),c(3),b(t.week),c(3),b(t.targetVolume),c(3),b(t.easyRun),c(3),b(t.qualityLoad),c(3),b(t.longRun)}}function Pi(i,l){if(i&1){let t=v();a(0,"div",3)(1,"div",4)(2,"h2",5),s(3,"Blocks"),o(),a(4,"p",6),s(5,"Training block structure"),o()(),a(6,"div",7)(7,"div")(8,"div",8),s(9,"Unit"),o(),a(10,"ion-segment",9),m("ionChange",function(n){u(t);let r=p();return h(r.onDistanceUnitChange(n))}),a(11,"ion-segment-button",10)(12,"ion-label"),s(13,"Km"),o()(),a(14,"ion-segment-button",11)(15,"ion-label"),s(16,"Mi"),o()()()(),a(17,"div")(18,"div",8),s(19,"Model"),o(),a(20,"ion-segment",9),m("ionChange",function(n){u(t);let r=p();return h(r.onModelChange(n))}),a(21,"ion-segment-button",12)(22,"ion-label"),s(23,"4-Phase"),o()(),a(24,"ion-segment-button",13)(25,"ion-label"),s(26,"3-Phase"),o()()()()(),a(27,"div",14)(28,"div")(29,"ion-input",15),m("ngModelChange",function(n){u(t);let r=p();return h(r.onWeeksToRaceChange(n))}),o()(),a(30,"div")(31,"ion-input",16),m("ngModelChange",function(n){u(t);let r=p();return h(r.onCurrentWeeklyVolumeChange(n))}),o()(),a(32,"div")(33,"ion-input",17),m("ngModelChange",function(n){u(t);let r=p();return h(r.onPeakWeeklyVolumeCapChange(n))}),o()(),a(34,"div")(35,"div",8),s(36),o(),a(37,"ion-range",18),m("ionInput",function(n){u(t);let r=p();return h(r.onLongRunPercentChange(n))})("ionChange",function(n){u(t);let r=p();return h(r.onLongRunPercentChange(n))}),o()()(),a(38,"div",19)(39,"div",20),s(40,"Step-back (Reduce volume every 3-4 wks)"),o(),a(41,"ion-toggle",21),m("ionChange",function(n){u(t);let r=p();return h(r.onStepBackToggleChange(n))}),o()()(),a(42,"div",3)(43,"h3",22),s(44," Phase Overview "),o(),a(45,"div",23),S(46,ki,6,4,"div",24,bi),o()(),a(48,"ion-grid",25)(49,"ion-row",26)(50,"ion-col",27)(51,"p",28),s(52,"Wk"),o()(),a(53,"ion-col")(54,"p",28),s(55,"Total"),o()(),a(56,"ion-col")(57,"p",28),s(58,"Easy"),o()(),a(59,"ion-col")(60,"p",28),s(61,"Quality"),o()(),a(62,"ion-col")(63,"p",28),s(64,"Long Run"),o()()(),a(65,"div",29),S(66,Ti,17,8,null,null,Ci),o()()}if(i&2){let t=p();c(10),_("value",t.distanceUnit()),c(10),_("value",t.modelSelector()),c(9),_("ngModel",t.weeksToRace),c(2),_("label","Current weekly volume ("+t.distanceUnit()+")")("ngModel",t.currentWeeklyVolume),c(2),_("label","Peak weekly cap ("+t.distanceUnit()+")")("ngModel",t.peakWeeklyVolumeCap),c(3),y(" Long run % of weekly volume: ",t.longRunPercent(),"% "),c(),_("min",20)("max",35)("step",1)("value",t.longRunPercent()),c(4),_("checked",t.stepBackToggle()),c(5),M(t.phases()),c(20),M(t.weeklyBlocks())}}var $n=(()=>{let l=class l{constructor(){this.distanceType="km",this.focusId=null,this.navigateToTab=new O,this.weeksToRace=12,this.currentWeeklyVolume=null,this.peakWeeklyVolumeCap=null,this.longRunPercent=D(28),this.modelSelector=D("4-Phase"),this.distanceUnit=D("km"),this.stepBackToggle=D(!1),this.phases=D([]),this.weeklyBlocks=D([]),this.kmToMi=.621371}get categoryKey(){return this.focusId===-1||this.focusId===null?null:`dist_${this.focusId}`}ngOnInit(){this.distanceUnit.set(this.distanceType),this.setDefaultLongRunPercent(),this.loadPreferences(),this.updateCalculation()}ngOnChanges(e){e.distanceType&&!e.distanceType.firstChange&&this.distanceUnit.set(this.distanceType),(e.distanceMeters||e.focusId)&&(this.setDefaultLongRunPercent(),this.loadPreferences()),this.updateCalculation()}loadPreferences(){let e=this.categoryKey;if(!e){this.currentWeeklyVolume=null,this.peakWeeklyVolumeCap=null,this.weeksToRace=12,this.modelSelector.set("4-Phase"),this.stepBackToggle.set(!1);return}let n=localStorage.getItem(`stridemate_blocks_prefs_${e}`);if(n)try{let r=JSON.parse(n);r.weeksToRace&&(this.weeksToRace=r.weeksToRace),r.currentWeeklyVolume!==void 0&&(this.currentWeeklyVolume=r.currentWeeklyVolume),r.peakWeeklyVolumeCap!==void 0&&(this.peakWeeklyVolumeCap=r.peakWeeklyVolumeCap),r.longRunPercent&&this.longRunPercent.set(r.longRunPercent),r.modelSelector&&this.modelSelector.set(r.modelSelector),r.distanceUnit&&this.distanceUnit.set(r.distanceUnit),r.stepBackToggle!==void 0&&this.stepBackToggle.set(r.stepBackToggle)}catch(r){console.error("Failed to parse blocks preferences",r)}else this.currentWeeklyVolume=null,this.peakWeeklyVolumeCap=null,this.weeksToRace=12,this.modelSelector.set("4-Phase"),this.stepBackToggle.set(!1)}savePreferences(){let e=this.categoryKey;if(!e)return;let n={weeksToRace:this.weeksToRace,currentWeeklyVolume:this.currentWeeklyVolume,peakWeeklyVolumeCap:this.peakWeeklyVolumeCap,longRunPercent:this.longRunPercent(),modelSelector:this.modelSelector(),distanceUnit:this.distanceUnit(),stepBackToggle:this.stepBackToggle()};localStorage.setItem(`stridemate_blocks_prefs_${e}`,JSON.stringify(n))}setDefaultLongRunPercent(){this.distanceMeters<1e4?this.longRunPercent.set(24):this.distanceMeters<21e3?this.longRunPercent.set(26):this.distanceMeters<42e3?this.longRunPercent.set(30):this.longRunPercent.set(32)}onLongRunPercentChange(e){var r;let n=this.toNullableNumber((r=e==null?void 0:e.detail)==null?void 0:r.value);n!==null&&(this.longRunPercent.set(n),this.updateCalculation())}onWeeksToRaceChange(e){let n=this.toNullableNumber(e);this.weeksToRace=n===null?12:n,this.updateCalculation()}onCurrentWeeklyVolumeChange(e){this.currentWeeklyVolume=this.toNullableNumber(e),this.updateCalculation()}onPeakWeeklyVolumeCapChange(e){this.peakWeeklyVolumeCap=this.toNullableNumber(e),this.updateCalculation()}onModelChange(e){var r;let n=(r=e==null?void 0:e.detail)==null?void 0:r.value;n&&(this.modelSelector.set(n),this.updateCalculation())}onDistanceUnitChange(e){var d;let n=(d=e==null?void 0:e.detail)==null?void 0:d.value;if(!n)return;let r=this.distanceUnit();if(n===r){this.updateCalculation();return}this.currentWeeklyVolume!==null&&(this.currentWeeklyVolume=this.convertDistanceValue(this.currentWeeklyVolume,r,n)),this.peakWeeklyVolumeCap!==null&&(this.peakWeeklyVolumeCap=this.convertDistanceValue(this.peakWeeklyVolumeCap,r,n)),this.distanceUnit.set(n),this.updateCalculation()}onStepBackToggleChange(e){this.stepBackToggle.set(e.detail.checked),this.updateCalculation()}toNullableNumber(e){if(e===""||e===null||e===void 0)return null;let n=typeof e=="number"?e:Number(e);return Number.isFinite(n)?n:null}convertDistanceValue(e,n,r){if(n===r)return e;let d=n==="km"?e*this.kmToMi:e/this.kmToMi;return Math.round(d*10)/10}updateCalculation(){if(this.distanceMeters<5e3)return;this.savePreferences();let e=.4,n=.35,r=.15,d=.1,g=1.03,I=1.05,ie=1.04,ee=1.06,pe=.85,de=.7,me=12,be=16,Ce=18,ve=12;this.distanceMeters<1e4?(e=.35,n=.4,r=.15,d=.1,g=1.03,I=1.05,ie=1.04,ee=1.06,pe=.85,de=.7,me=12,be=16,Ce=18,ve=12):this.distanceMeters<21e3?(e=.4,n=.35,r=.15,d=.1,g=1.04,I=1.06,ie=1.05,ee=1.07,pe=.8,de=.65,me=11,be=15,Ce=17,ve=11):this.distanceMeters<42e3?(e=.4,n=.35,r=.1,d=.15,g=1.05,I=1.07,ie=1.06,ee=1.08,pe=.8,de=.6,me=10,be=14,Ce=16,ve=10):(e=.45,n=.3,r=.1,d=.15,g=1.05,I=1.08,ie=1.06,ee=1.09,pe=.75,de=.6,me=10,be=12,Ce=14,ve=10);let W=Math.max(4,Math.min(30,this.weeksToRace||12)),rt=this.modelSelector()==="4-Phase",te=Math.max(1,Math.round(W*(rt?d:d+.05)));W<=6&&(te=1);let A=0,H=0,Z=0;if(W<=6){let R=W-te;A=Math.ceil(R/2),H=R-A}else A=Math.max(3,Math.round(W*e)),rt?(H=Math.round(W*n),Z=Math.max(1,W-A-H-te)):H=W-A-te;let Oe=A+H+Z+te;for(;Oe<W;)rt&&Z<Math.round(W*r)?Z++:H<Math.round(W*n)?H++:A++,Oe++;for(;Oe>W;)Z>1?Z--:H>1?H--:A>3?A--:te--,Oe--;let ye=this.currentWeeklyVolume;if(!ye){let R=55;this.distanceMeters<1e4?R=30:this.distanceMeters<21e3&&(R=42.5),ye=this.convertDistanceValue(R,"km",this.distanceUnit())}let qn=this.peakWeeklyVolumeCap||ye*1.4,lt=Math.min(qn,ye*1.4),Zn=((g+I)/2-1)*100,Qn=((ie+ee)/2-1)*100,kt=R=>"+"+R.toFixed(1)+"%",wt="-"+((1-pe)*100).toFixed(0)+"%",Yn="-"+((1-de)*100).toFixed(0)+"%",ke=[];A>0&&ke.push({name:"Base",weeks:A,volumeTrend:"\u2197 "+kt(Zn)}),H>0&&ke.push({name:"Build",weeks:H,volumeTrend:"\u2197 "+kt(Qn)}),Z>0&&ke.push({name:"Peak",weeks:Z,volumeTrend:"\u2192 Hold"}),te>0&&ke.push({name:"Taper",weeks:te,volumeTrend:"\u2198",taperReduction:te>1?wt+" / "+Yn:wt}),this.phases.set(ke);let ae=ye,Re=[],st=0;for(let R=1;R<=W;R++){let L;R<=A?L="Base":R<=A+H?L="Build":R<=A+H+Z?L="Peak":L="Taper",st++;let we=!1;this.stepBackToggle()&&L!=="Taper"&&L!=="Peak"&&st>=4&&(we=!0,st=0);let ne=ae;if(R>1&&!we&&L!=="Taper"){let Te=1;L==="Base"?Te=I:L==="Build"?Te=ee:L==="Peak"&&(Te=1.01),ae=ae*Te,ne=ae}L==="Taper"?R-(A+H+Z)===1?ne=ae*pe:ne=ae*de:we&&(ne=ae*.85),ne>lt&&(ne=lt,ae=lt);let Jn=we||L==="Base"?me:L==="Build"?be:L==="Peak"?Ce:ve,Tt=Math.round(ne*10)/10,Pt=Math.round(ne*(this.longRunPercent()/100)*10)/10,St=Math.round(ne*(Jn/100)*10)/10,Xn=Math.round((Tt-Pt-St)*10)/10,Mt=we?"Step-back":L,ei=R===1||Re[Re.length-1].phaseTag!==Mt;Re.push({week:R,targetVolume:Tt,easyRun:Xn,longRun:Pt,qualityLoad:St,phaseTag:Mt,isNewPhase:ei})}this.weeklyBlocks.set(Re)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-blocks-panel"]],inputs:{distanceMeters:"distanceMeters",distanceType:"distanceType",focusId:"focusId"},outputs:{navigateToTab:"navigateToTab"},features:[Ve],decls:3,vars:1,consts:[[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"calc-surface-card","p-6","text-center"],[1,"mb-4","text-sm","text-[var(--calc-text-muted)]"],[1,"calc-surface-card","mb-4","p-4"],[1,"mb-3"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-sm","text-[var(--calc-text-muted)]"],[1,"mt-4","grid","grid-cols-1","gap-4","sm:grid-cols-2"],[1,"mb-1","text-xs","text-[var(--calc-text-muted)]"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","km"],["value","mi"],["value","4-Phase"],["value","3-Phase"],[1,"mt-5","grid","grid-cols-1","gap-4","sm:grid-cols-2"],["mode","md","label","Weeks to race","labelPlacement","stacked","type","number","min","4","max","30","fill","outline",3,"ngModelChange","ngModel"],["mode","md","labelPlacement","stacked","type","number","min","0","fill","outline",3,"ngModelChange","label","ngModel"],["labelPlacement","stacked","type","number","min","0","fill","outline",3,"ngModelChange","label","ngModel"],[1,"calc-range",3,"ionInput","ionChange","min","max","step","value"],[1,"mt-4","flex","items-center","justify-between"],[1,"text-sm"],[3,"ionChange","checked"],[1,"mb-3","text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"grid","grid-cols-2","gap-2","sm:grid-cols-4"],[1,"calc-shell-subtle","rounded-xl","p-2"],[1,"calc-table-shell","p-0"],[1,"calc-table-head","calc-divider-subtle","bg-[var(--calc-surface-1)]/95","sticky","top-0","z-10","border-b","px-2","py-1","backdrop-blur"],["size","2"],[1,"text-center"],[1,"px-2","pb-2","pt-1"],[1,"text-sm","font-semibold"],[1,"text-xs","text-[var(--calc-text-muted)]"],[1,"mb-1","mt-2"],[1,"blocks-row","items-center","py-0.5"],[1,"text-center","text-sm"],[1,"text-center","text-sm","font-medium"],[1,"pl-2","text-[11px]","font-bold","uppercase","tracking-wider","text-[var(--calc-text-muted)]"]],template:function(n,r){n&1&&(a(0,"div",0),x(1,vi,3,0,"div",1)(2,Pi,68,13),o()),n&2&&(c(),C(r.distanceMeters<5e3?1:2))},dependencies:[E,he,Ue,Ge,xe,Ze,J,Y,Ut,F,_e,fe,ge],styles:[".calc-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--calc-text-muted);font-size:.75rem;font-weight:600}ion-input[_ngcontent-%COMP%]{--border-color: color-mix(in oklab, var(--calc-text-muted) 40%, transparent);--highlight-color-focused: var(--calc-accent-strong);--highlight-color-valid: var(--calc-accent-strong);--color: var(--calc-text-strong)}ion-toggle[_ngcontent-%COMP%]{--track-background: color-mix(in oklab, var(--calc-surface-2) 74%, var(--calc-surface-1));--track-background-checked: color-mix(in oklab, var(--calc-accent) 48%, var(--calc-surface-2));--handle-background: var(--calc-surface-raised);--handle-background-checked: #f8fafc;--handle-box-shadow: 0 0 0 1px color-mix(in oklab, var(--calc-border-subtle) 70%, transparent)}.blocks-row-accent[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-surface-2) 70%,transparent);border-radius:.75rem}"]});let i=l;return i})();var Hn=(()=>{let l=class l{constructor(e,n){this.el=e,this._zone=n,this.updateChange=new O(!0),this.chartInstance=new O}ngOnChanges(e){var r;let n=(r=e.update)==null?void 0:r.currentValue;(e.options||n)&&(this.wrappedUpdateOrCreateChart(),n&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){var e;(e=this.chart)!=null&&e.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}};l.\u0275fac=function(n){return new(n||l)(Pe(Be),Pe(Et))},l.\u0275cmp=T({type:l,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},standalone:!1,features:[Ve],decls:0,vars:0,template:function(n,r){},encapsulation:2});let i=l;return i})(),jn=(()=>{let l=class l{};l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=Rt({type:l}),l.\u0275inj=It({});let i=l;return i})();function Mi(i,l){if(i&1){let t=v();a(0,"button",22),m("click",function(){u(t);let n=p(3);return h(n.onResetHalfDelta())}),f(1,"ion-icon",23),o()}}function Ii(i,l){if(i&1&&(a(0,"p",21),s(1),o()),i&2){let t=p(3);c(),b(t.splitPlan==null?null:t.splitPlan.warning)}}function Ei(i,l){if(i&1){let t=v();a(0,"div",15)(1,"p",16),s(2),o(),x(3,Mi,2,0,"button",17),o(),a(4,"ion-range",18),m("ionChange",function(n){u(t);let r=p(2);return h(r.onHalfDeltaChange(n))}),a(5,"ion-label",19),s(6,"Faster 2nd"),o(),a(7,"ion-label",20),s(8,"Slower 2nd"),o()(),x(9,Ii,2,1,"p",21)}if(i&2){let t=p(2);c(2),y("2nd half vs 1st half: ",t.splitDeltaLabel,""),c(),C(t.hasNonZeroHalfDelta?3:-1),c(),_("ticks",!0)("snaps",!0)("disabled",t.isSingleLap)("min",-t.halfDeltaCap)("max",t.halfDeltaCap)("step",t.halfDeltaStep)("value",t.currentHalfDelta),c(5),C(t.splitPlan!=null&&t.splitPlan.warning?9:-1)}}function Oi(i,l){i&1&&(a(0,"p",13),s(1," Strategy controls are shown for distances above 5K. "),o())}function Ri(i,l){i&1&&(Me(0),a(1,"div",24),f(2,"ion-spinner",25),o(),Ie())}function Vi(i,l){if(i&1&&(Me(0),f(1,"highcharts-chart",26),Ie()),i&2){let t=p(2);c(),_("Highcharts",t.highcharts)("options",t.splitsChartOptions)}}function Bi(i,l){if(i&1&&(a(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"div",12)(4,"p",3),s(5,"Strategy"),o(),x(6,Ei,10,10)(7,Oi,2,0,"p",13),o(),x(8,Ri,3,0,"ng-container",14)(9,Vi,2,2,"ng-container",14),o()()()),i&2){let t=p();c(6),C(t.isStrategyAvailable?6:7),c(2),_("ngIf",!t.splitsChartReady),c(),_("ngIf",t.splitsChartReady&&t.splitsChartOptions)}}function Di(i,l){if(i&1){let t=v();a(0,"button",28),m("click",function(){u(t);let n=p(2);return h(n.onResetLapTags())}),f(1,"ion-icon",23),o()}}function Fi(i,l){if(i&1&&(a(0,"ion-col",9)(1,"p",8),s(2,"Effort"),o(),x(3,Di,2,0,"button",27),o()),i&2){let t=p();c(3),C(!t.isSingleLap&&t.hasCustomLapTags?3:-1)}}function Ai(i,l){if(i&1){let t=v();a(0,"ion-col",8)(1,"button",30),m("click",function(){u(t);let n=p().$index,r=p();return h(r.onLapTagChange(n))}),s(2),o()()}if(i&2){let t=p().$index,e=p();c(),V("lap-tag-uphill",e.lapTag(t)==="uphill")("lap-tag-downhill",e.lapTag(t)==="downhill"),_("disabled",e.isSingleLap),c(),y(" ",e.lapTagLabel(t)," ")}}function Li(i,l){if(i&1&&(a(0,"ion-row",11)(1,"ion-col")(2,"p",8),s(3),o()(),a(4,"ion-col")(5,"p",29),s(6),o()(),a(7,"ion-col")(8,"p",29),s(9),o()(),x(10,Ai,3,6,"ion-col",8),a(11,"ion-col")(12,"p",29),s(13),o()(),a(14,"ion-col")(15,"p",29),s(16),o()()()),i&2){let t=l.$implicit,e=p();c(3),b(t.split),c(3),b(t.splitDistance),c(3),b(t.splitPace),c(),C(e.isStrategyAvailable?10:-1),c(3),b(t.splitTime),c(3),b(t.totalDistance)}}N({refreshOutline:cn});var Nn=(()=>{let l=class l{constructor(e){this.store=e,this.lapTagCycle=["flat","uphill","downhill"],this.isPlannerCollapsed=typeof window<"u"&&window.innerWidth<=768,this.splitsChartReady=!1,this.splitsChartOptions=null,this.splitPlan=null,this.splits=[],this.splitHalfDeltaChange=new O,this.splitHalfDeltaReset=new O,this.splitLapTagChange=new O,this.splitLapTagsReset=new O}get currentHalfDelta(){var e;return((e=this.splitPlan)==null?void 0:e.halfDeltaSeconds)??0}get hasNonZeroHalfDelta(){return this.currentHalfDelta!==0}get hasCustomLapTags(){var e;return(((e=this.splitPlan)==null?void 0:e.lapTags)??[]).some(n=>n!=="flat")}get isSingleLap(){return this.splits.length<=1}get isStrategyAvailable(){return this.getRaceDistanceMeters()>5e3}get halfDeltaCap(){return gn(this.getRaceDistanceMeters())}get halfDeltaStep(){return this.getRaceDistanceMeters()<=5e3?10:5}get splitDeltaLabel(){let e=this.currentHalfDelta;return`${e>0?"+":""}${e}s`}togglePlanner(){this.isPlannerCollapsed=!this.isPlannerCollapsed,this.store.dispatch(P.togglePlanner())}onHalfDeltaChange(e){this.splitHalfDeltaChange.emit(e.detail.value)}onResetHalfDelta(){this.splitHalfDeltaReset.emit()}onLapTagChange(e){var g,I;let n=((I=(g=this.splitPlan)==null?void 0:g.lapTags)==null?void 0:I[e])??"flat",r=this.lapTagCycle.indexOf(n),d=this.lapTagCycle[(r+1)%this.lapTagCycle.length];this.splitLapTagChange.emit({lapIndex:e,tag:d})}onResetLapTags(){this.splitLapTagsReset.emit()}lapTagLabel(e){let n=this.lapTag(e);return n==="uphill"?"\u25B2 Hill":n==="downhill"?"\u25BC Hill":"Flat"}lapTag(e){var n,r;return((r=(n=this.splitPlan)==null?void 0:n.lapTags)==null?void 0:r[e])??"flat"}getRaceDistanceMeters(){var r;let e=((r=this.splits[this.splits.length-1])==null?void 0:r.totalDistance)??"",n=Number(e.replace(/[^0-9.]/g,""));return!Number.isFinite(n)||n<=0?0:e.includes("mi")?n*1609.344:e.includes("km")?n*1e3:e.includes("m")?n:0}};l.\u0275fac=function(n){return new(n||l)(Pe(le))},l.\u0275cmp=T({type:l,selectors:[["app-splits-panel"]],inputs:{highcharts:"highcharts",splitsChartReady:"splitsChartReady",splitsChartOptions:"splitsChartOptions",splitPlan:"splitPlan",splits:"splits"},outputs:{splitHalfDeltaChange:"splitHalfDeltaChange",splitHalfDeltaReset:"splitHalfDeltaReset",splitLapTagChange:"splitLapTagChange",splitLapTagsReset:"splitLapTagsReset"},decls:31,vars:5,consts:[[1,"mx-auto","max-w-5xl","px-2","pb-2","pt-1"],[1,"calc-surface-card","overflow-hidden"],[1,"planner-head-row"],[1,"text-xs","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],["type","button",1,"planner-toggle-btn",3,"click"],[1,"mx-auto","max-w-5xl","px-2","pb-4"],[1,"calc-table-shell","p-0"],[1,"calc-table-head","calc-divider-subtle","bg-[var(--calc-surface-1)]/95","sticky","top-0","z-20","border-b","px-2","py-1","backdrop-blur"],[1,"text-center"],[1,"flex","items-center","justify-center","gap-2"],[1,"px-2","pb-2","pt-1"],[1,"splits-row","items-center","py-0.5"],[1,"calc-shell-subtle","mb-2","px-3","py-2"],[1,"mt-2","text-xs","text-[var(--calc-text-muted)]"],[4,"ngIf"],[1,"mt-2","flex","items-center","justify-between"],[1,"text-sm","font-semibold"],["type","button","title","Reset to even splits",1,"reset-btn","subtle"],["mode","ios",1,"calc-range",3,"ionChange","ticks","snaps","disabled","min","max","step","value"],["slot","start"],["slot","end"],[1,"calc-warning-copy","mt-1","text-xs"],["type","button","title","Reset to even splits",1,"reset-btn","subtle",3,"click"],["name","refresh-outline"],[1,"flex","h-[280px]","items-center","justify-center"],["name","crescent",1,"text-center"],[2,"width","100%","height","280px","display","block",3,"Highcharts","options"],["type","button","title","Reset all lap efforts to flat",1,"reset-btn","subtle"],["type","button","title","Reset all lap efforts to flat",1,"reset-btn","subtle",3,"click"],[1,"text-center","text-sm"],["type","button",1,"lap-tag-btn","text-xs",3,"click","disabled"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p",3),s(5,"Splits Planner"),o()(),a(6,"button",4),m("click",function(){return r.togglePlanner()}),s(7),o()(),x(8,Bi,10,3,"ion-grid"),o()(),a(9,"div",5)(10,"ion-grid",6)(11,"ion-row",7)(12,"ion-col")(13,"p",8),s(14,"Lap"),o()(),a(15,"ion-col")(16,"p",8),s(17,"Distance"),o()(),a(18,"ion-col")(19,"p",8),s(20,"Pace"),o()(),x(21,Fi,4,1,"ion-col",9),a(22,"ion-col")(23,"p",8),s(24,"Time"),o()(),a(25,"ion-col")(26,"p",8),s(27,"Cumulative"),o()()(),a(28,"div",10),S(29,Li,17,6,"ion-row",11,q),o()()()),n&2&&(c(2),V("planner-head-row-collapsed",r.isPlannerCollapsed),c(5),y(" ",r.isPlannerCollapsed?"Show":"Hide"," "),c(),C(r.isPlannerCollapsed?-1:8),c(13),C(r.isStrategyAvailable?21:-1),c(8),M(r.splits))},dependencies:[E,je,ge,_e,j,F,Ze,fe,zt,jn,Hn],styles:[".calc-surface-card[_ngcontent-%COMP%]{padding:.5rem .1rem 0 .8rem}.calc-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--calc-text-muted);font-size:.75rem;font-weight:600}.planner-head-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.3rem .8rem .2rem}.planner-head-row-collapsed[_ngcontent-%COMP%]{padding-bottom:.55rem}.planner-toggle-btn[_ngcontent-%COMP%]{border-radius:9999px;border:1px solid var(--calc-border-strong);font-size:.75rem;font-weight:600;padding:.2rem .7rem}.reset-btn[_ngcontent-%COMP%]{align-items:center;border-radius:9999px;display:inline-flex;justify-content:center;padding:.15rem;font-size:.85rem}.reset-btn.subtle[_ngcontent-%COMP%]{background:var(--calc-surface-stripe);border:1px solid var(--calc-border-subtle);color:var(--calc-text-muted);transition:all .15s ease}.reset-btn.subtle[_ngcontent-%COMP%]:hover{background:var(--calc-info-bg);border-color:var(--calc-border-strong);color:var(--calc-accent)}.lap-tag-btn[_ngcontent-%COMP%]{align-items:center;border-radius:9999px;border:1px solid var(--calc-border-subtle);display:inline-flex;justify-content:center;min-width:4.6rem;padding:.2rem .55rem;font-weight:600}.lap-tag-btn[disabled][_ngcontent-%COMP%]{opacity:.5}.lap-tag-uphill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#ef4444 35%,transparent);color:#b91c1c}.lap-tag-downhill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#2563eb 35%,transparent);color:#1d4ed8}.dark[_nghost-%COMP%]   .lap-tag-uphill[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .lap-tag-uphill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#f87171 45%,transparent);color:#fca5a5}.dark[_nghost-%COMP%]   .lap-tag-downhill[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .lap-tag-downhill[_ngcontent-%COMP%]{border-color:color-mix(in oklab,#60a5fa 45%,transparent);color:#93c5fd}.splits-row[_ngcontent-%COMP%]:nth-child(odd){background:var(--calc-surface-stripe);border-radius:.75rem}"]});let i=l;return i})();var Ct=(i,l)=>l.type;function $i(i,l){if(i&1){let t=v();a(0,"tr",10)(1,"td",11)(2,"button",12),m("click",function(){let n=u(t).$implicit,r=p(2);return h(r.openTypeInfo.emit(n.type))}),s(3),o()(),a(4,"td",13),s(5),o(),a(6,"td",13),s(7),o()()}if(i&2){let t=l.$implicit,e=p(2);c(3),y(" ",t.label," "),c(2),y(" ",e.formatCell(t.pacePerMi)," "),c(2),y(" ",e.formatCell(t.pacePerKm)," ")}}function Hi(i,l){if(i&1&&(a(0,"div",6)(1,"table",7)(2,"thead",8)(3,"tr")(4,"th",9),s(5,"Type"),o(),a(6,"th",9),s(7,"1 Mi"),o(),a(8,"th",9),s(9,"1 Km"),o()()(),a(10,"tbody"),S(11,$i,8,3,"tr",10,Ct),o()()()),i&2){let t=p();c(11),M(t.trainingRows)}}function ji(i,l){if(i&1&&(a(0,"th",9),s(1),o()),i&2){let t=l.$implicit;c(),b(t)}}function Ni(i,l){if(i&1&&(a(0,"td",13),s(1),o()),i&2){let t=l.$implicit,e=p().$implicit;c(),b(e.times[t])}}function Wi(i,l){if(i&1){let t=v();a(0,"tr",10)(1,"td",11)(2,"button",12),m("click",function(){let n=u(t).$implicit,r=p(2);return h(r.openTypeInfo.emit(n.type))}),s(3),o()(),S(4,Ni,2,1,"td",13,Se),o()}if(i&2){let t=l.$implicit,e=p(2);c(3),y(" ",t.label," "),c(),M(e.primaryHeaders)}}function zi(i,l){if(i&1&&(a(0,"th",9),s(1),o()),i&2){let t=l.$implicit;c(),b(t)}}function Ki(i,l){if(i&1&&(a(0,"td",13),s(1),o()),i&2){let t=l.$implicit,e=p().$implicit;c(),b(e.times[t])}}function Ui(i,l){if(i&1){let t=v();a(0,"tr",10)(1,"td",11)(2,"button",12),m("click",function(){let n=u(t).$implicit,r=p(2);return h(r.openTypeInfo.emit(n.type))}),s(3),o()(),S(4,Ki,2,1,"td",13,Se),o()}if(i&2){let t=l.$implicit,e=p(2);c(3),y(" ",t.label," "),c(),M(e.secondaryHeaders)}}function Gi(i,l){if(i&1&&(a(0,"div",14)(1,"table",7)(2,"thead",8)(3,"tr")(4,"th",9),s(5,"Type"),o(),S(6,ji,2,1,"th",9,Se),o()(),a(8,"tbody"),S(9,Wi,6,1,"tr",10,Ct),o()()(),a(11,"div",14)(12,"table",7)(13,"thead",8)(14,"tr")(15,"th",9),s(16,"Type"),o(),S(17,zi,2,1,"th",9,Se),o()(),a(19,"tbody"),S(20,Ui,6,1,"tr",10,Ct),o()()()),i&2){let t=p();c(6),M(t.primaryHeaders),c(3),M(t.repRowsPrimary),c(8),M(t.secondaryHeaders),c(3),M(t.repRowsSecondary)}}var Wn=(()=>{let l=class l{constructor(){this.tableMode="road",this.trainingRows=[],this.repRowsPrimary=[],this.repRowsSecondary=[],this.openTypeInfo=new O,this.primaryHeaders=["1200m","800m","600m"],this.secondaryHeaders=["400m","300m","200m"]}formatCell(e){return typeof e=="string"?e:`${e.min} ~ ${e.max}`}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-training-paces-panel"]],inputs:{tableMode:"tableMode",trainingRows:"trainingRows",repRowsPrimary:"repRowsPrimary",repRowsSecondary:"repRowsSecondary"},outputs:{openTypeInfo:"openTypeInfo"},decls:10,vars:2,consts:[[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"calc-surface-card","p-4"],[1,"mb-3"],[1,"flex","items-center","justify-between","gap-3"],[1,"text-sm","font-bold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"mt-2","text-xs","text-[var(--calc-text-muted)]"],[1,"calc-shell-subtle","overflow-hidden","rounded-xl"],[1,"w-full","text-sm"],[1,"bg-[var(--calc-surface-2)]","text-[var(--calc-text-muted)]"],[1,"px-3","py-2","text-left","text-xs","font-semibold","uppercase","tracking-[0.08em]"],[1,"calc-divider-subtle","border-t"],[1,"px-3","py-2"],["type","button",1,"result-link",3,"click"],[1,"px-3","py-2","font-semibold","text-[var(--calc-text-strong)]"],[1,"calc-shell-subtle","mt-4","overflow-hidden","rounded-xl"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),s(5,"Paces"),o()(),a(6,"p",5),s(7,"Tap on each pace type to learn more"),o()(),x(8,Hi,13,0,"div",6)(9,Gi,22,0),o()()),n&2&&(c(8),C(r.tableMode==="road"?8:-1),c(),C(r.tableMode==="track"?9:-1))},dependencies:[E],styles:[".result-link[_ngcontent-%COMP%]{min-height:26px;display:inline-flex;justify-content:center;align-items:center;font-size:.75rem;font-weight:600;color:var(--calc-text-strong);background:color-mix(in oklab,var(--calc-surface-2) 68%,var(--calc-surface-1));border:1px solid var(--calc-border-strong);border-radius:9999px;padding:0 .6rem;white-space:nowrap;transition:transform var(--calc-motion-fast) var(--calc-motion-ease),background-color var(--calc-motion-fast) var(--calc-motion-ease)}.result-link[_ngcontent-%COMP%]:active{transform:scale(.96);background:color-mix(in oklab,var(--calc-surface-3) 88%,var(--calc-surface-2))}"]});let i=l;return i})();var zn={easy:{title:"Easy Pace",variety:"Easy pace running refers to warm-ups, cool-downs, recovery runs, recovery running within a workout, and generally long runs.",intensity:"Generally in the range of 59-74% VO2max or 65-79% of LTHR effort. This is a comfortable conversational pace that may vary by heat, terrain, and fatigue.",purpose:"Builds aerobic base and durability so higher-intensity training can be absorbed. Supports recovery while adding useful low-stress volume.",sampleWorkout:"30-45 minutes easy, or easy long run with relaxed finish."},marathon:{title:"Marathon Pace",variety:"Used in sustained marathon-specific tempo runs and long runs with marathon-effort blocks.",intensity:"Steady and controlled effort, typically around 75-84% VO2max for well-trained runners. Feels strong but sustainable for a long duration.",purpose:"Improves fuel efficiency, rhythm, and muscular endurance needed for long race pacing without crossing threshold effort.",sampleWorkout:"2 x 20 minutes at marathon pace with 5 minutes easy between blocks."},threshold:{title:"Threshold Pace",variety:"Used for tempo runs and cruise intervals where recovery is short and rhythm remains controlled.",intensity:"Comfortably hard effort close to one-hour race pace. Speech is limited to short phrases and breathing is deep but controlled.",purpose:"Raises lactate threshold so a faster pace can be sustained aerobically for longer race efforts.",sampleWorkout:"4 x 8 minutes at threshold pace with 2 minutes easy jog recoveries."},interval:{title:"Interval Pace",variety:"VO2max-focused repeats of roughly 3-5 minutes with equal or slightly shorter recoveries.",intensity:"Hard effort near VO2max. Breathing is heavy and the final reps are challenging while still keeping split consistency.",purpose:"Improves oxygen uptake and aerobic power so race pace feels more economical.",sampleWorkout:"5 x 1000m at interval pace with 2:30-3:00 jog recovery."},repetition:{title:"Repetition Pace",variety:"Short fast reps with full recovery, often on track, focused on quality over fatigue.",intensity:"Very hard but not all-out. Reps should feel smooth and precise with complete reset before the next repeat.",purpose:"Develops running economy, mechanics, and neuromuscular speed without deep metabolic stress.",sampleWorkout:"8 x 200m at repetition pace with full walk/jog recovery."},fastReps:{title:"Fast Reps",variety:"Very short repetition work used for top-end turnover and sharpeners near race phases.",intensity:"Fast, relaxed, and technically clean. Effort is high, but total session stress stays controlled through long recoveries.",purpose:"Improves leg speed, coordination, and running economy at high cadence.",sampleWorkout:"10 x 200m fast reps with full recovery and smooth form focus."}};var Kn=(()=>{let l=class l{constructor(){this.modalCtrl=B(U),N({arrowBackOutline:X})}dismiss(){this.modalCtrl.dismiss()}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-training-pace-info-modal"]],inputs:{typeInfo:"typeInfo"},decls:28,vars:5,consts:[[1,"safe-area-inline","safe-area-bottom","heat-adjustment-sheet-content","px-2","pb-2","pt-3"],["mode","md",1,"focus-summary-item","mb-3"],["aria-label","Back","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"text-xl"],[1,"calc-surface-card","mb-5","flex","max-h-[75vh]","flex-col","gap-5","overflow-y-auto","px-4","py-4"],[1,"text-primary","mb-1","text-xs","font-bold","uppercase","tracking-wider"],[1,"text-[15px]","leading-relaxed","text-[var(--calc-text-strong)]"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"ion-item",1)(2,"ion-button",2),m("click",function(){return r.dismiss()}),f(3,"ion-icon",3),o(),a(4,"ion-label")(5,"span",4),s(6),o()()(),a(7,"div",5)(8,"div")(9,"div",6),s(10,"Variety"),o(),a(11,"div",7),s(12),o()(),a(13,"div")(14,"div",6),s(15,"Intensity"),o(),a(16,"div",7),s(17),o()(),a(18,"div")(19,"div",6),s(20,"Purpose"),o(),a(21,"div",7),s(22),o()(),a(23,"div")(24,"div",6),s(25,"Sample Workout"),o(),a(26,"div",7),s(27),o()()()()),n&2&&(c(6),b(r.typeInfo.title||"Training Pace"),c(6),b(r.typeInfo.variety),c(5),b(r.typeInfo.intensity),c(5),b(r.typeInfo.purpose),c(5),b(r.typeInfo.sampleWorkout))},dependencies:[E,K,Q,F,j],encapsulation:2});let i=l;return i})();N({arrowBackOutline:X,openOutline:rn});var Un=(()=>{let l=class l{constructor(){this.modalCtrl=B(U)}dismiss(){this.modalCtrl.dismiss()}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-lthr-info-modal"]],decls:32,vars:0,consts:[[1,"safe-area-inline","safe-area-bottom","heat-adjustment-sheet-content","px-2","pb-2","pt-3"],["mode","md",1,"focus-summary-item","mb-3"],["aria-label","Back","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"text-xl"],[1,"calc-surface-card","mb-5","flex","max-h-[75vh]","flex-col","gap-5","overflow-y-auto","px-4","py-4"],[1,"text-primary","mb-1","text-xs","font-bold","uppercase","tracking-wider"],[1,"text-[15px]","leading-relaxed","text-[var(--calc-text-strong)]"],[1,"pt-2"],["href","https://www.runnersworld.com/uk/training/a41865710/lactate-threshold/","target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","gap-1.5","text-[var(--calc-accent)]","hover:underline"],["name","open-outline",1,"text-sm"]],template:function(n,r){n&1&&(a(0,"div",0)(1,"ion-item",1)(2,"ion-button",2),m("click",function(){return r.dismiss()}),f(3,"ion-icon",3),o(),a(4,"ion-label")(5,"span",4),s(6,"How to use this"),o()()(),a(7,"div",5)(8,"div")(9,"div",6),s(10,"What is LTHR?"),o(),a(11,"div",7),s(12," Lactate Threshold Heart Rate (LTHR) is the heart rate at which lactate begins to accumulate rapidly in your blood. Training at or near this threshold improves your body's ability to sustain faster paces for longer periods. "),o()(),a(13,"div")(14,"div",6),s(15,"How to find your LTHR"),o(),a(16,"div",7),s(17," The most accurate method is a lab test with blood lactate analysis. Alternatively, you can estimate it by running a 30-minute time trial all-out, then use your average heart rate from the last 20 minutes as your LTHR. Many modern running watches can also estimate this value. "),o()(),a(18,"div")(19,"div",6),s(20,"Benefits of LTHR training"),o(),a(21,"div",7),s(22," Training at threshold intensity raises your lactate threshold, allowing you to run faster before fatigue sets in. This is one of the most effective ways to improve race times from 5K to marathon distances. "),o()(),a(23,"div")(24,"div",6),s(25,"Using heart rate zones"),o(),a(26,"div",7),s(27," Enter your LTHR in bpm to see personalized heart rate zones. These zones help you train at the right intensity \u2014 easy runs stay aerobic (Z1-Z2), tempo runs target threshold (Z3-Z4), and intervals push into VO2max (Z5b) and anaerobic (Z5c) zones. "),o()(),a(28,"div",8)(29,"a",9),s(30," Learn more about lactate threshold training "),f(31,"ion-icon",10),o()()()())},dependencies:[E,K,Q,F,j],encapsulation:2});let i=l;return i})();var qi=ti(ni(),1);var Zi=(i,l,t,e,n,r)=>({focusId:i,paceType:l,distance:t,distanceType:e,time:n,pace:r}),Qi=(i,l,t,e,n,r,d,g,I)=>({inputType:i,distance:l,pace:t,time:e,distanceType:n,paceType:r,lockType:d,isInputCollapsed:g,focusId:I}),Yi=i=>({paceType:i}),Ji=(i,l,t,e)=>({splitsChartReady:i,splitsChartOptions:l,splitPlan:t,splits:e}),Xi=()=>[],vt=i=>({"input-metric-card-active":i}),Gn=i=>({"metric-highlight":i}),yt=i=>({"fixed-metric-chip-active":i}),ea=(i,l)=>l.id;function ta(i,l){if(i&1){let t=v();a(0,"div",11)(1,"div"),s(2," Pace adjusted for heat at "),a(3,"span",28),s(4),o()(),a(5,"button",29),m("click",function(){u(t);let n=p();return h(n.clearHeatAdjustment())}),f(6,"ion-icon",30),o()()}if(i&2){let t=p();c(4),oe(" ",t.heatAdjustment().temperature+"\xB0"+t.heatAdjustment().temperatureType.toUpperCase()," & ",t.heatAdjustment().dewPoint+"\xB0"+t.heatAdjustment().temperatureType.toUpperCase()," dewpoint ")}}function na(i,l){if(i&1){let t=v();a(0,"article",31)(1,"div",32)(2,"div")(3,"button",33),m("click",function(){u(t);let n=p().$implicit,r=p();return h(r.setDistance(n.distanceInMeters))}),s(4),o()(),a(5,"div")(6,"p",34),s(7),o()(),a(8,"div")(9,"p",34),s(10),o()(),a(11,"ion-button",35),m("click",function(){u(t);let n=p().$implicit,r=p();return h(r.setFocus(n.id))}),f(12,"ion-icon",36),o()()()}if(i&2){let t=l,e=p().$implicit,n=p();c(3),ue("aria-label","Use "+e.type+" distance"),c(),y(" ",e.type," "),c(2),V("flash-highlight",n.highlightResults()),c(),b(e.time),c(2),V("flash-highlight",n.highlightResults()),c(),oe(" ",e.pace," ","/"+(t.paceType==="m400"?"400m":t.paceType)," "),c(),ue("aria-label","View details for "+e.type)}}function ia(i,l){if(i&1&&(x(0,na,13,10,"article",31),k(1,"async")),i&2){let t,e=p();C((t=z(3,Yi,w(1,1,e.paceType$)))?0:-1,t)}}function aa(i,l){if(i&1){let t=v();a(0,"app-splits-panel",41),m("splitHalfDeltaChange",function(n){u(t);let r=p(3);return h(r.handleSplitHalfDeltaChange(n))})("splitHalfDeltaReset",function(){u(t);let n=p(3);return h(n.handleSplitHalfDeltaReset())})("splitLapTagChange",function(n){u(t);let r=p(3);return h(r.handleSplitLapTagChange(n))})("splitLapTagsReset",function(){u(t);let n=p(3);return h(n.handleSplitLapTagsReset())}),o()}if(i&2){let t=l,e=p(3);_("highcharts",e.highcharts)("splitsChartReady",!!t.splitsChartReady)("splitsChartOptions",t.splitsChartOptions)("splitPlan",t.splitPlan)("splits",t.splits||Vt(5,Xi))}}function oa(i,l){if(i&1&&(x(0,aa,1,6,"app-splits-panel",40),k(1,"async"),k(2,"async"),k(3,"async"),k(4,"async")),i&2){let t,e=p(2);C((t=Bt(9,Ji,w(1,1,e.splitsChartReady$),w(2,3,e.splitsChartOptions$),w(3,5,e.splitPlan$),w(4,7,e.splits$)))?0:-1,t)}}function ra(i,l){if(i&1){let t=v();a(0,"app-training-paces-panel",42),m("openTypeInfo",function(n){u(t);let r=p(2);return h(r.openTrainingTypeInfo(n))}),o()}if(i&2){let t=p(2);_("tableMode",t.trainingTableMode())("trainingRows",t.trainingRows())("repRowsPrimary",t.repRowsPrimary())("repRowsSecondary",t.repRowsSecondary())}}function la(i,l){if(i&1){let t=v();a(0,"app-lthr-panel",43),m("lthrBpmChange",function(n){u(t);let r=p(2);return h(r.onLthrBpmChange(n))})("openInfo",function(){u(t);let n=p(2);return h(n.openLthrInfo())}),o()}if(i&2){let t=p(2);_("lthrSummary",t.lthrSummary())("lthrBpm",t.lthrBpm())}}function sa(i,l){if(i&1){let t=v();a(0,"app-blocks-panel",44),m("navigateToTab",function(n){u(t);let r=p(2);return h(r.onFocusTabChange(n))}),o()}if(i&2){let t,e=p(2);_("distanceMeters",((t=e.goalPerformance())==null?null:t.distanceMeters)||0)("distanceType",e.distanceType())("focusId",e.focusId())}}function ca(i,l){if(i&1&&x(0,oa,5,14)(1,ra,1,4,"app-training-paces-panel",37)(2,la,1,2,"app-lthr-panel",38)(3,sa,1,3,"app-blocks-panel",39),i&2){let t=p();C(t.activeFocusTab()==="splits"?0:-1),c(),C(t.activeFocusTab()==="training"?1:-1),c(),C(t.activeFocusTab()==="lthr"?2:-1),c(),C(t.activeFocusTab()==="blocks"?3:-1)}}function pa(i,l){if(i&1){let t=v();a(0,"div",15)(1,"div",45)(2,"app-focused-performance-tabs",46),m("activeTabChange",function(n){u(t);let r=p();return h(r.onFocusTabChange(n))}),o()()()}if(i&2){let t=p();c(2),_("activeTab",t.activeFocusTab())}}function da(i,l){if(i&1&&(a(0,"ion-label")(1,"p",51),s(2),o(),a(3,"h1",52),s(4),o(),a(5,"p",53),s(6),o()()),i&2){let t=p(),e=p(2);c(2),y(" ",t[e.focusId].type," "),c(2),b(t[e.focusId].time),c(2),oe(" ",t[e.focusId].pace,"","/"+(e.paceType==="m400"?"400m":e.paceType)," ")}}function ma(i,l){if(i&1&&(a(0,"ion-label")(1,"p",51),s(2),o(),a(3,"h1",52),s(4),o(),a(5,"p",53),s(6),o()()),i&2){let t=p(3);c(2),oe(" ",t.distance,"",t.distanceType," "),c(2),b(t.time),c(2),oe(" ",t.pace,"","/"+(t.paceType==="m400"?"400m":t.paceType)," ")}}function ua(i,l){if(i&1){let t=v();a(0,"ion-item",58),m("click",function(){let n=u(t).$implicit;p(2);let r=$e(3),d=p(4);return r.dismiss(),h(d.useSplitsTool(n.command))}),a(1,"ion-label"),s(2),o()()}if(i&2){let t=l.$implicit;c(2),b(t.label)}}function ha(i,l){if(i&1&&(a(0,"ion-list",56),S(1,ua,3,1,"ion-item",57,q),o()),i&2){let t=p(5);c(),M(t.splitsToolsMap)}}function ga(i,l){i&1&&(a(0,"button",54),s(1," Split By "),o(),a(2,"ion-popover",55,0),x(4,ha,3,0,"ng-template"),o())}function _a(i,l){if(i&1){let t=v();a(0,"ion-segment",59),m("ionChange",function(n){u(t);let r=p(4);return h(r.onModeChange(n))}),a(1,"ion-segment-button",60)(2,"ion-label"),s(3,"Road"),o()(),a(4,"ion-segment-button",61)(5,"ion-label"),s(6,"Track"),o()()()}if(i&2){let t=p(4);_("value",t.trainingTableMode())}}function fa(i,l){if(i&1){let t=v();a(0,"ion-item",47)(1,"ion-button",48),m("click",function(){u(t);let n=p(3);return h(n.setFocus(null))}),f(2,"ion-icon",49),o(),x(3,da,7,4,"ion-label")(4,ma,7,5,"ion-label")(5,ga,5,0)(6,_a,7,1,"ion-segment",50),o()}if(i&2){let t=p(2),e=p();c(3),C(t.focusId!==-1&&t.focusId!==null?3:4),c(2),C(e.activeFocusTab()==="splits"?5:-1),c(),C(e.activeFocusTab()==="training"?6:-1)}}function xa(i,l){if(i&1&&(x(0,fa,7,3,"ion-item",47),k(1,"async")),i&2){let t,e=p(2);C((t=w(1,1,e.results$))?0:-1,t)}}function ba(i,l){i&1&&x(0,xa,2,3),i&2&&C(l.focusId!==null?0:-1)}function Ca(i,l){if(i&1){let t=v();a(0,"div",62)(1,"div",73)(2,"button",74),m("click",function(n){u(t);let r=p(2);return h(r.onLockTypeChange(n,"distance"))}),f(3,"ion-icon",75),s(4," Pin Distance "),o(),a(5,"button",76),m("click",function(n){u(t);let r=p(2);return h(r.onLockTypeChange(n,"time"))}),f(6,"ion-icon",75),s(7," Pin Time "),o(),a(8,"button",77),m("click",function(n){u(t);let r=p(2);return h(r.onLockTypeChange(n,"pace"))}),f(9,"ion-icon",75),s(10," Pin Pace "),o()()()}if(i&2){let t=p();c(2),_("ngClass",z(3,yt,t.lockType==="distance")),c(3),_("ngClass",z(5,yt,t.lockType==="time")),c(3),_("ngClass",z(7,yt,t.lockType==="pace"))}}function va(i,l){if(i&1){let t=v();x(0,Ca,11,9,"div",62),a(1,"div",63)(2,"button",64),m("click",function(){u(t);let n=p();return h(n.onInputTypeChange("distance"))}),a(3,"ion-label",65),s(4),o(),a(5,"div",66)(6,"p",67),s(7),o(),a(8,"p",68),s(9),o()()(),a(10,"button",69),m("click",function(){u(t);let n=p();return h(n.onInputTypeChange("time"))}),a(11,"ion-label",65),s(12),o(),a(13,"div",66)(14,"p",70),s(15),o()()(),a(16,"button",71),m("click",function(){u(t);let n=p();return h(n.onInputTypeChange("pace"))}),a(17,"ion-label",65),s(18),o(),a(19,"div",66)(20,"p",70),s(21),o(),a(22,"p",72),s(23),o()()()()}if(i&2){let t=l,e=p();C(e.isKeyboardShowing()&&t.focusId===null&&!t.isInputCollapsed?0:-1),c(),V("hidden",t.isInputCollapsed||t.focusId!==null),c(),_("ngClass",z(16,vt,t.inputType==="distance")),c(2),y(" ",t.inputType==="distance"&&e.isKeyboardShowing()?"Enter ":"","Distance "),c(2),_("ngClass",z(18,Gn,e.highlightDistance())),c(),y(" ",t.distance||"0"," "),c(),_("ngClass",z(20,Gn,e.highlightDistance())),c(),b(t.distanceType),c(),_("ngClass",z(22,vt,t.inputType==="time")),c(2),y(" ",t.inputType==="time"&&e.isKeyboardShowing()?"Enter ":"","Time "),c(3),b(t.time||"00:00:00"),c(),_("ngClass",z(24,vt,t.inputType==="pace")),c(2),y(" ",t.inputType==="pace"&&e.isKeyboardShowing()?"Enter ":"","Pace "),c(3),b(t.pace||"00:00"),c(2),b("/"+(t.paceType==="m400"?"400m":t.paceType))}}function ya(i,l){if(i&1){let t=v();a(0,"ion-col",78)(1,"app-calculator-input",88),m("inputChange",function(n){u(t);let r=p(2);return h(r.onAdjustmentChange(n))}),o()()}i&2&&(c(),_("buttonRows",l))}function ka(i,l){if(i&1){let t=v();a(0,"ion-item",58),m("click",function(){let n=u(t).$implicit;p(2);let r=$e(12),d=p();return r.dismiss(),h(d.useDistanceTool(n.command))}),a(1,"ion-label"),s(2),o()()}if(i&2){let t=l.$implicit;c(2),b(t.label)}}function wa(i,l){if(i&1&&(a(0,"ion-list",56),S(1,ka,3,1,"ion-item",57,q),o()),i&2){let t=p(2);c(),M(t.distanceToolsMap)}}function Ta(i,l){if(i&1){let t=v();a(0,"ion-item",58),m("click",function(){let n=u(t).$implicit;p(2);let r=$e(17),d=p();return r.dismiss(),h(d.usePaceTool(n.command))}),a(1,"ion-label"),s(2),o()()}if(i&2){let t=l.$implicit;c(2),b(t.label)}}function Pa(i,l){if(i&1&&(a(0,"ion-list",56),S(1,Ta,3,1,"ion-item",57,q),o()),i&2){let t=p(2);c(),M(t.paceToolsMap)}}function Sa(i,l){if(i&1){let t=v();a(0,"ion-row",17),x(1,ya,2,1,"ion-col",78),k(2,"async"),a(3,"ion-col",79)(4,"app-calculator-input",80),m("clear",function(){u(t);let n=p();return h(n.onClearInput())})("inputChange",function(n){u(t);let r=p();return h(r.onInputChange(n))}),o()(),a(5,"ion-col",81)(6,"div",82)(7,"ion-button",83),m("click",function(){u(t);let n=p();return h(n.viewDetails())}),f(8,"ion-icon",36),o(),a(9,"button",84),s(10," Distance Tools "),o(),a(11,"ion-popover",85,1),x(13,wa,3,0,"ng-template"),o(),a(14,"button",86),s(15," Pace Tools "),o(),a(16,"ion-popover",87,2),x(18,Pa,3,0,"ng-template"),o()()()()}if(i&2){let t,e=p();c(),C((t=w(2,2,e.adjustmentButtons$))?1:-1,t),c(3),_("buttonRows",e.inputButtons)}}var gl=(()=>{let l=class l{onModeChange(e){this.onTrainingTableModeChange(e.detail.value)}constructor(){this.store=B(le),this.modalCtrl=B(U),this.darkModeMediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.lightThemeColor="#c8daf3",this.darkThemeColor="#0f172a",this.systemThemeListener=e=>{this.appTheme()==="system"&&this.applyTheme(this.appTheme(),e.matches,this.appAccent())},this.highcharts=qi,this.paceToolsMap=mn,this.distanceToolsMap=un,this.splitsToolsMap=hn,this.trainingTypeInfo=zn,this.activeFocusTab=D("splits"),this.trainingTableMode=D("road"),this.lthrBpm=D(""),this.highlightDistance=D(!1),this.highlightResults=D(!1),this.distance$=this.store.select(gt),this.distanceType$=this.store.select(_t),this.time$=this.store.select(ft),this.pace$=this.store.select(bn),this.paceType$=this.store.select(Cn),this.results$=this.store.select(bt),this.lockType$=this.store.select(vn),this.inputType$=this.store.select(yn),this.focusId$=this.store.select(xt),this.adjustmentButtons$=this.store.select(kn),this.splits$=this.store.select(wn),this.splitDistanceBy$=this.store.select(Tn),this.isInputCollapsed$=this.store.select(Pn),this.splitsChartOptions$=this.store.select(Sn),this.splitsChartReady$=this.store.select(Mn),this.splitPlan$=this.store.select(In),this.isKeyboardShowing=this.store.selectSignal(En),this.appTheme=this.store.selectSignal(tt),this.appAccent=this.store.selectSignal(nt),this.overallCalculationMode=this.store.selectSignal(On),this.heatAdjustment=this.store.selectSignal(it),this.focusId=this.store.selectSignal(xt),this.results=this.store.selectSignal(bt),this.distance=this.store.selectSignal(gt),this.distanceType=this.store.selectSignal(_t),this.time=this.store.selectSignal(ft),this.themeEffect=At(()=>{let e=this.appTheme(),n=this.appAccent();this.applyTheme(e,this.darkModeMediaQuery.matches,n)}),this.goalPerformance=re(()=>{let e=this.focusId();if(e===null)return null;if(e>=0){let d=this.results().find(g=>g.id===e);return d?{distanceMeters:d.distanceInMeters,timeSeconds:ht(d.time)}:null}let n=Number(this.distance());return{distanceMeters:this.distanceType()==="km"?n*1e3:n*1609.344,timeSeconds:ht(this.time())}}),this.trainingPaces=re(()=>{let e=this.goalPerformance();return!e||!e.timeSeconds?null:_n(e.distanceMeters,e.timeSeconds)}),this.trainingRepTables=re(()=>{let e=this.trainingPaces();return e?fn(e):null}),this.trainingRows=re(()=>{let e=this.trainingPaces();if(!e)return[];let n=r=>r*1.60934;return[{type:"easy",label:"Easy",pacePerKm:{min:$(e.easy.min),max:$(e.easy.max)},pacePerMi:{min:$(n(e.easy.min)),max:$(n(e.easy.max))}},{type:"marathon",label:"Marathon",pacePerKm:$(e.marathon),pacePerMi:$(n(e.marathon))},{type:"threshold",label:"Threshold",pacePerKm:$(e.threshold),pacePerMi:$(n(e.threshold))},{type:"interval",label:"Interval",pacePerKm:$(e.interval),pacePerMi:$(n(e.interval))},{type:"repetition",label:"Repetition",pacePerKm:$(e.repetition),pacePerMi:$(n(e.repetition))}]}),this.repRowsPrimary=re(()=>{let e=this.trainingRepTables();return e?[{type:"threshold",label:"Threshold",times:{"1200m":e.primary.threshold["1200m"],"800m":e.primary.threshold["800m"],"600m":e.primary.threshold["600m"],"400m":null,"300m":null,"200m":null}},{type:"interval",label:"Interval",times:{"1200m":e.primary.interval["1200m"],"800m":e.primary.interval["800m"],"600m":e.primary.interval["600m"],"400m":null,"300m":null,"200m":null}},{type:"repetition",label:"Repetition",times:{"1200m":e.primary.repetition["1200m"],"800m":e.primary.repetition["800m"],"600m":e.primary.repetition["600m"],"400m":null,"300m":null,"200m":null}}]:[]}),this.repRowsSecondary=re(()=>{let e=this.trainingRepTables();return e?[{type:"interval",label:"Interval",times:{"1200m":null,"800m":null,"600m":null,"400m":e.secondary.interval["400m"],"300m":e.secondary.interval["300m"],"200m":e.secondary.interval["200m"]}},{type:"repetition",label:"Repetition",times:{"1200m":null,"800m":null,"600m":null,"400m":e.secondary.repetition["400m"],"300m":e.secondary.repetition["300m"],"200m":e.secondary.repetition["200m"]}},{type:"fastReps",label:"Fast Reps",times:{"1200m":null,"800m":null,"600m":null,"400m":e.secondary.fastReps["400m"],"300m":e.secondary.fastReps["300m"],"200m":e.secondary.fastReps["200m"]}}]:[]}),this.lthrSummary=re(()=>{let e=this.trainingPaces();if(!e)return null;let n=$(e.threshold),r=$(e.threshold*1.60934),d=xn(Number(this.lthrBpm()));return{thresholdPacePerKm:n,thresholdPacePerMi:r,hasLthrBpm:!!d,zones:d||void 0}}),this.inputButtons=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","C"]],N({arrowForward:qt,chevronCollapseOutline:Yt,heart:Ye,calculator:Qt,calculatorOutline:Qe,lockOpenOutline:an,lockClosed:nn,pin:ln,pinOutline:Xe,hammerOutline:tn,arrowBackOutline:X,chevronForwardOutline:Jt,informationCircleOutline:Je,closeCircleOutline:Xt,"keyboard-hide":"assets/keyboard_hide.svg","keyboard-show":"assets/keyboard_show.svg"})}async ngOnInit(){this.handleColorSchemeChange();let{value:e}=await ce.get({key:"LTHR_BPM"});e&&this.lthrBpm.set(e)}ngOnDestroy(){this.darkModeMediaQuery.removeEventListener("change",this.systemThemeListener)}async ionViewDidEnter(){await this.checkFirstInstall()}async checkFirstInstall(){let{value:e}=await ce.get({key:Ee});e!=="true"&&await(await this.modalCtrl.create({component:ot,backdropDismiss:!1})).present()}handleColorSchemeChange(){this.darkModeMediaQuery.addEventListener("change",this.systemThemeListener)}applyTheme(e,n,r){let d=e==="dark"||e==="system"&&n,g=document.documentElement;g.dataset.theme=e,g.classList.toggle("dark",d),g.classList.toggle("ion-palette-dark",d),this.applyAccent(r,d),this.updateThemeColorMeta(d),this.store.dispatch(P.changeTheme({isDarkMode:d}))}updateThemeColorMeta(e){let n=document.documentElement,g=getComputedStyle(n).getPropertyValue("--calc-surface-0").trim()||(e?this.darkThemeColor:this.lightThemeColor),I=document.querySelector('meta[name="theme-color"]');I&&I.setAttribute("content",g)}applyAccent(e,n){let r=dn(e),d=document.documentElement,g=n?r.dark:r.light;d.style.setProperty("--calc-accent",g.accent),d.style.setProperty("--calc-accent-strong",g.accentStrong),d.style.setProperty("--calc-link",g.accentStrong),d.style.setProperty("--calc-surface-0",g.surface0),d.style.setProperty("--calc-surface-1",g.surface1),d.style.setProperty("--calc-surface-2",g.surface2),d.style.setProperty("--calc-surface-3",g.surface3)}trackById(e,n){return n.id}setFocus(e){var n,r;try{(r=(n=this.ionContent)==null?void 0:n.nativeElement)==null||r.scrollToTop()}catch{}e!==null&&(this.activeFocusTab.set("splits"),this.trainingTableMode.set("road")),this.store.dispatch(P.setFocus({focusId:e}))}setDistance(e){this.highlightDistance.set(!0),setTimeout(()=>{this.highlightDistance.set(!1)},200),this.store.dispatch(P.setDistance({distanceInMeters:e}))}onLockTypeChange(e,n){this.store.dispatch(P.changeLockType({lockType:n})),e.stopPropagation()}onAdjustmentChange(e){this.store.dispatch(P.adjustmentChanged({adjustment:e}))}onInputTypeChange(e){this.isKeyboardShowing()&&this.store.dispatch(P.changeInputType({inputType:e}))}onInputChange(e){this.store.dispatch(P.inputChanged({input:e}))}onClearInput(){this.store.dispatch(P.clearInput())}useDistanceTool(e){this.store.dispatch(P.useDistanceTool({command:e}))}async usePaceTool(e){if(e==="heatAdjust"){let n=await this.modalCtrl.create({component:Dn,cssClass:"heat-adjustment-sheet",handle:!0,initialBreakpoint:1,breakpoints:[0,1]});await n.present();let{data:r}=await n.onDidDismiss();r&&this.store.dispatch(P.applyHeatAdjustment({payload:{temperature:r.temperature,dewPoint:r.dewPoint,temperatureType:r.temperatureType}}))}else this.store.dispatch(P.usePaceTool({command:e}))}clearHeatAdjustment(){this.store.dispatch(P.applyHeatAdjustment({payload:{temperature:"",dewPoint:"",temperatureType:this.heatAdjustment().temperatureType}}))}useSplitsTool(e){this.store.dispatch(P.useSplitsTool({command:e}))}viewDetails(){this.setFocus(-1)}handleSplitHalfDeltaChange(e){this.store.dispatch(P.setSplitHalfDelta({seconds:e}))}handleSplitHalfDeltaReset(){this.store.dispatch(P.resetSplitHalfDelta())}handleSplitLapTagChange(e){this.store.dispatch(P.setSplitLapTag(e))}handleSplitLapTagsReset(){this.store.dispatch(P.resetLapTags())}onCalculationModeChange(e){this.store.dispatch(P.setOverallCalculationMode({mode:e.detail.value==="useRacePredictor"?"race":"pace"})),this.highlightResults.set(!1),setTimeout(()=>{this.highlightResults.set(!0),setTimeout(()=>{this.highlightResults.set(!1)},500)},10)}onFocusTabChange(e){this.activeFocusTab.set(e)}onTrainingTableModeChange(e){this.trainingTableMode.set(e)}onLthrBpmChange(e){this.lthrBpm.set(e),ce.set({key:"LTHR_BPM",value:e})}async openTrainingTypeInfo(e){let n=this.trainingTypeInfo[e];if(!n)return;await(await this.modalCtrl.create({component:Kn,componentProps:{typeInfo:n},cssClass:"heat-adjustment-sheet",handle:!0,initialBreakpoint:1,breakpoints:[0,1]})).present()}async openLthrInfo(){await(await this.modalCtrl.create({component:Un,cssClass:"heat-adjustment-sheet",handle:!0,initialBreakpoint:1,breakpoints:[0,1]})).present()}toggleKeyboard(){this.store.dispatch(P.toggleKeyboard())}async openAboutModal(){await(await this.modalCtrl.create({component:Fn})).present()}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-calculator"]],viewQuery:function(n,r){if(n&1&&Fe(se,5,Be),n&2){let d;Ae(d=Le())&&(r.ionContent=d.first)}},decls:62,vars:71,consts:[["splitsPopover",""],["distancePopover",""],["pacePopover",""],[1,"safe-area-content","safe-area-content-top","calc-content"],[1,"mx-auto","max-w-5xl","px-2","pb-4","pt-2"],[1,"sticky","top-2","z-10"],[1,"calc-surface-card","p-3","backdrop-blur"],[1,"results-head-grid","mb-2","text-[11px]","font-semibold","uppercase","tracking-[0.08em]","text-[var(--calc-text-muted)]"],[1,"translate-x-5"],[1,"translate-x-6"],[1,"-translate-x-2","text-center"],[1,"calc-shell-subtle","calc-heat-banner","flex","items-center","justify-between","gap-2","py-2","pl-3","pr-2","text-xs"],[1,"results-table","mt-2"],[1,"safe-area-inline","safe-area-bottom","calc-footer"],[1,"mx-auto","max-w-5xl","px-2","pb-2"],[1,"my-2"],[1,"calc-keypad-grid","calc-shell-subtle","mt-1","rounded-2xl","p-1"],[1,"ion-align-items-center"],[1,"ion-align-items-center","mt-1"],["size","2"],["aria-label","Open about","fill","clear","shape","round",1,"calc-icon-btn","mx-auto","flex",3,"click"],["slot","icon-only","name","information-circle-outline"],["size","8"],["mode","ios",1,"app-segment",3,"ionChange","value"],["value","useSteadyPace"],["value","useRacePredictor"],["aria-label","Toggle keyboard","fill","clear","shape","round",1,"calc-icon-btn","mx-auto","flex",3,"click"],["slot","icon-only",3,"name"],[1,"font-semibold"],["type","button","aria-label","Clear heat adjustment",1,"calc-heat-dismiss","flex","items-center","justify-center","rounded-full","p-1","transition-colors",3,"click"],["name","close-circle-outline",1,"text-base"],[1,"result-row-card"],[1,"result-row-grid"],["type","button",1,"result-link",3,"click"],[1,"result-primary"],["fill","clear","shape","round",1,"calc-icon-btn","result-splits-btn","mx-auto","-translate-x-2",3,"click"],["slot","icon-only","name","arrow-forward"],[3,"tableMode","trainingRows","repRowsPrimary","repRowsSecondary"],[3,"lthrSummary","lthrBpm"],[3,"distanceMeters","distanceType","focusId"],[3,"highcharts","splitsChartReady","splitsChartOptions","splitPlan","splits"],[3,"splitHalfDeltaChange","splitHalfDeltaReset","splitLapTagChange","splitLapTagsReset","highcharts","splitsChartReady","splitsChartOptions","splitPlan","splits"],[3,"openTypeInfo","tableMode","trainingRows","repRowsPrimary","repRowsSecondary"],[3,"lthrBpmChange","openInfo","lthrSummary","lthrBpm"],[3,"navigateToTab","distanceMeters","distanceType","focusId"],[1,"mx-auto","max-w-5xl"],[3,"activeTabChange","activeTab"],["mode","md",1,"focus-summary-item"],["aria-label","Back to calculator","size","large","shape","round","slot","start","fill","clear",1,"calc-icon-btn",3,"click"],["slot","icon-only","name","arrow-back-outline"],["mode","ios",1,"app-segment","w-[150px]","p-[2px]",3,"value"],[1,"calc-muted-copy","text-xs","uppercase","tracking-[0.08em]"],[1,"text-lg","font-extrabold"],[1,"calc-muted-copy","text-sm"],["id","splits-popover-trigger","aria-label","Open split by options",1,"tool-btn","px-3"],["trigger","splits-popover-trigger"],["mode","md"],["button",""],["button","",3,"click"],["mode","ios",1,"app-segment","w-[150px]","p-[2px]",3,"ionChange","value"],["value","road"],["value","track"],[1,"mx-auto","mt-0.5","max-w-xl","rounded-xl"],[1,"calc-shell-subtle","mx-auto","mt-1","grid","max-w-xl","grid-cols-3","gap-1","rounded-2xl","px-1","py-0.5"],["type","button","aria-label","Select distance input",1,"input-metric-card",3,"click","ngClass"],[1,"metric-label","text-center","text-[10px]","font-semibold","uppercase","tracking-[0.08em]"],[1,"mb-0","mt-0","flex","flex-row","justify-center","gap-1","text-sm","font-semibold","leading-none"],[1,"metric-value","text-right",3,"ngClass"],[1,"metric-unit",3,"ngClass"],["type","button","aria-label","Select time input",1,"input-metric-card",3,"click","ngClass"],[1,"metric-value","text-right"],["type","button","aria-label","Select pace input",1,"input-metric-card",3,"click","ngClass"],[1,"metric-unit"],[1,"grid","grid-cols-3","gap-1"],["type","button","aria-label","Set distance as fixed metric",1,"fixed-metric-chip",3,"click","ngClass"],["name","pin",1,"text-xs"],["type","button","aria-label","Set time as fixed metric",1,"fixed-metric-chip",3,"click","ngClass"],["type","button","aria-label","Set pace as fixed metric",1,"fixed-metric-chip",3,"click","ngClass"],["size","3"],["size","6"],[3,"clear","inputChange","buttonRows"],["size","3",1,"ion-align-self-stretch","min-w-0"],[1,"flex","h-full","flex-col","justify-between","gap-2","py-0.5"],["aria-label","View details","fill","clear","shape","round",1,"calc-icon-btn","result-splits-btn","mx-auto",3,"click"],["id","distance-tools-trigger","aria-label","Open distance tools",1,"tool-btn","w-full","p-2","text-center"],["trigger","distance-tools-trigger"],["id","pace-tools-trigger","aria-label","Open pace tools",1,"tool-btn","w-full","p-2","text-center"],["trigger","pace-tools-trigger"],[3,"inputChange","buttonRows"]],template:function(n,r){if(n&1&&(a(0,"ion-content",3)(1,"div",4),k(2,"async"),a(3,"div")(4,"div",5)(5,"section",6)(6,"div",7)(7,"p"),s(8,"Distance"),o(),a(9,"p",8),s(10,"Time"),o(),a(11,"p",9),s(12,"Pace"),o(),a(13,"p",10),s(14,"Details"),o()(),x(15,ta,7,2,"div",11),o()(),a(16,"div",12),S(17,ia,2,5,null,null,ea),k(19,"async"),o()()(),x(20,ca,4,4),k(21,"async"),o(),a(22,"ion-footer",13)(23,"div",14),x(24,pa,3,1,"div",15),k(25,"async"),x(26,ba,1,1),k(27,"async"),k(28,"async"),k(29,"async"),k(30,"async"),k(31,"async"),k(32,"async"),x(33,va,24,26),k(34,"async"),k(35,"async"),k(36,"async"),k(37,"async"),k(38,"async"),k(39,"async"),k(40,"async"),k(41,"async"),k(42,"async"),a(43,"ion-grid",16),k(44,"async"),k(45,"async"),x(46,Sa,19,4,"ion-row",17),a(47,"ion-row",18)(48,"ion-col",19)(49,"ion-button",20),m("click",function(){return r.openAboutModal()}),f(50,"ion-icon",21),o()(),a(51,"ion-col",22)(52,"ion-segment",23),m("ionChange",function(g){return r.onCalculationModeChange(g)}),a(53,"ion-segment-button",24)(54,"ion-label"),s(55,"Steady Pace"),o()(),a(56,"ion-segment-button",25)(57,"ion-label"),s(58,"Race Predictor"),o()()()(),a(59,"ion-col",19)(60,"ion-button",26),m("click",function(){return r.toggleKeyboard()}),f(61,"ion-icon",27),o()()()()()()),n&2){let d,g;c(),V("hidden",w(2,12,r.focusId$)!==null),c(14),C(+r.heatAdjustment().temperature&&+r.heatAdjustment().dewPoint?15:-1),c(2),M(w(19,14,r.results$)),c(3),C(w(21,16,r.focusId$)!==null?20:-1),c(4),C(w(25,18,r.focusId$)!==null?24:-1),c(2),C((d=Dt(54,Zi,w(27,20,r.focusId$),w(28,22,r.paceType$),w(29,24,r.distance$),w(30,26,r.distanceType$),w(31,28,r.time$),w(32,30,r.pace$)))?26:-1,d),c(7),C((g=Ft(61,Qi,[w(34,32,r.inputType$),w(35,34,r.distance$),w(36,36,r.pace$),w(37,38,r.time$),w(38,40,r.distanceType$),w(39,42,r.paceType$),w(40,44,r.lockType$),w(41,46,r.isInputCollapsed$),w(42,48,r.focusId$)]))?33:-1,g),c(10),V("hidden",w(44,50,r.isInputCollapsed$)||w(45,52,r.focusId$)!==null),c(3),C(r.isKeyboardShowing()?46:-1),c(6),_("value",r.overallCalculationMode()==="race"?"useRacePredictor":"useSteadyPace"),c(9),_("name",r.isKeyboardShowing()?"keyboard-hide":"keyboard-show")}},dependencies:[J,Y,Bn,E,Lt,Ht,he,K,ge,se,qe,_e,j,Q,F,Wt,fe,Nt,An,Nn,Wn,Ln,$n],styles:["[_nghost-%COMP%]{--ion-background-color: var(--calc-surface-0)}.calc-content[_ngcontent-%COMP%]{--background: linear-gradient( 180deg, color-mix(in oklab, var(--calc-surface-0) 82%, white) 0%, color-mix(in oklab, var(--calc-surface-2) 84%, var(--calc-accent) 16%) 100% )}.calc-footer[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-surface-raised) 80%,var(--calc-accent) 20%)}[_ngcontent-%COMP%]:root.ion-palette-dark   .calc-footer[_ngcontent-%COMP%]{background:color-mix(in oklab,var(--calc-surface-0) 80%,transparent)}.tool-btn[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;min-height:42px;border-radius:var(--calc-radius-md);border:1px solid var(--calc-border-strong);background:linear-gradient(145deg,color-mix(in oklab,var(--calc-surface-3) 90%,var(--calc-accent) 10%),color-mix(in oklab,var(--calc-surface-raised) 92%,var(--calc-accent) 8%));color:var(--calc-text-strong);font-size:.875rem;font-weight:400;box-shadow:var(--calc-shadow-sm);transition:transform var(--calc-motion-fast) var(--calc-motion-ease),filter var(--calc-motion-fast) var(--calc-motion-ease)}.tool-btn[_ngcontent-%COMP%]:active{transform:scale(.97);filter:brightness(.95)}.calc-surface-card[_ngcontent-%COMP%]{border-radius:var(--calc-radius-lg);border:1px solid var(--calc-border-subtle);background:color-mix(in oklab,var(--calc-surface-raised) 88%,var(--calc-info-bg));box-shadow:var(--calc-shadow-sm);padding:.5rem .1rem 0}.results-table[_ngcontent-%COMP%]{border-radius:var(--calc-radius-lg);border:1px solid var(--calc-border-subtle);background:color-mix(in oklab,var(--calc-surface-raised) 90%,var(--calc-info-bg));box-shadow:var(--calc-shadow-sm);overflow:hidden}.result-row-card[_ngcontent-%COMP%]{border-radius:0;border:0;background:transparent;box-shadow:none;padding:0 .1rem 0 .8rem;transition:background-color var(--calc-motion-fast) var(--calc-motion-ease),border-color var(--calc-motion-fast) var(--calc-motion-ease)}.result-row-card[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid color-mix(in oklab,var(--calc-border-subtle) 70%,transparent)}.result-row-card[_ngcontent-%COMP%]:nth-child(odd){background:color-mix(in oklab,var(--calc-surface-stripe) 88%,var(--calc-info-bg) 12%)}.result-row-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1.5fr) minmax(0,1fr) minmax(0,1fr) auto;align-items:center;gap:.25rem}.results-head-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1.5fr) minmax(0,1fr) minmax(0,1fr) 58px;align-items:center;gap:.25rem}.results-head-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{text-align:center}.results-head-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{padding-right:.35rem;white-space:nowrap}.result-row-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{display:flex;justify-content:center}.result-row-grid[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]:last-child{margin-right:.35rem}.result-link[_ngcontent-%COMP%]{min-height:26px;display:inline-flex;justify-content:center;align-items:center;font-size:.75rem;font-weight:600;color:var(--calc-accent-strong);background:color-mix(in oklab,var(--calc-surface-2) 78%,var(--calc-info-bg));border:1px solid var(--calc-border-strong);border-radius:9999px;padding:0 .6rem;white-space:nowrap;transition:transform var(--calc-motion-fast) var(--calc-motion-ease),background-color var(--calc-motion-fast) var(--calc-motion-ease)}.result-link[_ngcontent-%COMP%]:active{transform:scale(.96);background:color-mix(in oklab,var(--calc-surface-3) 88%,var(--calc-info-bg))}.result-primary[_ngcontent-%COMP%]{color:var(--calc-text-strong);font-size:.9rem;font-weight:600}@keyframes _ngcontent-%COMP%_resultFlash{0%{color:var(--calc-accent-strong);opacity:.5}to{color:var(--calc-text-strong);opacity:1}}.result-primary.flash-highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_resultFlash .5s ease-out forwards}.result-splits-btn[_ngcontent-%COMP%]{--color: color-mix(in oklab, var(--calc-accent-strong) 82%, #0f172a);--background: color-mix(in oklab, var(--calc-surface-raised) 82%, var(--calc-info-bg));--background-hover: color-mix(in oklab, var(--calc-info-bg) 74%, var(--calc-accent) 26%);--background-activated: color-mix(in oklab, var(--calc-info-bg) 74%, var(--calc-accent) 26%);--border-width: 1px;--border-style: solid;--border-color: var(--calc-border-strong);--box-shadow: 0 1px 2px color-mix(in oklab, var(--calc-border-subtle) 90%, transparent)}.input-metric-card[_ngcontent-%COMP%]{cursor:pointer;min-height:50px;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2px;border-radius:var(--calc-radius-md);border:1px solid color-mix(in oklab,var(--calc-border-subtle) 38%,transparent);color:var(--calc-text-strong);background:var(--calc-surface-raised);padding:.2rem;transition:background-color var(--calc-motion-normal) var(--calc-motion-ease),transform var(--calc-motion-fast) var(--calc-motion-ease),border-color var(--calc-motion-normal) var(--calc-motion-ease),box-shadow var(--calc-motion-normal) var(--calc-motion-ease)}.input-metric-card[_ngcontent-%COMP%]:active{transform:scale(.985)}.input-metric-card[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:var(--calc-text-muted)}.input-metric-card[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{color:var(--calc-text-strong)}.input-metric-card[_ngcontent-%COMP%]   .metric-unit[_ngcontent-%COMP%]{color:var(--calc-text-muted)}.input-metric-card-active[_ngcontent-%COMP%]{border-color:var(--calc-active-fill-border);background:var(--calc-active-fill);box-shadow:var(--calc-shadow-sm)}.input-metric-card-active[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%], .input-metric-card-active[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%], .input-metric-card-active[_ngcontent-%COMP%]   .metric-unit[_ngcontent-%COMP%]{color:var(--calc-active-fill-text)}.fixed-metric-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.25rem;min-height:28px;border-radius:9999px;border:1px solid color-mix(in oklab,var(--calc-border-subtle) 44%,transparent);color:var(--calc-text-muted);background:color-mix(in oklab,var(--calc-surface-raised) 92%,var(--calc-surface-1));font-size:10px;font-weight:700;letter-spacing:.01em;transition:transform var(--calc-motion-fast) var(--calc-motion-ease),background-color var(--calc-motion-fast) var(--calc-motion-ease),border-color var(--calc-motion-fast) var(--calc-motion-ease)}.fixed-metric-chip[_ngcontent-%COMP%]:active{transform:scale(.98)}.fixed-metric-chip-active[_ngcontent-%COMP%]{border-color:var(--calc-active-fill-border);color:var(--calc-active-fill-text);background:var(--calc-active-fill);box-shadow:var(--calc-shadow-sm)}.calc-heat-banner[_ngcontent-%COMP%]{border-color:color-mix(in oklab,var(--calc-border-strong) 80%,transparent);background:color-mix(in oklab,var(--calc-info-bg) 74%,var(--calc-accent) 26%);color:var(--calc-text-muted)}.calc-heat-dismiss[_ngcontent-%COMP%]:hover{background:color-mix(in oklab,var(--calc-accent) 16%,transparent)}.metric-highlight[_ngcontent-%COMP%]{color:var(--calc-accent-strong)}.calc-table-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem;font-weight:600;color:var(--calc-text-muted)}ion-range[_ngcontent-%COMP%]::part(tick), ion-range[_ngcontent-%COMP%]::part(tick-active), ion-range[_ngcontent-%COMP%]::part(bar), ion-range[_ngcontent-%COMP%]::part(bar-active){background:var(--calc-accent)}@media (min-width: 768px){.calc-keypad-grid[_ngcontent-%COMP%]{max-width:36rem;margin-left:auto;margin-right:auto}}[_ngcontent-%COMP%]:root.ion-palette-dark   .result-splits-btn[_ngcontent-%COMP%]{--color: #f7fbff;--background: color-mix(in oklab, var(--calc-surface-1) 80%, var(--calc-accent) 20%);--background-hover: color-mix(in oklab, var(--calc-surface-1) 68%, var(--calc-accent) 32%);--background-activated: color-mix(in oklab, var(--calc-surface-1) 68%, var(--calc-accent) 32%);--border-color: color-mix(in oklab, var(--calc-accent) 48%, transparent);--box-shadow: 0 1px 3px color-mix(in oklab, var(--calc-accent) 30%, transparent)}@media (prefers-reduced-motion: reduce){.result-row-card[_ngcontent-%COMP%], .input-metric-card[_ngcontent-%COMP%], .fixed-metric-chip[_ngcontent-%COMP%]{transition:none}.result-row-card[_ngcontent-%COMP%]:active, .input-metric-card[_ngcontent-%COMP%]:active, .fixed-metric-chip[_ngcontent-%COMP%]:active{transform:none}}"]});let i=l;return i})();export{gl as CalculatorPage};
