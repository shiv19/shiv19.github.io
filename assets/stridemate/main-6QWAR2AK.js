import{$a as Re,A as te,Aa as $t,B as K,C as M,D as I,E as _,F as Mt,G as Ot,I as le,L as xt,M as pe,Na as Bt,Q as wt,Qa as Lt,Sa as Ut,Ta as Kt,Ua as Fe,Va as de,Wa as Vt,Xa as Gt,Y as At,Ya as Ht,Z as kt,Za as Wt,_ as Ct,_a as Zt,a as ee,ab as me,b as pt,bb as Xt,c as dt,cb as G,d as mt,db as Jt,e as ht,eb as O,f as yt,fb as Yt,g as T,gb as d,h as gt,i as D,ia as Dt,j as De,k as J,l as R,m as ae,ma as Pt,n as Pe,o as _t,ob as je,p as ue,q as Et,r as It,s as U,t as Ne,ta as Nt,u as St,ua as Ft,v as Tt,va as Rt,w as bt,x as vt,xa as jt,y as V,ya as zt,z as fe}from"./chunk-FN36N7RP.js";import"./chunk-GSHQ2NZP.js";import"./chunk-QNLXUBSH.js";import"./chunk-E6Z6V26L.js";import"./chunk-DPLKE5J3.js";import"./chunk-L2CCUTKR.js";import"./chunk-2S27ETSV.js";import"./chunk-DV5ZWSB4.js";import"./chunk-6TJOPKI2.js";import"./chunk-BLPOYMFT.js";import"./chunk-KRBZ6BN4.js";import"./chunk-AHLPU3GJ.js";import"./chunk-ORQ4XQMD.js";import{a as v,b as L,c as Hn}from"./chunk-IWAB2FFJ.js";var qt=[{path:"",loadComponent:()=>import("./chunk-MY5E5HXD.js").then(e=>e.CalculatorPage)}];var en=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=Ot({type:t,selectors:[["app-root"]],standalone:!0,features:[Dt],decls:2,vars:0,template:function(s,i){s&1&&(At(0,"ion-app"),Ct(1,"ion-router-outlet"),kt())},dependencies:[$t,zt],encapsulation:2});let e=t;return e})();var tn={production:!0};var Jn={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},he="__@ngrx/effects_create__";function j(e,t={}){let r=t.functional?e:e(),n=v(v({},Jn),t);return Object.defineProperty(r,he,{value:n}),r}function Yn(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(he)?e[n][he].hasOwnProperty("dispatch"):!1).map(n=>{let s=e[n][he];return v({propertyName:n},s)})}function qn(e){return Yn(e)}function nn(e){return Object.getPrototypeOf(e)}function Qn(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function rn(e){return typeof e=="function"}function er(e){return e.filter(rn)}function tr(e,t,r){let n=nn(e),i=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=qn(e).map(({propertyName:c,dispatch:l,useEffectsErrorHandler:f})=>{let u=typeof e[c]=="function"?e[c]():e[c],a=f?r(u,t):u;return l===!1?a.pipe(Et()):a.pipe(St()).pipe(D(S=>({effect:e[c],notification:S,propertyName:c,sourceName:i,sourceInstance:e})))});return J(...o)}var nr=10;function sn(e,t,r=nr){return e.pipe(ae(n=>(t&&t.handleError(n),r<=1?e:sn(e,t,r-1))))}var z=(()=>{let t=class t extends ee{constructor(n){super(),n&&(this.source=n)}lift(n){let s=new t;return s.source=this,s.operator=n,s}};t.\u0275fac=function(s){return new(s||t)(I(me))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $(...e){return R(t=>e.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var Es=new M("@ngrx/effects Internal Root Guard"),Is=new M("@ngrx/effects User Provided Effects"),Ss=new M("@ngrx/effects Internal Root Effects"),Ts=new M("@ngrx/effects Internal Root Effects Instances"),bs=new M("@ngrx/effects Internal Feature Effects"),vs=new M("@ngrx/effects Internal Feature Effects Instance Groups"),rr=new M("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>sn}),sr="@ngrx/effects/init",ir=Kt(sr);function or(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!cr(r)&&t.handleError(new Error(`Effect ${ar(e)} dispatched an invalid action: ${ur(r)}`))}}function cr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function ar({propertyName:e,sourceInstance:t,sourceName:r}){let n=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function ur(e){try{return JSON.stringify(e)}catch{return e}}var fr="ngrxOnIdentifyEffects";function lr(e){return ze(e,fr)}var pr="ngrxOnRunEffects";function dr(e){return ze(e,pr)}var mr="ngrxOnInitEffects";function hr(e){return ze(e,mr)}function ze(e,t){return e&&t in e&&typeof e[t]=="function"}var on=(()=>{let t=class t extends pt{constructor(n,s){super(),this.errorHandler=n,this.effectsErrorHandler=s}addEffects(n){this.next(n)}toActions(){return this.pipe(Ne(n=>Qn(n)?nn(n):n),De(n=>n.pipe(Ne(yr))),De(n=>{let s=n.pipe(U(o=>gr(this.errorHandler,this.effectsErrorHandler)(o)),D(o=>(or(o,this.errorHandler),o.notification)),R(o=>o.kind==="N"&&o.value!=null),It()),i=n.pipe(ue(1),R(hr),D(o=>o.ngrxOnInitEffects()));return J(s,i)}))}};t.\u0275fac=function(s){return new(s||t)(I(pe),I(rr))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yr(e){return lr(e)?e.ngrxOnIdentifyEffects():""}function gr(e,t){return r=>{let n=tr(r,e,t);return dr(r)?r.ngrxOnRunEffects(n):n}}var _r=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,s){this.effectSources=n,this.store=s,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(s){return new(s||t)(I(on),I(G))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function cn(...e){let t=e.flat(),r=er(t);return le([r,{provide:Mt,multi:!0,useValue:()=>{_(Gt),_(Ht,{optional:!0});let n=_(_r),s=_(on),i=!n.isStarted;i&&n.start();for(let o of t){let c=rn(o)?_(o):o;s.addEffects(c)}i&&_(G).dispatch(ir())}}])}var k=function(e){return e[e.km=1e3]="km",e[e.mi=1609.344]="mi",e[e.m400=400]="m400",e}(k||{});var $e=()=>[{type:"400m",distanceInMeters:400,time:"00:00:00"},{type:"800m",distanceInMeters:800,time:"00:00:00"},{type:"1km",distanceInMeters:1e3,time:"00:00:00"},{type:"1mi",distanceInMeters:1609.344,time:"00:00:00"},{type:"5km",distanceInMeters:5e3,time:"00:00:00"},{type:"10km",distanceInMeters:1e4,time:"00:00:00"},{type:"15km",distanceInMeters:15e3,time:"00:00:00"},{type:"20km",distanceInMeters:2e4,time:"00:00:00"},{type:"Half Marathon",distanceInMeters:21097.5,time:"00:00:00"},{type:"25km",distanceInMeters:25e3,time:"00:00:00"},{type:"30km",distanceInMeters:3e4,time:"00:00:00"},{type:"Marathon",distanceInMeters:42195,time:"00:00:00"},{type:"50km",distanceInMeters:5e4,time:"00:00:00"},{type:"50mi",distanceInMeters:80467.2,time:"00:00:00"},{type:"100km",distanceInMeters:1e5,time:"00:00:00"},{type:"100mi",distanceInMeters:160934.4,time:"00:00:00"}].map((e,t)=>(e.id=t,e));function Er(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function ye(e){let t=(e==null?void 0:e.split(":").map(Number).reverse())||[],[r,n,s]=t,i=(r||0)/60,o=n||0,c=(s||0)*60;return i+o+c}function an(e){let t=Math.floor(e/60),r=Math.floor(e%60),n=e%1,s=Math.round(n*60),i=t?`${t}:`:"",o=`${String(r).padStart(2,"0")}:`,c=`${String(s).padStart(2,"0")}`;s===60&&(o=`${String(Number(o.slice(0,-1))+1).padStart(2,"0")}:`,c="00"),Number(o.slice(0,-1))===60&&(i=`${String(Number(i.slice(0,-1))+1).padStart(2,"0")}:`,o="00:");let l=`${i}${o}${c}`;return l.includes("NaN")||l.includes("-")?"00:00":l}function Be(e,t,r,n){let s=ye(r),i={km:1,mi:1.60934},o={km:1,mi:1.60934,m400:.4};if(!i[t])throw new Error("Invalid distance unit");if(!o[n])throw new Error("Invalid pace unit");let c=parseFloat(e)*i[t],f=s/c*o[n];return an(f)}function ge(e,t,r,n){let s=ye(r),i={km:1,mi:1.60934,m400:.4},o={km:1,mi:1.60934};if(!i[t])throw new Error("Invalid pace unit");if(!o[n])throw new Error("Invalid distance unit");let c=ye(e)/i[t],f=s/c*o[n];return f===1/0?"0":Er(f,2)+""}function ne(e,t,r,n){let s={km:1,mi:1.60934,m400:.4},i={km:1,mi:1.60934};if(!s[n])throw new Error("Invalid pace unit");if(!i[t])throw new Error("Invalid distance unit");let o=ye(r)/s[n],c=parseFloat(e)*i[t],l=o*c;return an(l)}var mn=Symbol.for("immer-nothing"),un=Symbol.for("immer-draftable"),x=Symbol.for("immer-state");function P(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Y=Object.getPrototypeOf;function q(e){return!!e&&!!e[x]}function W(e){var t;return e?hn(e)||Array.isArray(e)||!!e[un]||!!((t=e.constructor)!=null&&t[un])||Te(e)||be(e):!1}var Ir=Object.prototype.constructor.toString();function hn(e){if(!e||typeof e!="object")return!1;let t=Y(e);if(t===null)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Ir}function _e(e,t){Se(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Se(e){let t=e[x];return t?t.type_:Array.isArray(e)?1:Te(e)?2:be(e)?3:0}function Ke(e,t){return Se(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yn(e,t,r){let n=Se(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Sr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Te(e){return e instanceof Map}function be(e){return e instanceof Set}function H(e){return e.copy_||e.base_}function Ve(e,t){if(Te(e))return new Map(e);if(be(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&hn(e))return Y(e)?v({},e):Object.assign(Object.create(null),e);let r=Object.getOwnPropertyDescriptors(e);delete r[x];let n=Reflect.ownKeys(r);for(let s=0;s<n.length;s++){let i=n[s],o=r[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Y(e),r)}function Xe(e,t=!1){return ve(e)||q(e)||!W(e)||(Se(e)>1&&(e.set=e.add=e.clear=e.delete=Tr),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Xe(n,!0))),e}function Tr(){P(2)}function ve(e){return Object.isFrozen(e)}var br={};function Z(e){let t=br[e];return t||P(0,e),t}var re;function gn(){return re}function vr(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fn(e,t){t&&(Z("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ge(e){He(e),e.drafts_.forEach(Mr),e.drafts_=null}function He(e){e===re&&(re=e.parent_)}function ln(e){return re=vr(re,e)}function Mr(e){let t=e[x];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pn(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return e!==void 0&&e!==r?(r[x].modified_&&(Ge(t),P(4)),W(e)&&(e=Ee(t,e),t.parent_||Ie(t,e)),t.patches_&&Z("Patches").generateReplacementPatches_(r[x].base_,e,t.patches_,t.inversePatches_)):e=Ee(t,r,[]),Ge(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mn?e:void 0}function Ee(e,t,r){if(ve(t))return t;let n=t[x];if(!n)return _e(t,(s,i)=>dn(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ie(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let s=n.copy_,i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),_e(i,(c,l)=>dn(e,n,s,c,l,r,o)),Ie(e,s,!1),r&&e.patches_&&Z("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function dn(e,t,r,n,s,i,o){if(q(s)){let c=i&&t&&t.type_!==3&&!Ke(t.assigned_,n)?i.concat(n):void 0,l=Ee(e,s,c);if(yn(r,n,l),q(l))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(W(s)&&!ve(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ee(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ie(e,s)}}function Ie(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xe(t,r)}function Or(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:gn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},s=n,i=Je;r&&(s=[n],i=se);let{revoke:o,proxy:c}=Proxy.revocable(s,i);return n.draft_=c,n.revoke_=o,c}var Je={get(e,t){if(t===x)return e;let r=H(e);if(!Ke(r,t))return xr(e,r,t);let n=r[t];return e.finalized_||!W(n)?n:n===Le(e.base_,t)?(Ue(e),e.copy_[t]=Ze(n,e)):n},has(e,t){return t in H(e)},ownKeys(e){return Reflect.ownKeys(H(e))},set(e,t,r){let n=_n(H(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let s=Le(H(e),t),i=s==null?void 0:s[x];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Sr(r,s)&&(r!==void 0||Ke(e.base_,t)))return!0;Ue(e),We(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Le(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ue(e),We(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let r=H(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){P(11)},getPrototypeOf(e){return Y(e.base_)},setPrototypeOf(){P(12)}},se={};_e(Je,(e,t)=>{se[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});se.deleteProperty=function(e,t){return se.set.call(this,e,t,void 0)};se.set=function(e,t,r){return Je.set.call(this,e[0],t,r,e[0])};function Le(e,t){let r=e[x];return(r?H(r):e)[t]}function xr(e,t,r){var s;let n=_n(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function _n(e,t){if(!(t in e))return;let r=Y(e);for(;r;){let n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Y(r)}}function We(e){e.modified_||(e.modified_=!0,e.parent_&&We(e.parent_))}function Ue(e){e.copy_||(e.copy_=Ve(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){let i=r;r=t;let o=this;return function(l=i,...f){return o.produce(l,u=>r.call(this,u,...f))}}typeof r!="function"&&P(6),n!==void 0&&typeof n!="function"&&P(7);let s;if(W(t)){let i=ln(this),o=Ze(t,void 0),c=!0;try{s=r(o),c=!1}finally{c?Ge(i):He(i)}return fn(i,n),pn(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===mn&&(s=void 0),this.autoFreeze_&&Xe(s,!0),n){let i=[],o=[];Z("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else P(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,l=>t(l,...c));let n,s;return[this.produce(t,r,(o,c)=>{n=o,s=c}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){W(e)||P(8),q(e)&&(e=Ar(e));let t=ln(this),r=Ze(e,void 0);return r[x].isManual_=!0,He(t),r}finishDraft(e,t){let r=e&&e[x];(!r||!r.isManual_)&&P(9);let{scope_:n}=r;return fn(n,t),pn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));let n=Z("Patches").applyPatches_;return q(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Ze(e,t){let r=Te(e)?Z("MapSet").proxyMap_(e,t):be(e)?Z("MapSet").proxySet_(e,t):Or(e,t);return(t?t.scope_:gn()).drafts_.push(r),r}function Ar(e){return q(e)||P(10,e),En(e)}function En(e){if(!W(e)||ve(e))return e;let t=e[x],r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ve(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ve(e,!0);return _e(r,(n,s)=>{yn(r,n,En(s))}),t&&(t.finalized_=!1),r}var w=new wr,A=w.produce,ks=w.produceWithPatches.bind(w),Cs=w.setAutoFreeze.bind(w),Ds=w.setUseStrictShallowCopy.bind(w),Ps=w.applyPatches.bind(w),Ns=w.createDraft.bind(w),Fs=w.finishDraft.bind(w);var kr={pace:"",focusId:null,paceType:"km",paceDistanceInMeters:k.km,paceConversionMap:[{command:"km",label:"Per Kilometer"},{command:"mi",label:"Per Mile"},{command:"m400",label:"Per 400m"},{command:"cKm",label:"Convert to per Kilometer"},{command:"cMi",label:"Convert to per Mile"},{command:"c400",label:"Convert to per 400m"}],distance:"10",distanceType:"km",distanceConversionMap:[{command:"km",label:"Kilometers"},{command:"mi",label:"Miles"},{command:"cKm",label:"Convert to Kilometers"},{command:"cMi",label:"Convert to Miles"}],time:"",lockType:"distance",inputType:"pace",clearOnNextInput:!1,results:$e(),adjustmentButtons:Sn()};function In(e){return e==="km"?[["-.1km","+.1km"],["-.5km","+.5km"],["-1km","+1km"],["-5km","+5km"]]:[["-.25mi","+.25mi"],["-.5mi","+.5mi"],["-1mi","+1mi"],["-3mi","+3mi"]]}function Sn(){return[["-1s","+1s"],["-5s","+5s"],["-30s","+30s"],["-1m","+1m"]]}function Cr(){return[["-5s","+5s"],["-30s","+30s"],["-1m","+1m"],["-5m","+5m"]]}function ie(e){let t=(e==null?void 0:e.split(":").map(Number).reverse())||[],[r,n]=t;return(n||0)*60+(r||0)}function Dr(e){let t=(e==null?void 0:e.split(":").map(Number).reverse())||[],[r,n,s]=t;return(s||0)*3600+(n||0)*60+(r||0)}function Me(e,t,r){let s=e/t*r,i=Math.floor(s%3600/60),o=Math.round(s%60);return[i,o].map(c=>c<10?"0"+c:c).join(":")}function Pr(e){let t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.round(e%60);return[t,r,n].map(s=>s<10?"0"+s:s).join(":")}var Tn=Yt(kr,O(d.calculate,A((e,{whatChanged:t})=>{t==="pace"?e.lockType==="distance"?e.time=ne(e.distance,e.distanceType,e.pace,e.paceType):e.lockType==="time"?e.distance=ge(e.pace,e.paceType,e.time,e.distanceType):e.time=ne(e.distance,e.distanceType,e.pace,e.paceType):t==="distance"?e.lockType==="pace"?e.time=ne(e.distance,e.distanceType,e.pace,e.paceType):e.lockType==="time"?e.pace=Be(e.distance,e.distanceType,e.time,e.paceType):e.time=ne(e.distance,e.distanceType,e.pace,e.paceType):t==="time"&&(e.lockType==="pace"?e.distance=ge(e.pace,e.paceType,e.time,e.distanceType):e.lockType==="distance"?e.pace=Be(e.distance,e.distanceType,e.time,e.paceType):e.distance=ge(e.pace,e.paceType,e.time,e.distanceType));let r=ie(e.pace);if(r!==0){let n=r/e.paceDistanceInMeters;e.results=e.results.map(s=>{let i=s.distanceInMeters*n,o=Math.floor(i/3600),c=Math.floor(i%3600/60),l=Math.round(i%60);return L(v({},s),{time:[o,c,l].map(f=>f<10?"0"+f:f).join(":")})})}})),O(d.setFocus,A((e,{focusId:t})=>{e.focusId=t,e.clearOnNextInput=!0})),O(d.changeLockType,A((e,{lockType:t})=>{e.lockType=t})),O(d.clearResults,A(e=>{e.results=$e()})),O(d.paceTypeChanged,A((e,{paceType:t})=>{switch(t){case"cKm":e.pace=Me(ie(e.pace),e.paceDistanceInMeters,k.km),e.paceDistanceInMeters=k.km,e.paceType="km";break;case"km":e.paceDistanceInMeters=k.km,e.paceType="km";break;case"cMi":e.pace=Me(ie(e.pace),e.paceDistanceInMeters,k.mi),e.paceDistanceInMeters=k.mi,e.paceType="mi";break;case"mi":e.paceDistanceInMeters=k.mi,e.paceType="mi";break;case"c400":e.pace=Me(ie(e.pace),e.paceDistanceInMeters,k.m400),e.paceDistanceInMeters=k.m400,e.paceType="m400";break;case"m400":e.paceDistanceInMeters=k.m400,e.paceType="m400";break}})),O(d.distanceTypeChanged,A((e,{distanceType:t})=>{t==="km"||t==="mi"?e.distanceType=t:t==="cKm"?(e.distance=(Number(e.distance)*1.60934).toFixed(2),e.distanceType="km"):t==="cMi"&&(e.distance=(Number(e.distance)/1.60934).toFixed(2),e.distanceType="mi"),e.adjustmentButtons=In(e.distanceType)})),O(d.changeInputType,A((e,{inputType:t})=>{e.inputType=t,e.clearOnNextInput=!0,t==="distance"?e.adjustmentButtons=In(e.distanceType):t==="pace"?e.adjustmentButtons=Sn():e.adjustmentButtons=Cr()})),O(d.inputDistance,A((e,{input:t})=>{let r=e.distance.includes("."),n=t===".",[s,i]=e.distance.split(".");if(e.clearOnNextInput){e.distance=t,e.clearOnNextInput=!1;return}n&&r||(r&&(!i||(i==null?void 0:i.length)<3)&&(e.distance+=t),(!r&&s.length<5||n)&&(e.distance+=t))})),O(d.inputTime,A((e,{input:t})=>{if(t===".")return;if(e.clearOnNextInput){["6","7","8","9"].includes(t)?e.time=`0${t}`:e.time=t,e.clearOnNextInput=!1;return}switch(e.time.replace(/:/g,"").length){case 0:if(["6","7","8","9"].includes(t)){e.time+=`0${t}`;return}e.time+=t;break;case 1:e.time+=t;break;case 2:if(["6","7","8","9"].includes(t)){e.time+=`:0${t}`;return}e.time+=":"+t;break;case 3:e.time+=t;break;case 4:if(["6","7","8","9"].includes(t)){e.time+=`:0${t}`;return}e.time+=":"+t;break;case 5:e.time+=t;break}})),O(d.inputPace,A((e,{input:t})=>{if(t===".")return;if(e.clearOnNextInput){["6","7","8","9"].includes(t)?e.pace=`0${t}:`:e.pace=t+":",e.clearOnNextInput=!1;return}let r=e.pace.replace(/:/g,"");switch(r.length){case 0:if(["6","7","8","9"].includes(t)){e.pace+=`0${t}:`;return}e.pace+=t+":";break;case 1:e.pace+=t;break;case 2:e.pace+=t;break;case 3:let n=r.split("");if(console.log("Number(parts[0] + [parts][1]) >= 10",Number(n[0]+[n][1])>=10,n),Number(n[0]+n[1])>=10){e.pace=n[0]+n[1]+`:${n[2]}${t}`;return}e.pace+=t;break}})),O(d.clearInput,A(e=>{e[e.inputType]=""})),O(d.adjustmentChanged,A((e,{adjustment:t})=>{if(e.inputType==="distance"){let r=Number(e.distance),n=t[0],s=Number(t.slice(1,-2));if(n==="-"&&r-s<0)return;e.distance=(n==="-"?r-s:r+s).toFixed(2)}else if(e.inputType==="pace"){let r=ie(e.pace),n=t[0],s=Number(t.slice(1,-1));if(t.slice(-1)==="m"&&(s*=60),n==="-"&&r-s<0)return;e.pace=Me(n==="-"?r-s:r+s,e.paceDistanceInMeters,e.paceDistanceInMeters)}else{let r=Dr(e.time),n=t[0],s=Number(t.slice(1,-1));if(t.slice(-1)==="m"&&(s*=60),n==="-"&&r-s<0)return;e.time=Pr(n==="-"?r-s:r+s)}})));var Ye={};Hn(Ye,{adjustmentChangedEffect:()=>Lr,distanceTypeChangedEffect:()=>Rr,inputChangedEffect:()=>jr,inputDistanceEffect:()=>zr,inputPaceEffect:()=>Br,inputTimeEffect:()=>$r,lockTypeChangedEffect:()=>Nr,paceTypeChangedEffect:()=>Fr});var Nr=j((e=_(z),t=_(Lt))=>e.pipe($(d.changeLockType),V(({lockType:r})=>{let n="";switch(r){case"distance":n=`Distance is locked
When pace changes, time is calculated
When time changes, pace is calculated
When distance changes, time is calculated`;break;case"time":n=`Time is locked
When distance changes, pace is calculated
When pace changes, distance is calculated
When time changes, distance is calculated`;break;case"pace":n=`Pace is locked
When distance changes, time is calculated
When time changes, distance is calculated
When pace changes, time is calculated`;break}return t.create({message:n,duration:2e3,position:"middle",cssClass:"toast-message"}).then(s=>s.present()),T(d.noop())})),{functional:!0}),Fr=j((e=_(z))=>e.pipe($(d.paceTypeChanged),U(()=>T(d.calculate({whatChanged:"pace"})))),{functional:!0}),Rr=j((e=_(z))=>e.pipe($(d.distanceTypeChanged),U(()=>T(d.calculate({whatChanged:"distance"})))),{functional:!0}),jr=j((e=_(z),t=_(G))=>e.pipe($(d.inputChanged),te(t.select(je)),V(([{input:r},n])=>{switch(n){case"distance":return T(d.inputDistance({input:r}));case"time":return T(d.inputTime({input:r}));case"pace":return T(d.inputPace({input:r}));default:return T(d.noop())}})),{functional:!0}),zr=j((e=_(z))=>e.pipe($(d.inputDistance),U(()=>T(d.calculate({whatChanged:"distance"})))),{functional:!0}),$r=j((e=_(z))=>e.pipe($(d.inputTime),U(()=>T(d.calculate({whatChanged:"time"})))),{functional:!0}),Br=j((e=_(z))=>e.pipe($(d.inputPace),U(()=>T(d.calculate({whatChanged:"pace"})))),{functional:!0}),Lr=j((e=_(z),t=_(G))=>e.pipe($(d.adjustmentChanged),te(t.select(je)),V(([r,n])=>T(d.calculate({whatChanged:n})))),{functional:!0});var ce="PERFORM_ACTION",Ur="REFRESH",wn="RESET",An="ROLLBACK",kn="COMMIT",Cn="SWEEP",Dn="TOGGLE_ACTION",Kr="SET_ACTIONS_ACTIVE",Pn="JUMP_TO_STATE",Nn="JUMP_TO_ACTION",ft="IMPORT_STATE",Fn="LOCK_CHANGES",Rn="PAUSE_RECORDING",Q=class{constructor(t,r){if(this.action=t,this.timestamp=r,this.type=ce,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},qe=class{constructor(){this.type=Ur}},Qe=class{constructor(t){this.timestamp=t,this.type=wn}},et=class{constructor(t){this.timestamp=t,this.type=An}},tt=class{constructor(t){this.timestamp=t,this.type=kn}},nt=class{constructor(){this.type=Cn}},rt=class{constructor(t){this.id=t,this.type=Dn}};var st=class{constructor(t){this.index=t,this.type=Pn}},it=class{constructor(t){this.actionId=t,this.type=Nn}},ot=class{constructor(t){this.nextLiftedState=t,this.type=ft}},ct=class{constructor(t){this.status=t,this.type=Fn}},at=class{constructor(t){this.status=t,this.type=Rn}};var Ae=new M("@ngrx/store-devtools Options"),bn=new M("@ngrx/store-devtools Initial Config");function jn(){return null}var Vr="NgRx Store DevTools";function Gr(e){let t={maxAge:!1,monitor:jn,actionSanitizer:void 0,stateSanitizer:void 0,name:Vr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof e=="function"?e():e,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,s=r.features||n||t.features;s.import===!0&&(s.import="custom");let i=Object.assign({},t,{features:s},r);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function vn(e,t){return e.filter(r=>t.indexOf(r)<0)}function zn(e){let{computedStates:t,currentStateIndex:r}=e;if(r>=t.length){let{state:s}=t[t.length-1];return s}let{state:n}=t[r];return n}function oe(e){return new Q(e,+Date.now())}function Hr(e,t){return Object.keys(t).reduce((r,n)=>{let s=Number(n);return r[s]=$n(e,t[s],s),r},{})}function $n(e,t,r){return L(v({},t),{action:e(t.action,r)})}function Wr(e,t){return t.map((r,n)=>({state:Bn(e,r.state,n),error:r.error}))}function Bn(e,t,r){return e(t,r)}function Ln(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Zr(e,t,r,n){let s=[],i={},o=[];return e.stagedActionIds.forEach((c,l)=>{let f=e.actionsById[c];f&&(l&&lt(e.computedStates[l],f,t,r,n)||(i[c]=f,s.push(c),o.push(e.computedStates[l])))}),L(v({},e),{stagedActionIds:s,actionsById:i,computedStates:o})}function lt(e,t,r,n,s){let i=r&&!r(e,t.action),o=n&&!t.action.type.match(n.map(l=>Mn(l)).join("|")),c=s&&t.action.type.match(s.map(l=>Mn(l)).join("|"));return i||o||c}function Mn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Un(e){return{ngZone:e?_(wt):null,connectInZone:e}}var ke=(()=>{let t=class t extends de{};t.\u0275fac=(()=>{let n;return function(i){return(n||(n=xt(t)))(i||t)}})(),t.\u0275prov=K({token:t,factory:t.\u0275fac});let e=t;return e})(),Oe={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},ut=new M("@ngrx/store-devtools Redux Devtools Extension"),Kn=(()=>{let t=class t{constructor(n,s,i){this.config=s,this.dispatcher=i,this.zoneConfig=Un(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,s){if(this.devtoolsExtension)if(n.type===ce){if(s.isLocked||s.isPaused)return;let i=zn(s);if(Ln(this.config)&&lt(i,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?Bn(this.config.stateSanitizer,i,s.currentStateIndex):i,c=this.config.actionSanitizer?$n(this.config.actionSanitizer,n,s.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(c,o))}else{let i=L(v({},s),{stagedActionIds:s.stagedActionIds,actionsById:this.config.actionSanitizer?Hr(this.config.actionSanitizer,s.actionsById):s.actionsById,computedStates:this.config.stateSanitizer?Wr(this.config.stateSanitizer,s.computedStates):s.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ee(n=>{let s=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=s,s.init(),s.subscribe(i=>n.next(i)),s.unsubscribe}):ht}createActionStreams(){let n=this.createChangesObservable().pipe(bt()),s=n.pipe(R(u=>u.type===Oe.START)),i=n.pipe(R(u=>u.type===Oe.STOP)),o=n.pipe(R(u=>u.type===Oe.DISPATCH),D(u=>this.unwrapAction(u.payload)),Pe(u=>u.type===ft?this.dispatcher.pipe(R(a=>a.type===Re),gt(1e3),_t(1e3),D(()=>u),ae(()=>T(u)),ue(1)):T(u))),l=n.pipe(R(u=>u.type===Oe.ACTION),D(u=>this.unwrapAction(u.payload))).pipe(fe(i)),f=o.pipe(fe(i));this.start$=s.pipe(fe(i)),this.actions$=this.start$.pipe(V(()=>l)),this.liftedActions$=this.start$.pipe(V(()=>f))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){var i,o,c;let s={name:n.name,features:n.features,serialize:n.serialize,autoPause:(i=n.autoPause)!=null?i:!1,trace:(o=n.trace)!=null?o:!1,traceLimit:(c=n.traceLimit)!=null?c:75};return n.maxAge!==!1&&(s.maxAge=n.maxAge),s}sendToReduxDevtools(n){try{n()}catch(s){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",s)}}};t.\u0275fac=function(s){return new(s||t)(I(ut),I(Ae),I(ke))},t.\u0275prov=K({token:t,factory:t.\u0275fac});let e=t;return e})(),we={type:Fe},Xr="@ngrx/store-devtools/recompute",Jr={type:Xr};function Vn(e,t,r,n,s){if(n)return{state:r,error:"Interrupted by an error up the chain"};let i=r,o;try{i=e(r,t)}catch(c){o=c.toString(),s.handleError(c)}return{state:i,error:o}}function xe(e,t,r,n,s,i,o,c,l){if(t>=e.length&&e.length===i.length)return e;let f=e.slice(0,t),u=i.length-(l?1:0);for(let a=t;a<u;a++){let h=i[a],S=s[h].action,m=f[a-1],p=m?m.state:n,N=m?m.error:void 0,F=o.indexOf(h)>-1?m:Vn(r,S,p,N,c);f.push(F)}return l&&f.push(e[e.length-1]),f}function Yr(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:oe(we)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function qr(e,t,r,n,s={}){return i=>(o,c)=>{let{monitorState:l,actionsById:f,nextActionId:u,stagedActionIds:a,skippedActionIds:h,committedState:S,currentStateIndex:m,computedStates:p,isLocked:N,isPaused:b}=o||t;o||(f=Object.create(f));function F(E){let g=E,B=a.slice(1,g+1);for(let C=0;C<B.length;C++)if(p[C+1].error){g=C,B=a.slice(1,g+1);break}else delete f[B[C]];h=h.filter(C=>B.indexOf(C)===-1),a=[0,...a.slice(g+1)],S=p[g].state,p=p.slice(g),m=m>g?m-g:0}function X(){f={0:oe(we)},u=1,a=[0],h=[],S=p[m].state,m=0,p=[]}let y=0;switch(c.type){case Fn:{N=c.status,y=1/0;break}case Rn:{b=c.status,b?(a=[...a,u],f[u]=new Q({type:"@ngrx/devtools/pause"},+Date.now()),u++,y=a.length-1,p=p.concat(p[p.length-1]),m===a.length-2&&m++,y=1/0):X();break}case wn:{f={0:oe(we)},u=1,a=[0],h=[],S=e,m=0,p=[];break}case kn:{X();break}case An:{f={0:oe(we)},u=1,a=[0],h=[],m=0,p=[];break}case Dn:{let{id:E}=c;h.indexOf(E)===-1?h=[E,...h]:h=h.filter(B=>B!==E),y=a.indexOf(E);break}case Kr:{let{start:E,end:g,active:B}=c,C=[];for(let Ce=E;Ce<g;Ce++)C.push(Ce);B?h=vn(h,C):h=[...h,...C],y=a.indexOf(E);break}case Pn:{m=c.index,y=1/0;break}case Nn:{let E=a.indexOf(c.actionId);E!==-1&&(m=E),y=1/0;break}case Cn:{a=vn(a,h),h=[],m=Math.min(m,a.length-1);break}case ce:{if(N)return o||t;if(b||o&&lt(o.computedStates[m],c,s.predicate,s.actionsSafelist,s.actionsBlocklist)){let g=p[p.length-1];p=[...p.slice(0,-1),Vn(i,c.action,g.state,g.error,r)],y=1/0;break}s.maxAge&&a.length===s.maxAge&&F(1),m===a.length-1&&m++;let E=u++;f[E]=c,a=[...a,E],y=a.length-1;break}case ft:{({monitorState:l,actionsById:f,nextActionId:u,stagedActionIds:a,skippedActionIds:h,committedState:S,currentStateIndex:m,computedStates:p,isLocked:N,isPaused:b}=c.nextLiftedState);break}case Fe:{y=0,s.maxAge&&a.length>s.maxAge&&(p=xe(p,y,i,S,f,a,h,r,b),F(a.length-s.maxAge),y=1/0);break}case Re:{if(p.filter(g=>g.error).length>0)y=0,s.maxAge&&a.length>s.maxAge&&(p=xe(p,y,i,S,f,a,h,r,b),F(a.length-s.maxAge),y=1/0);else{if(!b&&!N){m===a.length-1&&m++;let g=u++;f[g]=new Q(c,+Date.now()),a=[...a,g],y=a.length-1,p=xe(p,y,i,S,f,a,h,r,b)}p=p.map(g=>L(v({},g),{state:i(g.state,Jr)})),m=a.length-1,s.maxAge&&a.length>s.maxAge&&F(a.length-s.maxAge),y=1/0}break}default:{y=1/0;break}}return p=xe(p,y,i,S,f,a,h,r,b),l=n(l,c),{monitorState:l,actionsById:f,nextActionId:u,stagedActionIds:a,skippedActionIds:h,committedState:S,currentStateIndex:m,computedStates:p,isLocked:N,isPaused:b}}}var On=(()=>{let t=class t{constructor(n,s,i,o,c,l,f,u){let a=Yr(f,u.monitor),h=qr(f,a,l,u.monitor,u),S=J(J(s.asObservable().pipe(vt(1)),o.actions$).pipe(D(oe)),n,o.liftedActions$).pipe(yt(mt)),m=i.pipe(D(h)),p=Un(u.connectInZone),N=new dt(1);this.liftedStateSubscription=S.pipe(te(m),xn(p),Tt(({state:X},[y,E])=>{let g=E(X,y);return y.type!==ce&&Ln(u)&&(g=Zr(g,u.predicate,u.actionsSafelist,u.actionsBlocklist)),o.notify(y,g),{state:g,action:y}},{state:a,action:null})).subscribe(({state:X,action:y})=>{if(N.next(X),y.type===ce){let E=y.action;c.next(E)}}),this.extensionStartSubscription=o.start$.pipe(xn(p)).subscribe(()=>{this.refresh()});let b=N.asObservable(),F=b.pipe(D(zn));Object.defineProperty(F,"state",{value:Ut(F,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=b,this.state=F}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new Q(n,+Date.now()))}refresh(){this.dispatch(new qe)}reset(){this.dispatch(new Qe(+Date.now()))}rollback(){this.dispatch(new et(+Date.now()))}commit(){this.dispatch(new tt(+Date.now()))}sweep(){this.dispatch(new nt)}toggleAction(n){this.dispatch(new rt(n))}jumpToAction(n){this.dispatch(new it(n))}jumpToState(n){this.dispatch(new st(n))}importState(n){this.dispatch(new ot(n))}lockChanges(n){this.dispatch(new ct(n))}pauseRecording(n){this.dispatch(new at(n))}};t.\u0275fac=function(s){return new(s||t)(I(ke),I(de),I(Wt),I(Kn),I(me),I(pe),I(Vt),I(Ae))},t.\u0275prov=K({token:t,factory:t.\u0275fac});let e=t;return e})();function xn({ngZone:e,connectInZone:t}){return r=>t?new ee(n=>r.subscribe({next:s=>e.run(()=>n.next(s)),error:s=>e.run(()=>n.error(s)),complete:()=>e.run(()=>n.complete())})):r}var Qr=new M("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function es(e,t){return!!e||t.monitor!==jn}function ts(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Gn(e={}){return le([Kn,ke,On,{provide:bn,useValue:e},{provide:Qr,deps:[ut,Ae],useFactory:es},{provide:ut,useFactory:ts},{provide:Ae,deps:[bn],useFactory:Gr},{provide:Xt,deps:[On],useFactory:ns},{provide:Zt,useExisting:ke}])}function ns(e){return e.state}tn.production&&void 0;Nt(en,{providers:[{provide:Ft,useClass:jt},Bt(),Rt(qt),Jt({calculator:Tn}),Gn({name:"Stridemate",maxAge:25,logOnly:!Pt(),autoPause:!0,trace:!0,traceLimit:25}),cn(Ye)]}).catch(e=>console.error(e));
