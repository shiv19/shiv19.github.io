import{$ as I,$a as R,$b as Q1,Aa as Z,Ab as B2,Ba as J,Ca as _,Da as y,Ea as h1,Fa as F,Ga as w1,Ha as p1,Ia as p,Ja as d,Ka as d1,L as s1,Nb as W,O as A,Oa as E,Pa as D,Pb as M,Q as V,Qa as m1,Qb as F1,R as n1,Ra as x1,Rb as E1,Sa as u1,Sb as D1,T as e1,Ta as O,U as x,V as u,Vb as R1,Wb as U1,Xb as $1,Y as S,Ya as M1,Yb as N1,Z as l1,Za as z1,Zb as K1,_a as k1,_b as W1,ac as G1,ba as c,bc as X1,ca as G,cb as f1,cc as Y1,da as P,dc as Z1,ea as h,eb as U,ec as J1,fa as g,fb as B1,fc as o2,ga as X,gb as C1,gc as t2,ha as c1,hb as q,hc as a2,ia as b,ib as L1,ic as i2,ja as e,jb as H1,jc as s2,ka as l,kb as V1,kc as n2,la as B,lb as A1,lc as Q,ma as C,mb as y1,na as L,nb as S1,oa as k,ob as j1,pa as w,pb as $,qa as v,qb as _1,ra as r1,rb as O1,sa as v1,sb as b1,ta as g1,tb as N,ua as T,va as r,vb as T1,wa as z,wb as q1,xa as H,xb as I1,ya as j,yb as P1,za as Y,zb as K}from"./chunk-HKVJZSKV.js";import"./chunk-LQIEJ42F.js";import"./chunk-3LBDOKJT.js";import"./chunk-IUY2474Y.js";import"./chunk-UXRUJSTR.js";import"./chunk-G3CV3VGG.js";import"./chunk-6ELOQLIR.js";import"./chunk-45MY3PPL.js";import"./chunk-DC3ROQRI.js";import"./chunk-4U6PRYVA.js";import"./chunk-GHS4QXHZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as f2}from"./chunk-IBA7VTSM.js";var j2=f2(B2(),1);var o1,C2=function(){if(typeof window>"u")return new Map;if(!o1){var o=window;o.Ionicons=o.Ionicons||{},o1=o.Ionicons.map=o.Ionicons.map||new Map}return o1},t1=function(o){Object.keys(o).forEach(function(s){e2(s,o[s]);var t=s.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();s!==t&&e2(t,o[s])})},e2=function(o,s){var t=C2(),a=t.get(o);a===void 0?t.set(o,s):a!==s&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(o,'". Ensure that multiple icons are not mapped to the same icon name.'))};var l2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>";var c2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>";var r2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M416 80a48.05 48.05 0 00-48-48H144a48.05 48.05 0 00-48 48v352a48.05 48.05 0 0048 48h224a48.05 48.05 0 0048-48zM168 432a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm88 160a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm0-80a24 24 0 1124-24 24 24 0 01-24 24zm112 136a24 24 0 01-48 0v-80a24 24 0 0148 0zm-24-136a24 24 0 1124-24 24 24 0 01-24 24zm19.31-100.69A16 16 0 01352 176H160a16 16 0 01-16-16V96a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-4.69 11.31z'/></svg>",v2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><rect x='112' y='48' width='288' height='416' rx='32' ry='32' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M160.01 112H352v64H160.01z' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='168' cy='248' r='24'/><circle cx='256' cy='248' r='24'/><circle cx='344' cy='248' r='24'/><circle cx='168' cy='328' r='24'/><circle cx='256' cy='328' r='24'/><circle cx='168' cy='408' r='24'/><circle cx='256' cy='408' r='24'/><rect x='320' y='304' width='48' height='128' rx='24' ry='24'/></svg>";var g2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M136 104l120 104 120-104M136 408l120-104 120 104' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var h2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";var w2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M277.42 247a24.68 24.68 0 00-4.08-5.47L255 223.44a21.63 21.63 0 00-6.56-4.57 20.93 20.93 0 00-23.28 4.27c-6.36 6.26-18 17.68-39 38.43C146 301.3 71.43 367.89 37.71 396.29a16 16 0 00-1.09 23.54l39 39.43a16.13 16.13 0 0023.67-.89c29.24-34.37 96.3-109 136-148.23 20.39-20.06 31.82-31.58 38.29-37.94a21.76 21.76 0 003.84-25.2zM478.43 201l-34.31-34a5.44 5.44 0 00-4-1.59 5.59 5.59 0 00-4 1.59h0a11.41 11.41 0 01-9.55 3.27c-4.48-.49-9.25-1.88-12.33-4.86-7-6.86 1.09-20.36-5.07-29a242.88 242.88 0 00-23.08-26.72c-7.06-7-34.81-33.47-81.55-52.53a123.79 123.79 0 00-47-9.24c-26.35 0-46.61 11.76-54 18.51-5.88 5.32-12 13.77-12 13.77a91.29 91.29 0 0110.81-3.2 79.53 79.53 0 0123.28-1.49C241.19 76.8 259.94 84.1 270 92c16.21 13 23.18 30.39 24.27 52.83.8 16.69-15.23 37.76-30.44 54.94a7.85 7.85 0 00.4 10.83l21.24 21.23a8 8 0 0011.14.1c13.93-13.51 31.09-28.47 40.82-34.46s17.58-7.68 21.35-8.09a35.71 35.71 0 0121.3 4.62 13.65 13.65 0 013.08 2.38c6.46 6.56 6.07 17.28-.5 23.74l-2 1.89a5.5 5.5 0 000 7.84l34.31 34a5.5 5.5 0 004 1.58 5.65 5.65 0 004-1.58L478.43 209a5.82 5.82 0 000-8z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var p2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 448a32 32 0 01-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 009.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64.54 54.21-18.63 104.26-58.61 153-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 01-18 5.56z'/></svg>";var d2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>";var m2="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 112a80 80 0 00-160 0v96' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><rect x='96' y='208' width='320' height='272' rx='48' ry='48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var H2=o=>({"grid-template-columns":o}),V2=o=>({"clear-button":o});function A2(o,s){if(o&1){let t=k();e(0,"button",4),w("mousedown",function(){let i=x(t).$implicit,n=v(2);return u(i==="C"?n.clearTapped():n.inputTapped(i))}),r(1),l()}if(o&2){let t=s.$implicit;g("ngClass",y(2,V2,t==="C")),c(),H(" ",t," ")}}function y2(o,s){if(o&1&&(e(0,"div",2),h(1,A2,2,4,"button",3),l()),o&2){let t=s.$implicit;c(),g("ngForOf",t)}}var x2=(()=>{let s=class s{constructor(){this.clear=new S,this.inputChange=new S,this.buttonRows=[]}clearTapped(){this.clear.emit()}inputTapped(a){this.inputChange.emit(a)}getGridTemplateColumns(){var a;return`repeat(${((a=this.buttonRows[0])==null?void 0:a.length)||1}, 1fr)`}touchStart(a,i){a.preventDefault(),console.log("touchStart",a,i)}touchEnd(a,i){a.preventDefault(),console.log("touchEnd",a,i)}touchMove(a,i){a.preventDefault(),console.log("touchMove",a,i)}touchCancel(a,i){a.preventDefault(),console.log("touchCancel",a,i)}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=V({type:s,selectors:[["app-calculator-input"]],inputs:{buttonRows:"buttonRows"},outputs:{clear:"clear",inputChange:"inputChange"},standalone:!0,features:[_],decls:2,vars:4,consts:[[1,"grid","gap-[6px]",3,"ngStyle"],["class","contents",4,"ngFor","ngForOf"],[1,"contents"],[3,"ngClass","mousedown",4,"ngFor","ngForOf"],[3,"mousedown","ngClass"]],template:function(i,n){i&1&&(e(0,"div",0),h(1,y2,2,1,"div",1),l()),i&2&&(g("ngStyle",y(2,H2,n.getGridTemplateColumns())),c(),g("ngForOf",n.buttonRows))},dependencies:[O,E,D,x1],styles:["button[_ngcontent-%COMP%]{height:2.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(147 197 253 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(212 96 60 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(217 91 50 / var(--tw-bg-opacity, 1))}}.clear-button[_ngcontent-%COMP%]{height:2.5rem;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(252 165 165 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.clear-button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(360 94 70 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.clear-button[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.clear-button[_ngcontent-%COMP%]:active{--tw-bg-opacity: 1;background-color:hsl(360 84 40 / var(--tw-bg-opacity, 1))}}"]});let o=s;return o})();var u2=(()=>{let s=class s{constructor(a,i){this.el=a,this._zone=i,this.updateChange=new S(!0),this.chartInstance=new S}ngOnChanges(a){var n;let i=(n=a.update)==null?void 0:n.currentValue;(a.options||i)&&(this.wrappedUpdateOrCreateChart(),i&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){var a;(a=this.chart)!=null&&a.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}};s.\u0275fac=function(i){return new(i||s)(G(I),G(l1))},s.\u0275cmp=V({type:s,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[e1],decls:0,vars:0,template:function(i,n){},encapsulation:2});let o=s;return o})(),M2=(()=>{let s=class s{};s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=n1({type:s}),s.\u0275inj=s1({});let o=s;return o})();var z2=(()=>{let s=class s{constructor(){this.modalCtrl=A(N),this.toastCtrl=A(T1),this.store=A(W),this.heatAdjustment=this.store.selectSignal(Q),this.temperature="",this.dewPoint="",this.temperatureType="c",this.applyDisabled=P(!0)}fToC(a){return((a-32)*5/9).toFixed(1).replace(/\.0$/,"")}cToF(a){return(a*9/5+32).toFixed(1).replace(/\.0$/,"")}ngAfterViewInit(){this.temperature=this.heatAdjustment().temperature,this.dewPoint=this.heatAdjustment().dewPoint,this.temperatureType=this.heatAdjustment().temperatureType,this.checkInput()}dismiss(){this.modalCtrl.dismiss()}applyAdjustment(){this.modalCtrl.dismiss({temperatureType:this.temperatureType,temperature:this.temperature,dewPoint:this.dewPoint})}onClearAdjustment(){this.modalCtrl.dismiss({temperatureType:"c",temperature:"",dewPoint:""})}temperatureTypeChanged(a){this.temperatureType=a.detail.value,this.temperatureType==="f"?(this.temperature=this.cToF(Number(this.temperature)),this.dewPoint=this.cToF(Number(this.dewPoint))):(this.temperature=this.fToC(Number(this.temperature)),this.dewPoint=this.fToC(Number(this.dewPoint)))}async checkInput(){if(!Number(this.temperature)||!Number(this.dewPoint))return;let a=this.temperatureType==="f"?Number(this.temperature):Number(this.temperature)*9/5+32,i=this.temperatureType==="f"?Number(this.dewPoint):Number(this.dewPoint)*9/5+32,n=a+i>180;this.applyDisabled.set(n),n&&(await this.toastCtrl.create({message:"Heat Index is too high, running not recommended",duration:5e3,color:"danger",position:"top"})).present()}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=V({type:s,selectors:[["app-heat-adjustment-modal"]],standalone:!0,features:[_],decls:22,vars:4,consts:[["slot","end"],[3,"click"],[1,"ion-padding"],[1,"flex","flex-col","gap-4"],["href","https://maximumperformancerunning.blogspot.com/2013/07/temperature-dew-point.html","target","_blank",1,"text-blue-500","dark:text-blue-200","underline","underline-offset-2"],["color","primary","mode","ios",3,"ionChange","value"],["value","c"],["value","f"],["required","","mode","md","label","Temperature","label-placement","floating","inputmode","decimal","fill","solid",3,"ngModelChange","ionInput","ngModel"],["required","","mode","md","label","Dew Point","label-placement","floating","inputmode","decimal","fill","solid",3,"ngModelChange","ionInput","ngModel"],["fill","clear",1,"app-button","w-full","rounded-lg",3,"click","disabled"],[1,"text-blue-500","dark:text-blue-200","underline","underline-offset-2","text-center",3,"click"]],template:function(i,n){i&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),r(3,"Apply Heat Adjustment"),l(),e(4,"ion-buttons",0)(5,"ion-button",1),w("click",function(){return n.dismiss()}),r(6,"Close"),l()()()(),e(7,"ion-content",2)(8,"div",3)(9,"a",4),r(10,"How does this work?"),l(),e(11,"ion-segment",5),w("ionChange",function(f){return n.temperatureTypeChanged(f)}),e(12,"ion-segment-button",6),r(13," Celcius "),l(),e(14,"ion-segment-button",7),r(15," Faranheit "),l()(),e(16,"ion-input",8),J("ngModelChange",function(f){return Z(n.temperature,f)||(n.temperature=f),f}),w("ionInput",function(){return n.checkInput()}),l(),e(17,"ion-input",9),J("ngModelChange",function(f){return Z(n.dewPoint,f)||(n.dewPoint=f),f}),w("ionInput",function(){return n.checkInput()}),l(),e(18,"ion-button",10),w("click",function(){return n.applyAdjustment()}),r(19,"Apply"),l(),e(20,"p",11),w("click",function(){return n.onClearAdjustment()}),r(21,"Clear Adjustment"),l()()()),i&2&&(c(11),g("value",n.temperatureType),c(5),Y("ngModel",n.temperature),c(),Y("ngModel",n.dewPoint),c(),g("disabled",n.applyDisabled()))},dependencies:[O,K,$,R,M1,k1,z1,q,V1,O1,b1,B1,U,I1],encapsulation:2});let o=s;return o})();var _2=(o,s,t,a,i,n)=>({focusId:o,paceType:s,distance:t,distanceType:a,time:i,pace:n}),O2=(o,s,t,a,i,n,m,f)=>({inputType:o,distance:s,pace:t,time:a,distanceType:i,paceType:n,lockType:m,isInputCollapsed:f}),b2=(o,s)=>({splitsChartReady:o,splitsChartOptions:s}),T2=o=>({paceType:o}),i1=(o,s,t,a)=>({"border-transparent":o,"border-blue-300 dark:border-blue-500":s,"border-2":t,"border-0":a}),k2=o=>({"text-blue-500 dark:text-blue-300":o});function q2(o,s){o&1&&(C(0),e(1,"div",28),B(2,"ion-spinner",29),l(),L())}function I2(o,s){if(o&1&&(C(0),B(1,"highcharts-chart",30),L()),o&2){let t=v().ngIf,a=v(2);c(),g("Highcharts",a.Highcharts)("options",t.splitsChartOptions)("callbackFunction",a.chartCallback)}}function P2(o,s){if(o&1&&(C(0),h(1,q2,3,0,"ng-container",12)(2,I2,2,3,"ng-container",12),L()),o&2){let t=s.ngIf;c(),g("ngIf",!t.splitsChartReady),c(),g("ngIf",t.splitsChartReady&&t.splitsChartOptions)}}function F2(o,s){if(o&1){let t=k();e(0,"div",4)(1,"ion-grid")(2,"ion-row")(3,"ion-col"),h(4,P2,3,2,"ng-container",12),p(5,"async"),p(6,"async"),l()(),e(7,"ion-row")(8,"ion-col",23)(9,"ion-range",24),p(10,"async"),w("ionChange",function(i){x(t);let n=v();return u(n.handleSplitsSliderValueChange(i))}),e(11,"ion-label",25),r(12,"Negative"),l(),e(13,"ion-label",26),r(14,"Positive"),l()()()(),e(15,"ion-row")(16,"ion-col")(17,"p",27),r(18,"Lap"),l()(),e(19,"ion-col")(20,"p",27),r(21,"Distance"),l()(),e(22,"ion-col")(23,"p",27),r(24,"Pace"),l()(),e(25,"ion-col")(26,"p",27),r(27,"Time"),l()(),e(28,"ion-col")(29,"p",27),r(30,"Cumulative"),l()()()()()}if(o&2){let t=v();c(4),g("ngIf",h1(13,b2,d(5,7,t.splitsChartReady$),d(6,9,t.splitsChartOptions$))),c(5),g("ticks",!0)("snaps",!0)("min",-.2)("max",.2)("step",.05)("value",d(10,11,t.splitsSliderValue$))}}function E2(o,s){if(o&1&&(e(0,"div",31)(1,"p",32),r(2," *Pace adjusted for heat at "),e(3,"span"),r(4),l()()()),o&2){let t=v();c(4),j(" ",t.heatAdjustment().temperature+"\xB0"+t.heatAdjustment().temperatureType.toUpperCase()," & ",t.heatAdjustment().dewPoint+"\xB0"+t.heatAdjustment().temperatureType.toUpperCase()," dewpoint ")}}function D2(o,s){if(o&1){let t=k();C(0),e(1,"div",34)(2,"div")(3,"p",35),w("click",function(){x(t);let i=v().$implicit,n=v();return u(n.setDistance(i.distanceInMeters))}),r(4),l()(),e(5,"div")(6,"p",36),r(7),l()(),e(8,"div")(9,"p",36),r(10),l()(),e(11,"ion-button",37),w("click",function(){x(t);let i=v().$implicit,n=v();return u(n.setFocus(i.id))}),B(12,"ion-icon",38),l()(),L()}if(o&2){let t=s.ngIf,a=v().$implicit;c(4),H(" ",a.type," "),c(3),z(a.time),c(3),j("",a.pace," ","/"+(t.paceType==="m400"?"400m":t.paceType),"")}}function R2(o,s){if(o&1&&(C(0),e(1,"div",33),h(2,D2,13,4,"ng-container",12),p(3,"async"),l(),L()),o&2){let t=v();c(2),g("ngIf",y(3,T2,d(3,1,t.paceType$)))}}function U2(o,s){if(o&1&&(e(0,"ion-row",40)(1,"ion-col")(2,"p",41),r(3),l()(),e(4,"ion-col")(5,"p",42),r(6),l()(),e(7,"ion-col")(8,"p",42),r(9),l()(),e(10,"ion-col")(11,"p",42),r(12),l()(),e(13,"ion-col")(14,"p",42),r(15),l()()()),o&2){let t=s.$implicit;c(3),z(t.split),c(3),z(t.splitDistance),c(3),z(t.splitPace),c(3),z(t.splitTime),c(3),z(t.totalDistance)}}function $2(o,s){if(o&1&&(C(0),e(1,"ion-grid"),h(2,U2,16,5,"ion-row",39),l(),L()),o&2){let t=s.ngIf;c(2),g("ngForOf",t)}}function N2(o,s){if(o&1&&(h(0,$2,3,1,"ng-container",12),p(1,"async")),o&2){let t=v();g("ngIf",d(1,1,t.splits$))}}function K2(o,s){if(o&1&&(e(0,"ion-label")(1,"h2"),r(2),l(),e(3,"h1"),r(4),l(),e(5,"h2"),r(6),l()()),o&2){let t=v().ngIf,a=v(2);c(2),z(t[a.focusId].type),c(2),z(t[a.focusId].time),c(2),j("",t[a.focusId].pace,"","/"+(a.paceType==="m400"?"400m":a.paceType),"")}}function W2(o,s){if(o&1&&(e(0,"ion-label")(1,"h2"),r(2),l(),e(3,"h1"),r(4),l(),e(5,"h2"),r(6),l()()),o&2){let t=v(3);c(2),j("",t.distance,"",t.distanceType,""),c(2),z(t.time),c(2),j("",t.pace,"","/"+(t.paceType==="m400"?"400m":t.paceType),"")}}function Q2(o,s){o&1&&(e(0,"button",49),r(1," Splits Tools "),l())}function G2(o,s){if(o&1){let t=k();e(0,"ion-item",51),w("click",function(){let i=x(t).$implicit;v(2);let n=T(10),m=v(3);return n.dismiss(),u(m.useSplitsTool(i.command))}),e(1,"ion-label"),r(2),l()()}if(o&2){let t=s.$implicit;c(2),z(t.label)}}function X2(o,s){if(o&1&&(e(0,"ion-list",43),h(1,G2,3,1,"ion-item",50),l()),o&2){let t=v(4);c(),g("ngForOf",t.splitsToolsMap)}}function Y2(o,s){if(o&1){let t=k();C(0),e(1,"ion-item",43)(2,"ion-button",44),w("click",function(){x(t);let i=v(3);return u(i.setFocus(null))}),B(3,"ion-icon",45),l(),h(4,K2,7,4,"ion-label",46)(5,W2,7,5,"ng-template",null,0,d1)(7,Q2,2,0,"button",47),p(8,"async"),e(9,"ion-popover",48,1),h(11,X2,2,1,"ng-template"),l()(),L()}if(o&2){let t=T(6),a=v(2),i=v();c(4),g("ngIf",a.focusId!==-1&&a.focusId!==null)("ngIfElse",t),c(3),g("ngIf",d(8,3,i.isInputCollapsed$))}}function Z2(o,s){if(o&1&&(h(0,Y2,12,5,"ng-container",12),p(1,"async")),o&2){let t=v(2);g("ngIf",d(1,1,t.results$))}}function J2(o,s){o&1&&h(0,Z2,2,3,"ng-container"),o&2&&b(s.focusId!==null?0:-1)}function o0(o,s){if(o&1){let t=k();e(0,"ion-button",61),w("click",function(i){x(t);let n=v(2);return u(n.onLockTypeChange(i,"distance"))}),B(1,"ion-icon",62),l()}if(o&2){let t=v().ngIf;c(),g("name",t.lockType==="distance"?"lock":"lock-open")}}function t0(o,s){if(o&1){let t=k();e(0,"ion-button",61),w("click",function(i){x(t);let n=v(2);return u(n.onLockTypeChange(i,"time"))}),B(1,"ion-icon",62),l()}if(o&2){let t=v().ngIf;c(),g("name",t.lockType==="time"?"lock":"lock-open")}}function a0(o,s){if(o&1){let t=k();e(0,"ion-button",61),w("click",function(i){x(t);let n=v(2);return u(n.onLockTypeChange(i,"pace"))}),B(1,"ion-icon",62),l()}if(o&2){let t=v().ngIf;c(),g("name",t.lockType==="pace"?"lock":"lock-open")}}function i0(o,s){if(o&1){let t=k();C(0),e(1,"div",52)(2,"div",53),w("click",function(){x(t);let i=v();return u(i.onInputTypeChange("distance"))}),e(3,"ion-label",54),r(4),l(),e(5,"div",55)(6,"p",56),r(7),l(),e(8,"p",57),r(9),l()(),h(10,o0,2,1,"ion-button",58),l(),e(11,"div",53),w("click",function(){x(t);let i=v();return u(i.onInputTypeChange("time"))}),e(12,"ion-label",54),r(13),l(),e(14,"div",55)(15,"p",59),r(16),l()(),h(17,t0,2,1,"ion-button",58),l(),e(18,"div",53),w("click",function(){x(t);let i=v();return u(i.onInputTypeChange("pace"))}),e(19,"ion-label",54),r(20),l(),e(21,"div",55)(22,"p",59),r(23),l(),e(24,"p",60),r(25),l()(),h(26,a0,2,1,"ion-button",58),l()(),L()}if(o&2){let t=s.ngIf,a=v();c(),X("hidden",t.isInputCollapsed),c(),g("ngClass",F(18,i1,t.inputType!=="distance",t.inputType==="distance",a.isKeyboardShowing(),!a.isKeyboardShowing())),c(2),H(" ",t.inputType==="distance"&&a.isKeyboardShowing()?"Enter ":"","Distance "),c(2),g("ngClass",y(23,k2,a.highlightDistance())),c(),H(" ",t.distance||"0"," "),c(),g("ngClass",y(25,k2,a.highlightDistance())),c(),H(" ",t.distanceType," "),c(),g("ngIf",a.isKeyboardShowing()),c(),g("ngClass",F(27,i1,t.inputType!=="time",t.inputType==="time",a.isKeyboardShowing(),!a.isKeyboardShowing())),c(2),H(" ",t.inputType==="time"&&a.isKeyboardShowing()?"Enter ":"","Time "),c(3),z(t.time||"00:00:00"),c(),g("ngIf",a.isKeyboardShowing()),c(),g("ngClass",F(32,i1,t.inputType!=="pace",t.inputType==="pace",a.isKeyboardShowing(),!a.isKeyboardShowing())),c(2),H(" ",t.inputType==="pace"&&a.isKeyboardShowing()?"Enter ":"","Pace "),c(3),z(t.pace||"00:00"),c(2),z("/"+(t.paceType==="m400"?"400m":t.paceType)),c(),g("ngIf",a.isKeyboardShowing())}}function s0(o,s){if(o&1){let t=k();e(0,"ion-col",73)(1,"app-calculator-input",74),w("inputChange",function(i){x(t);let n=v(2);return u(n.onAdjustmentChange(i))}),l()()}if(o&2){let t=s.ngIf;c(),g("buttonRows",t)}}function n0(o,s){if(o&1){let t=k();e(0,"ion-item",51),w("click",function(){let i=x(t).$implicit;v(2);let n=T(12),m=v();return n.dismiss(),u(m.useDistanceTool(i.command))}),e(1,"ion-label"),r(2),l()()}if(o&2){let t=s.$implicit;c(2),z(t.label)}}function e0(o,s){if(o&1&&(e(0,"ion-list",43),h(1,n0,3,1,"ion-item",50),l()),o&2){let t=v(2);c(),g("ngForOf",t.distanceToolsMap)}}function l0(o,s){if(o&1){let t=k();e(0,"ion-item",51),w("click",function(){let i=x(t).$implicit;v(2);let n=T(19),m=v();return n.dismiss(),u(m.usePaceTool(i.command))}),e(1,"ion-label"),r(2),l()()}if(o&2){let t=s.$implicit;c(2),z(t.label)}}function c0(o,s){if(o&1&&(e(0,"ion-list",43),h(1,l0,3,1,"ion-item",50),l()),o&2){let t=v(2);c(),g("ngForOf",t.paceToolsMap)}}function r0(o,s){if(o&1){let t=k();e(0,"ion-row",15),h(1,s0,2,1,"ion-col",63),p(2,"async"),e(3,"ion-col",64)(4,"app-calculator-input",65),w("clear",function(){x(t);let i=v();return u(i.onClearInput())})("inputChange",function(i){x(t);let n=v();return u(n.onInputChange(i))}),l()(),e(5,"ion-col",66)(6,"div",67)(7,"button",68),r(8," Distance"),B(9,"br"),r(10,"Tools "),l(),e(11,"ion-popover",69,2),h(13,e0,2,1,"ng-template"),l(),e(14,"button",70),r(15," Pace"),B(16,"br"),r(17,"Tools "),l(),e(18,"ion-popover",71,3),h(20,c0,2,1,"ng-template"),l(),e(21,"button",72),w("click",function(){x(t);let i=v();return u(i.viewSplits())}),r(22," View"),B(23,"br"),r(24,"Splits "),l()()()()}if(o&2){let t=v();c(),g("ngIf",d(2,2,t.adjustmentButtons$)),c(3),g("buttonRows",t.inputButtons)}}var G0=(()=>{let s=class s{constructor(){this.store=A(W),this.modalCtrl=A(N),this.isDarkMode=!1,this.Highcharts=j2,this.chartCallback=function(a){a.update({plotOptions:{series:{point:{events:{click:function(i){}}}}}})},this.paceToolsMap=F1,this.distanceToolsMap=E1,this.splitsToolsMap=D1,this.distance$=this.store.select($1),this.distanceType$=this.store.select(N1),this.time$=this.store.select(K1),this.pace$=this.store.select(R1),this.paceType$=this.store.select(U1),this.results$=this.store.select(X1),this.lockType$=this.store.select(Q1),this.inputType$=this.store.select(G1),this.focusId$=this.store.select(W1),this.adjustmentButtons$=this.store.select(Y1),this.splits$=this.store.select(Z1),this.splitDistanceBy$=this.store.select(J1),this.isInputCollapsed$=this.store.select(o2),this.splitsChartOptions$=this.store.select(t2),this.splitsChartReady$=this.store.select(a2),this.splitsSliderValue$=this.store.select(i2),this.isKeyboardShowing=this.store.selectSignal(s2),this.overallCalculationMode=this.store.selectSignal(n2),this.heatAdjustment=this.store.selectSignal(Q),this.highlightDistance=P(!1),this.inputButtons=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","C"]],t1({arrowForward:c2,chevronCollapseOutline:g2,heart:p2,calculator:r2,calculatorOutline:v2,lockOpenOutline:m2,lockClosed:d2,hammerOutline:w2,arrowBackOutline:l2,chevronForwardOutline:h2,"keyboard-hide":"assets/keyboard_hide.svg","keyboard-show":"assets/keyboard_show.svg",lock:"assets/lock.svg","lock-open":"assets/lock_open.svg"})}ngOnInit(){this.handleColorSchemeChange()}handleColorSchemeChange(){let a=window.matchMedia("(prefers-color-scheme: dark)");this.store.dispatch(M.changeTheme({isDarkMode:a.matches})),a.addEventListener("change",i=>{this.store.dispatch(M.changeTheme({isDarkMode:i.matches}))})}trackById(a,i){return i.id}setFocus(a){var i,n;try{(n=(i=this.ionContent)==null?void 0:i.nativeElement)==null||n.scrollToTop()}catch{}this.store.dispatch(M.setFocus({focusId:a}))}setDistance(a){this.highlightDistance.set(!0),setTimeout(()=>{this.highlightDistance.set(!1)},200),this.store.dispatch(M.setDistance({distanceInMeters:a}))}onLockTypeChange(a,i){this.store.dispatch(M.changeLockType({lockType:i})),a.stopPropagation()}onAdjustmentChange(a){this.store.dispatch(M.adjustmentChanged({adjustment:a}))}onInputTypeChange(a){this.isKeyboardShowing()&&this.store.dispatch(M.changeInputType({inputType:a}))}onInputChange(a){this.store.dispatch(M.inputChanged({input:a}))}onClearInput(){this.store.dispatch(M.clearInput())}useDistanceTool(a){this.store.dispatch(M.useDistanceTool({command:a}))}async usePaceTool(a){if(a==="heatAdjust"){let i=await this.modalCtrl.create({component:z2});await i.present();let{data:n}=await i.onDidDismiss();n&&this.store.dispatch(M.applyHeatAdjustment({payload:{temperature:n.temperature,dewPoint:n.dewPoint,temperatureType:n.temperatureType}}))}else this.store.dispatch(M.usePaceTool({command:a}))}useSplitsTool(a){this.store.dispatch(M.useSplitsTool({command:a}))}viewSplits(){this.store.dispatch(M.setFocus({focusId:-1}))}handleSplitsSliderValueChange(a){this.store.dispatch(M.splitsSliderValueChanged({value:a.detail.value}))}onCalculationModeChange(a){this.store.dispatch(M.setOverallCalculationMode({mode:a.detail.value==="useRacePredictor"?"race":"pace"}))}toggleKeyboard(){this.store.dispatch(M.toggleKeyboard())}};s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=V({type:s,selectors:[["app-calculator"]],viewQuery:function(i,n){if(i&1&&r1(q,5,I),i&2){let m;v1(m=g1())&&(n.ionContent=m.first)}},standalone:!0,features:[_],decls:57,vars:68,consts:[["customDistanceTemplate",""],["splitsPopover",""],["distancePopover",""],["pacePopover",""],[1,"sticky","top-0","z-10","mx-auto","max-w-4xl","bg-gray-100","dark:bg-[#121212]"],[1,"mx-auto","max-w-4xl"],[1,"bg-gray-100","p-2","dark:bg-[#121212]"],[1,"sticky","top-2","z-10","grid","grid-cols-4","rounded-lg","bg-white","p-4","py-2","pr-0","text-base","text-[#121212]","dark:bg-[hsl(0,0%,30%)]","dark:text-white"],[1,"font-xs","font-semibold"],[1,"font-xs","text-center","font-semibold"],["class","col-span-4",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"dark:bg-[#313131]"],["class","ion-align-items-center",4,"ngIf"],[1,"ion-align-items-center"],["size","10"],["color","primary","mode","ios",3,"ionChange","value"],["value","useSteadyPace"],["value","useRacePredictor"],["size","2"],["fill","clear","shape","round",1,"mx-auto","flex","w-8","rounded-full","bg-blue-300","text-xs","font-semibold","text-black","dark:bg-blue-500","dark:text-white",3,"click"],["slot","icon-only",1,"text-black","dark:text-white",3,"name"],["size","10","offset","1",1,"ion-no-margin"],["mode","ios",3,"ionChange","ticks","snaps","min","max","step","value"],["slot","start"],["slot","end"],[1,"text-center","text-xs","font-semibold"],[1,"items-center","justify-center",2,"width","100%","height","300px","display","flex"],["name","crescent",1,"text-center"],[2,"width","100%","height","300px","display","block",3,"Highcharts","options","callbackFunction"],[1,"col-span-4"],[1,"pt-1","text-xs","font-light"],[1,"calculation-card","m-1","rounded-md","p-4","py-1","pr-0"],[1,"grid","grid-cols-4","items-center","text-base"],[1,"cursor-pointer","font-normal","underline","decoration-blue-500","underline-offset-2","active:text-blue-500","dark:decoration-blue-300","dark:active:text-blue-300",3,"click"],[1,"font-normal"],["fill","clear","shape","round",1,"mx-auto","w-8","rounded-full","bg-blue-300","text-xs","font-semibold","text-black","dark:bg-blue-500","dark:text-white",3,"click"],["slot","icon-only","name","arrow-forward"],["class","splits-row",4,"ngFor","ngForOf"],[1,"splits-row"],[1,"text-center"],[1,"text-center","text-sm"],["mode","md"],["size","large","shape","round","slot","start","fill","clear",1,"app-button","h-10","rounded-full",3,"click"],["slot","icon-only","icon","arrow-back-outline",1,"text-black","dark:text-white"],[4,"ngIf","ngIfElse"],["class","app-button w-1/2 rounded-2xl p-2 text-center text-sm","id","splits-popover-trigger",4,"ngIf"],["trigger","splits-popover-trigger"],["id","splits-popover-trigger",1,"app-button","w-1/2","rounded-2xl","p-2","text-center","text-sm"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[1,"flex","flex-row","justify-around","rounded-t-md","px-2","pt-2","text-xl","dark:bg-[#313131]"],[1,"mx-1","flex","w-1/3","flex-col","rounded-2xl","pt-2",3,"click","ngClass"],[1,"text-center","text-sm","font-semibold"],[1,"mb-1","flex","flex-row","justify-center"],[1,"text-right","dark:text-white",3,"ngClass"],[1,"pl-2",3,"ngClass"],["mode","md","style","--ripple-color: transparent","class","mb-2 mt-0 block","size","small","fill","clear",3,"click",4,"ngIf"],[1,"text-right","dark:text-white"],[1,"pl-2"],["mode","md","size","small","fill","clear",1,"mb-2","mt-0","block",2,"--ripple-color","transparent",3,"click"],[1,"text-blue-500",3,"name"],["size","4",4,"ngIf"],["size","5"],[3,"clear","inputChange","buttonRows"],["size","3",1,"ion-align-self-stretch"],[1,"flex","h-full","flex-col","justify-around"],["id","distance-tools-trigger",1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm"],["trigger","distance-tools-trigger"],["id","pace-tools-trigger",1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm"],["trigger","pace-tools-trigger"],[1,"app-button","w-full","rounded-2xl","p-2","text-center","text-sm",3,"click"],["size","4"],[3,"inputChange","buttonRows"]],template:function(i,n){if(i&1&&(e(0,"ion-content"),h(1,F2,31,16,"div",4),p(2,"async"),e(3,"div",5)(4,"div",6),p(5,"async"),e(6,"div",7)(7,"div")(8,"h5",8),r(9,"Distance"),l()(),e(10,"div")(11,"h5",8),r(12,"Time"),l()(),e(13,"div")(14,"h5",8),r(15,"Pace"),l()(),e(16,"div")(17,"h5",9),r(18,"Splits"),l()(),h(19,E2,5,2,"div",10),l(),h(20,R2,4,5,"ng-container",11),p(21,"async"),l(),h(22,N2,2,3,"ng-container"),p(23,"async"),l()(),e(24,"ion-footer")(25,"div",5),h(26,J2,1,1),p(27,"async"),p(28,"async"),p(29,"async"),p(30,"async"),p(31,"async"),p(32,"async"),h(33,i0,27,37,"ng-container",12),p(34,"async"),p(35,"async"),p(36,"async"),p(37,"async"),p(38,"async"),p(39,"async"),p(40,"async"),p(41,"async"),e(42,"ion-grid",13),p(43,"async"),h(44,r0,25,4,"ion-row",14),e(45,"ion-row",15)(46,"ion-col",16)(47,"ion-segment",17),w("ionChange",function(f){return n.onCalculationModeChange(f)}),e(48,"ion-segment-button",18)(49,"ion-label"),r(50,"Use Steady Pace"),l()(),e(51,"ion-segment-button",19)(52,"ion-label"),r(53,"Use Race Predictor"),l()()()(),e(54,"ion-col",20)(55,"ion-button",21),w("click",function(){return n.toggleKeyboard()}),B(56,"ion-icon",22),l()()()()()()),i&2){let m;c(),b(d(2,14,n.focusId$)!==null?1:-1),c(3),c1(d(5,16,n.focusId$)!==null?"hidden":""),c(15),g("ngIf",+n.heatAdjustment().temperature&&+n.heatAdjustment().dewPoint),c(),g("ngForOf",d(21,18,n.results$))("ngForTrackBy",n.trackById),c(2),b(d(23,20,n.focusId$)!==null?22:-1),c(4),b((m=w1(52,_2,d(27,22,n.focusId$),d(28,24,n.paceType$),d(29,26,n.distance$),d(30,28,n.distanceType$),d(31,30,n.time$),d(32,32,n.pace$)))?26:-1,m),c(7),g("ngIf",p1(59,O2,d(34,34,n.inputType$),d(35,36,n.distance$),d(36,38,n.pace$),d(37,40,n.time$),d(38,42,n.distanceType$),d(39,44,n.paceType$),d(40,46,n.lockType$),d(41,48,n.isInputCollapsed$))),c(9),X("hidden",d(43,50,n.isInputCollapsed$)),c(2),g("ngIf",n.isKeyboardShowing()),c(3),g("value",n.overallCalculationMode()==="race"?"useRacePredictor":"useSteadyPace"),c(9),g("name",n.isKeyboardShowing()?"keyboard-hide":"keyboard-show")}},dependencies:[K,$,P1,_1,x2,O,E,D,m1,u1,R,U,C1,q,L1,H1,q1,A1,y1,S1,j1,f1,M2,u2],styles:["ion-range[_ngcontent-%COMP%]::part(tick){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(tick-active){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(bar){background:var(--bar-background-active)}ion-range[_ngcontent-%COMP%]::part(bar-active){background:var(--bar-background-active)}.calculation-card[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.calculation-card[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}.splits-row[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.splits-row[_ngcontent-%COMP%]:nth-child(odd){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}"]});let o=s;return o})();export{G0 as CalculatorPage};
