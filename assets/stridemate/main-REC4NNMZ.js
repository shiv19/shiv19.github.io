import{$a as Jt,A as ue,B as L,C as O,D as I,E,F as bt,G as Ot,Ha as $t,I as fe,Ka as Lt,L as xt,M as le,Ma as Bt,Na as Ut,Oa as Re,Pa as pe,Q as Mt,Qa as Kt,Ra as Gt,Sa as Vt,Ta as Ht,Ua as Wt,Va as Fe,Wa as de,X as wt,Xa as Zt,Y as At,Ya as J,Z as Ct,Za as Xt,_a as w,a as ee,ab as d,b as lt,c as pt,d as dt,e as ht,f as mt,g as v,ga as kt,h as yt,i as D,ib as Yt,j as ke,ja as Dt,k as Z,l as N,m as oe,n as De,o as gt,oa as Pt,p as ce,pa as Rt,q as _t,qa as Ft,r as Et,s as $,sa as Nt,t as Pe,ta as jt,u as It,ua as zt,v as St,w as Tt,x as vt,y as X,z as ae}from"./chunk-MOIIYHOY.js";import"./chunk-CLKWL77P.js";import"./chunk-ZSWN6ECK.js";import"./chunk-32JKJLI3.js";import"./chunk-JL6QYJ5R.js";import"./chunk-LH2TJ5YN.js";import"./chunk-LOYOVEUZ.js";import"./chunk-4U6PRYVA.js";import"./chunk-ECTO52DW.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as b,b as z,c as Gn}from"./chunk-IWAB2FFJ.js";var qt=[{path:"",loadComponent:()=>import("./chunk-MC5J75DH.js").then(e=>e.CalculatorPage)}];var en=(()=>{let t=class t{constructor(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=Ot({type:t,selectors:[["app-root"]],standalone:!0,features:[kt],decls:2,vars:0,template:function(i,s){i&1&&(wt(0,"ion-app"),Ct(1,"ion-router-outlet"),At())},dependencies:[zt,jt],encapsulation:2});let e=t;return e})();var tn={production:!0};var Zn={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},he="__@ngrx/effects_create__";function B(e,t={}){let r=t.functional?e:e(),n=b(b({},Zn),t);return Object.defineProperty(r,he,{value:n}),r}function Xn(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(he)?e[n][he].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][he];return b({propertyName:n},i)})}function Jn(e){return Xn(e)}function nn(e){return Object.getPrototypeOf(e)}function Yn(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function rn(e){return typeof e=="function"}function qn(e){return e.filter(rn)}function Qn(e,t,r){let n=nn(e),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=Jn(e).map(({propertyName:c,dispatch:l,useEffectsErrorHandler:f})=>{let u=typeof e[c]=="function"?e[c]():e[c],a=f?r(u,t):u;return l===!1?a.pipe(_t()):a.pipe(It()).pipe(D(S=>({effect:e[c],notification:S,propertyName:c,sourceName:s,sourceInstance:e})))});return Z(...o)}var er=10;function sn(e,t,r=er){return e.pipe(oe(n=>(t&&t.handleError(n),r<=1?e:sn(e,t,r-1))))}var U=(()=>{let t=class t extends ee{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}};t.\u0275fac=function(i){return new(i||t)(I(de))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function K(...e){return N(t=>e.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var di=new O("@ngrx/effects Internal Root Guard"),hi=new O("@ngrx/effects User Provided Effects"),mi=new O("@ngrx/effects Internal Root Effects"),yi=new O("@ngrx/effects Internal Root Effects Instances"),gi=new O("@ngrx/effects Internal Feature Effects"),_i=new O("@ngrx/effects Internal Feature Effects Instance Groups"),tr=new O("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>sn}),nr="@ngrx/effects/init",rr=Ut(nr);function ir(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!sr(r)&&t.handleError(new Error(`Effect ${or(e)} dispatched an invalid action: ${cr(r)}`))}}function sr(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function or({propertyName:e,sourceInstance:t,sourceName:r}){let n=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function cr(e){try{return JSON.stringify(e)}catch{return e}}var ar="ngrxOnIdentifyEffects";function ur(e){return Ne(e,ar)}var fr="ngrxOnRunEffects";function lr(e){return Ne(e,fr)}var pr="ngrxOnInitEffects";function dr(e){return Ne(e,pr)}function Ne(e,t){return e&&t in e&&typeof e[t]=="function"}var on=(()=>{let t=class t extends lt{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(Pe(n=>Yn(n)?nn(n):n),ke(n=>n.pipe(Pe(hr))),ke(n=>{let i=n.pipe($(o=>mr(this.errorHandler,this.effectsErrorHandler)(o)),D(o=>(ir(o,this.errorHandler),o.notification)),N(o=>o.kind==="N"&&o.value!=null),Et()),s=n.pipe(ce(1),N(dr),D(o=>o.ngrxOnInitEffects()));return Z(i,s)}))}};t.\u0275fac=function(i){return new(i||t)(I(le),I(tr))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function hr(e){return ur(e)?e.ngrxOnIdentifyEffects():""}function mr(e,t){return r=>{let n=Qn(r,e,t);return lr(r)?r.ngrxOnRunEffects(n):n}}var yr=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(I(on),I(J))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function cn(...e){let t=e.flat(),r=qn(t);return fe([r,{provide:bt,multi:!0,useValue:()=>{E(Gt),E(Vt,{optional:!0});let n=E(yr),i=E(on),s=!n.isStarted;s&&n.start();for(let o of t){let c=rn(o)?E(o):o;i.addEffects(c)}s&&E(J).dispatch(rr())}}])}var A=function(e){return e[e.km=1e3]="km",e[e.mi=1609.344]="mi",e[e.m400=400]="m400",e}(A||{});var je=()=>[{type:"400m",distanceInMeters:400,time:"00:00:00"},{type:"800m",distanceInMeters:800,time:"00:00:00"},{type:"1km",distanceInMeters:1e3,time:"00:00:00"},{type:"1mi",distanceInMeters:1609.344,time:"00:00:00"},{type:"5km",distanceInMeters:5e3,time:"00:00:00"},{type:"10km",distanceInMeters:1e4,time:"00:00:00"},{type:"15km",distanceInMeters:15e3,time:"00:00:00"},{type:"20km",distanceInMeters:2e4,time:"00:00:00"},{type:"Half Marathon",distanceInMeters:21097.5,time:"00:00:00"},{type:"25km",distanceInMeters:25e3,time:"00:00:00"},{type:"30km",distanceInMeters:3e4,time:"00:00:00"},{type:"Marathon",distanceInMeters:42195,time:"00:00:00"},{type:"50km",distanceInMeters:5e4,time:"00:00:00"},{type:"50mi",distanceInMeters:80467.2,time:"00:00:00"},{type:"100km",distanceInMeters:1e5,time:"00:00:00"},{type:"100mi",distanceInMeters:160934.4,time:"00:00:00"}].map((e,t)=>(e.id=t,e));function gr(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function me(e){let t=(e==null?void 0:e.split(":").map(Number).reverse())||[],[r,n,i]=t,s=(r||0)/60,o=n||0,c=(i||0)*60;return s+o+c}function an(e){let t=Math.floor(e/60),r=Math.floor(e%60),n=e%1,i=Math.round(n*60),s=t?`${t}:`:"",o=`${String(r).padStart(2,"0")}:`,c=`${String(i).padStart(2,"0")}`;i===60&&(o=`${String(Number(o.slice(0,-1))+1).padStart(2,"0")}:`,c="00"),Number(o.slice(0,-1))===60&&(s=`${String(Number(s.slice(0,-1))+1).padStart(2,"0")}:`,o="00:");let l=`${s}${o}${c}`;return l.includes("NaN")||l.includes("-")?"00:00":l}function ze(e,t,r,n){let i=me(r),s={km:1,mi:1.60934},o={km:1,mi:1.60934,m400:.4};if(!s[t])throw new Error("Invalid distance unit");if(!o[n])throw new Error("Invalid pace unit");let c=parseFloat(e)*s[t],f=i/c*o[n];return an(f)}function ye(e,t,r,n){let i=me(r),s={km:1,mi:1.60934,m400:.4},o={km:1,mi:1.60934};if(!s[t])throw new Error("Invalid pace unit");if(!o[n])throw new Error("Invalid distance unit");let c=me(e)/s[t],f=i/c*o[n];return f===1/0?"0":gr(f,2)+""}function te(e,t,r,n){let i={km:1,mi:1.60934,m400:.4},s={km:1,mi:1.60934};if(!i[n])throw new Error("Invalid pace unit");if(!s[t])throw new Error("Invalid distance unit");let o=me(r)/i[n],c=parseFloat(e)*s[t],l=o*c;return an(l)}var hn=Symbol.for("immer-nothing"),un=Symbol.for("immer-draftable"),x=Symbol.for("immer-state");function P(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Y=Object.getPrototypeOf;function q(e){return!!e&&!!e[x]}function V(e){var t;return e?mn(e)||Array.isArray(e)||!!e[un]||!!((t=e.constructor)!=null&&t[un])||Se(e)||Te(e):!1}var _r=Object.prototype.constructor.toString();function mn(e){if(!e||typeof e!="object")return!1;let t=Y(e);if(t===null)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===_r}function ge(e,t){Ie(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ie(e){let t=e[x];return t?t.type_:Array.isArray(e)?1:Se(e)?2:Te(e)?3:0}function Be(e,t){return Ie(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yn(e,t,r){let n=Ie(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Er(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Se(e){return e instanceof Map}function Te(e){return e instanceof Set}function G(e){return e.copy_||e.base_}function Ue(e,t){if(Se(e))return new Map(e);if(Te(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&mn(e))return Y(e)?b({},e):Object.assign(Object.create(null),e);let r=Object.getOwnPropertyDescriptors(e);delete r[x];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){let s=n[i],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Y(e),r)}function We(e,t=!1){return ve(e)||q(e)||!V(e)||(Ie(e)>1&&(e.set=e.add=e.clear=e.delete=Ir),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>We(n,!0))),e}function Ir(){P(2)}function ve(e){return Object.isFrozen(e)}var Sr={};function H(e){let t=Sr[e];return t||P(0,e),t}var ne;function gn(){return ne}function Tr(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fn(e,t){t&&(H("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ke(e){Ge(e),e.drafts_.forEach(vr),e.drafts_=null}function Ge(e){e===ne&&(ne=e.parent_)}function ln(e){return ne=Tr(ne,e)}function vr(e){let t=e[x];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pn(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return e!==void 0&&e!==r?(r[x].modified_&&(Ke(t),P(4)),V(e)&&(e=_e(t,e),t.parent_||Ee(t,e)),t.patches_&&H("Patches").generateReplacementPatches_(r[x].base_,e,t.patches_,t.inversePatches_)):e=_e(t,r,[]),Ke(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hn?e:void 0}function _e(e,t,r){if(ve(t))return t;let n=t[x];if(!n)return ge(t,(i,s)=>dn(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ee(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let i=n.copy_,s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),ge(s,(c,l)=>dn(e,n,i,c,l,r,o)),Ee(e,i,!1),r&&e.patches_&&H("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function dn(e,t,r,n,i,s,o){if(q(i)){let c=s&&t&&t.type_!==3&&!Be(t.assigned_,n)?s.concat(n):void 0,l=_e(e,i,c);if(yn(r,n,l),q(l))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(V(i)&&!ve(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;_e(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ee(e,i)}}function Ee(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&We(t,r)}function br(e,t){let r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:gn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,s=Ze;r&&(i=[n],s=re);let{revoke:o,proxy:c}=Proxy.revocable(i,s);return n.draft_=c,n.revoke_=o,c}var Ze={get(e,t){if(t===x)return e;let r=G(e);if(!Be(r,t))return Or(e,r,t);let n=r[t];return e.finalized_||!V(n)?n:n===$e(e.base_,t)?(Le(e),e.copy_[t]=He(n,e)):n},has(e,t){return t in G(e)},ownKeys(e){return Reflect.ownKeys(G(e))},set(e,t,r){let n=_n(G(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let i=$e(G(e),t),s=i==null?void 0:i[x];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Er(r,i)&&(r!==void 0||Be(e.base_,t)))return!0;Le(e),Ve(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $e(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Le(e),Ve(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){let r=G(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){P(11)},getPrototypeOf(e){return Y(e.base_)},setPrototypeOf(){P(12)}},re={};ge(Ze,(e,t)=>{re[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});re.deleteProperty=function(e,t){return re.set.call(this,e,t,void 0)};re.set=function(e,t,r){return Ze.set.call(this,e[0],t,r,e[0])};function $e(e,t){let r=e[x];return(r?G(r):e)[t]}function Or(e,t,r){var i;let n=_n(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function _n(e,t){if(!(t in e))return;let r=Y(e);for(;r;){let n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Y(r)}}function Ve(e){e.modified_||(e.modified_=!0,e.parent_&&Ve(e.parent_))}function Le(e){e.copy_||(e.copy_=Ue(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){let s=r;r=t;let o=this;return function(l=s,...f){return o.produce(l,u=>r.call(this,u,...f))}}typeof r!="function"&&P(6),n!==void 0&&typeof n!="function"&&P(7);let i;if(V(t)){let s=ln(this),o=He(t,void 0),c=!0;try{i=r(o),c=!1}finally{c?Ke(s):Ge(s)}return fn(s,n),pn(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===hn&&(i=void 0),this.autoFreeze_&&We(i,!0),n){let s=[],o=[];H("Patches").generateReplacementPatches_(t,i,s,o),n(s,o)}return i}else P(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,l=>t(l,...c));let n,i;return[this.produce(t,r,(o,c)=>{n=o,i=c}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){V(e)||P(8),q(e)&&(e=Mr(e));let t=ln(this),r=He(e,void 0);return r[x].isManual_=!0,Ge(t),r}finishDraft(e,t){let r=e&&e[x];(!r||!r.isManual_)&&P(9);let{scope_:n}=r;return fn(n,t),pn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));let n=H("Patches").applyPatches_;return q(e)?n(e,t):this.produce(e,i=>n(i,t))}};function He(e,t){let r=Se(e)?H("MapSet").proxyMap_(e,t):Te(e)?H("MapSet").proxySet_(e,t):br(e,t);return(t?t.scope_:gn()).drafts_.push(r),r}function Mr(e){return q(e)||P(10,e),En(e)}function En(e){if(!V(e)||ve(e))return e;let t=e[x],r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ue(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ue(e,!0);return ge(r,(n,i)=>{yn(r,n,En(i))}),t&&(t.finalized_=!1),r}var M=new xr,C=M.produce,bi=M.produceWithPatches.bind(M),Oi=M.setAutoFreeze.bind(M),xi=M.setUseStrictShallowCopy.bind(M),Mi=M.applyPatches.bind(M),wi=M.createDraft.bind(M),Ai=M.finishDraft.bind(M);var wr={pace:"",focusId:null,paceType:"km",paceDistanceInMeters:A.km,distance:"10",distanceType:"km",time:"",lockType:"distance",inputType:"pace",clearOnNextInput:!1,results:je()};function be(e){let t=(e==null?void 0:e.split(":").map(Number).reverse())||[],[r,n]=t;return(n||0)*60+(r||0)}function Xe(e,t,r){let i=e/t*r,s=Math.floor(i%3600/60),o=Math.round(i%60);return[s,o].map(c=>c<10?"0"+c:c).join(":")}var In=Jt(wr,w(d.calculate,C((e,{whatChanged:t})=>{t==="pace"?e.lockType==="distance"?e.time=te(e.distance,e.distanceType,e.pace,e.paceType):e.lockType==="time"?e.distance=ye(e.pace,e.paceType,e.time,e.distanceType):e.time=te(e.distance,e.distanceType,e.pace,e.paceType):t==="distance"?e.lockType==="pace"?e.time=te(e.distance,e.distanceType,e.pace,e.paceType):e.lockType==="time"?e.pace=ze(e.distance,e.distanceType,e.time,e.paceType):e.time=te(e.distance,e.distanceType,e.pace,e.paceType):t==="time"&&(e.lockType==="pace"?e.distance=ye(e.pace,e.paceType,e.time,e.distanceType):e.lockType==="distance"?e.pace=ze(e.distance,e.distanceType,e.time,e.paceType):e.distance=ye(e.pace,e.paceType,e.time,e.distanceType));let r=be(e.pace);if(r!==0){let n=r/e.paceDistanceInMeters;e.results=e.results.map(i=>{let s=i.distanceInMeters*n,o=Math.floor(s/3600),c=Math.floor(s%3600/60),l=Math.round(s%60);return z(b({},i),{time:[o,c,l].map(f=>f<10?"0"+f:f).join(":")})})}})),w(d.setFocus,C((e,{focusId:t})=>{e.focusId=t,e.clearOnNextInput=!0})),w(d.changeLockType,C((e,{lockType:t})=>{e.lockType=t})),w(d.clearResults,C(e=>{e.results=je()})),w(d.paceTypeChanged,C((e,{paceType:t})=>{switch(t){case"cKm":e.pace=Xe(be(e.pace),e.paceDistanceInMeters,A.km),e.paceDistanceInMeters=A.km,e.paceType="km";break;case"km":e.paceDistanceInMeters=A.km,e.paceType="km";break;case"cMi":e.pace=Xe(be(e.pace),e.paceDistanceInMeters,A.mi),e.paceDistanceInMeters=A.mi,e.paceType="mi";break;case"mi":e.paceDistanceInMeters=A.mi,e.paceType="mi";break;case"c400":e.pace=Xe(be(e.pace),e.paceDistanceInMeters,A.m400),e.paceDistanceInMeters=A.m400,e.paceType="m400";break;case"m400":e.paceDistanceInMeters=A.m400,e.paceType="m400";break}})),w(d.distanceTypeChanged,C((e,{distanceType:t})=>{e.distanceType=t})),w(d.changeInputType,C((e,{inputType:t})=>{e.inputType=t,e.clearOnNextInput=!0})),w(d.inputDistance,C((e,{input:t})=>{let r=e.distance.includes("."),n=t===".",[i,s]=e.distance.split(".");if(e.clearOnNextInput){e.distance=t,e.clearOnNextInput=!1;return}n&&r||(r&&(!s||(s==null?void 0:s.length)<3)&&(e.distance+=t),(!r&&i.length<5||n)&&(e.distance+=t))})),w(d.inputTime,C((e,{input:t})=>{if(t===".")return;if(e.clearOnNextInput){["6","7","8","9"].includes(t)?e.time=`0${t}`:e.time=t,e.clearOnNextInput=!1;return}switch(e.time.replace(/:/g,"").length){case 0:if(["6","7","8","9"].includes(t)){e.time+=`0${t}`;return}e.time+=t;break;case 1:e.time+=t;break;case 2:if(["6","7","8","9"].includes(t)){e.time+=`:0${t}`;return}e.time+=":"+t;break;case 3:e.time+=t;break;case 4:if(["6","7","8","9"].includes(t)){e.time+=`:0${t}`;return}e.time+=":"+t;break;case 5:e.time+=t;break}})),w(d.inputPace,C((e,{input:t})=>{if(t===".")return;if(e.clearOnNextInput){["6","7","8","9"].includes(t)?e.pace=`0${t}:`:e.pace=t+":",e.clearOnNextInput=!1;return}let r=e.pace.replace(/:/g,"");switch(r.length){case 0:if(["6","7","8","9"].includes(t)){e.pace+=`0${t}:`;return}e.pace+=t+":";break;case 1:e.pace+=t;break;case 2:e.pace+=t;break;case 3:let n=r.split("");if(console.log("Number(parts[0] + [parts][1]) >= 10",Number(n[0]+[n][1])>=10,n),Number(n[0]+n[1])>=10){e.pace=n[0]+n[1]+`:${n[2]}${t}`;return}e.pace+=t;break}})),w(d.clearInput,C(e=>{e[e.inputType]=""})));var Je={};Gn(Je,{distanceTypeChangedEffect:()=>kr,inputChangedEffect:()=>Dr,inputDistanceEffect:()=>Pr,inputPaceEffect:()=>Fr,inputTimeEffect:()=>Rr,lockTypeChangedEffect:()=>Ar,paceTypeChangedEffect:()=>Cr});var Ar=B((e=E(U),t=E(Lt))=>e.pipe(K(d.changeLockType),X(({lockType:r})=>{let n="";switch(r){case"distance":n=`Distance is locked
When pace changes, time is calculated
When time changes, pace is calculated
When distance changes, time is calculated`;break;case"time":n=`Time is locked
When distance changes, pace is calculated
When pace changes, distance is calculated
When time changes, distance is calculated`;break;case"pace":n=`Pace is locked
When distance changes, time is calculated
When time changes, distance is calculated
When pace changes, time is calculated`;break}return t.create({message:n,duration:2e3,position:"middle",cssClass:"toast-message"}).then(i=>i.present()),v(d.noop())})),{functional:!0}),Cr=B((e=E(U))=>e.pipe(K(d.paceTypeChanged),$(()=>v(d.calculate({whatChanged:"pace"})))),{functional:!0}),kr=B((e=E(U))=>e.pipe(K(d.distanceTypeChanged),$(()=>v(d.calculate({whatChanged:"distance"})))),{functional:!0}),Dr=B((e=E(U),t=E(J))=>e.pipe(K(d.inputChanged),ue(t.select(Yt)),X(([{input:r},n])=>{switch(n){case"distance":return v(d.inputDistance({input:r}));case"time":return v(d.inputTime({input:r}));case"pace":return v(d.inputPace({input:r}));default:return v(d.noop())}})),{functional:!0}),Pr=B((e=E(U))=>e.pipe(K(d.inputDistance),$(()=>v(d.calculate({whatChanged:"distance"})))),{functional:!0}),Rr=B((e=E(U))=>e.pipe(K(d.inputTime),$(()=>v(d.calculate({whatChanged:"time"})))),{functional:!0}),Fr=B((e=E(U))=>e.pipe(K(d.inputPace),$(()=>v(d.calculate({whatChanged:"pace"})))),{functional:!0});var se="PERFORM_ACTION",Nr="REFRESH",xn="RESET",Mn="ROLLBACK",wn="COMMIT",An="SWEEP",Cn="TOGGLE_ACTION",jr="SET_ACTIONS_ACTIVE",kn="JUMP_TO_STATE",Dn="JUMP_TO_ACTION",ut="IMPORT_STATE",Pn="LOCK_CHANGES",Rn="PAUSE_RECORDING",Q=class{constructor(t,r){if(this.action=t,this.timestamp=r,this.type=se,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ye=class{constructor(){this.type=Nr}},qe=class{constructor(t){this.timestamp=t,this.type=xn}},Qe=class{constructor(t){this.timestamp=t,this.type=Mn}},et=class{constructor(t){this.timestamp=t,this.type=wn}},tt=class{constructor(){this.type=An}},nt=class{constructor(t){this.id=t,this.type=Cn}};var rt=class{constructor(t){this.index=t,this.type=kn}},it=class{constructor(t){this.actionId=t,this.type=Dn}},st=class{constructor(t){this.nextLiftedState=t,this.type=ut}},ot=class{constructor(t){this.status=t,this.type=Pn}},ct=class{constructor(t){this.status=t,this.type=Rn}};var we=new O("@ngrx/store-devtools Options"),Sn=new O("@ngrx/store-devtools Initial Config");function Fn(){return null}var zr="NgRx Store DevTools";function $r(e){let t={maxAge:!1,monitor:Fn,actionSanitizer:void 0,stateSanitizer:void 0,name:zr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof e=="function"?e():e,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||n||t.features;i.import===!0&&(i.import="custom");let s=Object.assign({},t,{features:i},r);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function Tn(e,t){return e.filter(r=>t.indexOf(r)<0)}function Nn(e){let{computedStates:t,currentStateIndex:r}=e;if(r>=t.length){let{state:i}=t[t.length-1];return i}let{state:n}=t[r];return n}function ie(e){return new Q(e,+Date.now())}function Lr(e,t){return Object.keys(t).reduce((r,n)=>{let i=Number(n);return r[i]=jn(e,t[i],i),r},{})}function jn(e,t,r){return z(b({},t),{action:e(t.action,r)})}function Br(e,t){return t.map((r,n)=>({state:zn(e,r.state,n),error:r.error}))}function zn(e,t,r){return e(t,r)}function $n(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Ur(e,t,r,n){let i=[],s={},o=[];return e.stagedActionIds.forEach((c,l)=>{let f=e.actionsById[c];f&&(l&&ft(e.computedStates[l],f,t,r,n)||(s[c]=f,i.push(c),o.push(e.computedStates[l])))}),z(b({},e),{stagedActionIds:i,actionsById:s,computedStates:o})}function ft(e,t,r,n,i){let s=r&&!r(e,t.action),o=n&&!t.action.type.match(n.map(l=>vn(l)).join("|")),c=i&&t.action.type.match(i.map(l=>vn(l)).join("|"));return s||o||c}function vn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ln(e){return{ngZone:e?E(Mt):null,connectInZone:e}}var Ae=(()=>{let t=class t extends pe{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=xt(t)))(s||t)}})(),t.\u0275prov=L({token:t,factory:t.\u0275fac});let e=t;return e})(),Oe={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},at=new O("@ngrx/store-devtools Redux Devtools Extension"),Bn=(()=>{let t=class t{constructor(n,i,s){this.config=i,this.dispatcher=s,this.zoneConfig=Ln(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===se){if(i.isLocked||i.isPaused)return;let s=Nn(i);if($n(this.config)&&ft(s,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?zn(this.config.stateSanitizer,s,i.currentStateIndex):s,c=this.config.actionSanitizer?jn(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(c,o))}else{let s=z(b({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?Lr(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?Br(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,s,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ee(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(s=>n.next(s)),i.unsubscribe}):ht}createActionStreams(){let n=this.createChangesObservable().pipe(Tt()),i=n.pipe(N(u=>u.type===Oe.START)),s=n.pipe(N(u=>u.type===Oe.STOP)),o=n.pipe(N(u=>u.type===Oe.DISPATCH),D(u=>this.unwrapAction(u.payload)),De(u=>u.type===ut?this.dispatcher.pipe(N(a=>a.type===Fe),yt(1e3),gt(1e3),D(()=>u),oe(()=>v(u)),ce(1)):v(u))),l=n.pipe(N(u=>u.type===Oe.ACTION),D(u=>this.unwrapAction(u.payload))).pipe(ae(s)),f=o.pipe(ae(s));this.start$=i.pipe(ae(s)),this.actions$=this.start$.pipe(X(()=>l)),this.liftedActions$=this.start$.pipe(X(()=>f))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){var s,o,c;let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:(s=n.autoPause)!=null?s:!1,trace:(o=n.trace)!=null?o:!1,traceLimit:(c=n.traceLimit)!=null?c:75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};t.\u0275fac=function(i){return new(i||t)(I(at),I(we),I(Ae))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let e=t;return e})(),Me={type:Re},Kr="@ngrx/store-devtools/recompute",Gr={type:Kr};function Un(e,t,r,n,i){if(n)return{state:r,error:"Interrupted by an error up the chain"};let s=r,o;try{s=e(r,t)}catch(c){o=c.toString(),i.handleError(c)}return{state:s,error:o}}function xe(e,t,r,n,i,s,o,c,l){if(t>=e.length&&e.length===s.length)return e;let f=e.slice(0,t),u=s.length-(l?1:0);for(let a=t;a<u;a++){let m=s[a],S=i[m].action,h=f[a-1],p=h?h.state:n,R=h?h.error:void 0,F=o.indexOf(m)>-1?h:Un(r,S,p,R,c);f.push(F)}return l&&f.push(e[e.length-1]),f}function Vr(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:ie(Me)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Hr(e,t,r,n,i={}){return s=>(o,c)=>{let{monitorState:l,actionsById:f,nextActionId:u,stagedActionIds:a,skippedActionIds:m,committedState:S,currentStateIndex:h,computedStates:p,isLocked:R,isPaused:T}=o||t;o||(f=Object.create(f));function F(_){let g=_,j=a.slice(1,g+1);for(let k=0;k<j.length;k++)if(p[k+1].error){g=k,j=a.slice(1,g+1);break}else delete f[j[k]];m=m.filter(k=>j.indexOf(k)===-1),a=[0,...a.slice(g+1)],S=p[g].state,p=p.slice(g),h=h>g?h-g:0}function W(){f={0:ie(Me)},u=1,a=[0],m=[],S=p[h].state,h=0,p=[]}let y=0;switch(c.type){case Pn:{R=c.status,y=1/0;break}case Rn:{T=c.status,T?(a=[...a,u],f[u]=new Q({type:"@ngrx/devtools/pause"},+Date.now()),u++,y=a.length-1,p=p.concat(p[p.length-1]),h===a.length-2&&h++,y=1/0):W();break}case xn:{f={0:ie(Me)},u=1,a=[0],m=[],S=e,h=0,p=[];break}case wn:{W();break}case Mn:{f={0:ie(Me)},u=1,a=[0],m=[],h=0,p=[];break}case Cn:{let{id:_}=c;m.indexOf(_)===-1?m=[_,...m]:m=m.filter(j=>j!==_),y=a.indexOf(_);break}case jr:{let{start:_,end:g,active:j}=c,k=[];for(let Ce=_;Ce<g;Ce++)k.push(Ce);j?m=Tn(m,k):m=[...m,...k],y=a.indexOf(_);break}case kn:{h=c.index,y=1/0;break}case Dn:{let _=a.indexOf(c.actionId);_!==-1&&(h=_),y=1/0;break}case An:{a=Tn(a,m),m=[],h=Math.min(h,a.length-1);break}case se:{if(R)return o||t;if(T||o&&ft(o.computedStates[h],c,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let g=p[p.length-1];p=[...p.slice(0,-1),Un(s,c.action,g.state,g.error,r)],y=1/0;break}i.maxAge&&a.length===i.maxAge&&F(1),h===a.length-1&&h++;let _=u++;f[_]=c,a=[...a,_],y=a.length-1;break}case ut:{({monitorState:l,actionsById:f,nextActionId:u,stagedActionIds:a,skippedActionIds:m,committedState:S,currentStateIndex:h,computedStates:p,isLocked:R,isPaused:T}=c.nextLiftedState);break}case Re:{y=0,i.maxAge&&a.length>i.maxAge&&(p=xe(p,y,s,S,f,a,m,r,T),F(a.length-i.maxAge),y=1/0);break}case Fe:{if(p.filter(g=>g.error).length>0)y=0,i.maxAge&&a.length>i.maxAge&&(p=xe(p,y,s,S,f,a,m,r,T),F(a.length-i.maxAge),y=1/0);else{if(!T&&!R){h===a.length-1&&h++;let g=u++;f[g]=new Q(c,+Date.now()),a=[...a,g],y=a.length-1,p=xe(p,y,s,S,f,a,m,r,T)}p=p.map(g=>z(b({},g),{state:s(g.state,Gr)})),h=a.length-1,i.maxAge&&a.length>i.maxAge&&F(a.length-i.maxAge),y=1/0}break}default:{y=1/0;break}}return p=xe(p,y,s,S,f,a,m,r,T),l=n(l,c),{monitorState:l,actionsById:f,nextActionId:u,stagedActionIds:a,skippedActionIds:m,committedState:S,currentStateIndex:h,computedStates:p,isLocked:R,isPaused:T}}}var bn=(()=>{let t=class t{constructor(n,i,s,o,c,l,f,u){let a=Vr(f,u.monitor),m=Hr(f,a,l,u.monitor,u),S=Z(Z(i.asObservable().pipe(vt(1)),o.actions$).pipe(D(ie)),n,o.liftedActions$).pipe(mt(dt)),h=s.pipe(D(m)),p=Ln(u.connectInZone),R=new pt(1);this.liftedStateSubscription=S.pipe(ue(h),On(p),St(({state:W},[y,_])=>{let g=_(W,y);return y.type!==se&&$n(u)&&(g=Ur(g,u.predicate,u.actionsSafelist,u.actionsBlocklist)),o.notify(y,g),{state:g,action:y}},{state:a,action:null})).subscribe(({state:W,action:y})=>{if(R.next(W),y.type===se){let _=y.action;c.next(_)}}),this.extensionStartSubscription=o.start$.pipe(On(p)).subscribe(()=>{this.refresh()});let T=R.asObservable(),F=T.pipe(D(Nn));Object.defineProperty(F,"state",{value:Bt(F,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=T,this.state=F}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new Q(n,+Date.now()))}refresh(){this.dispatch(new Ye)}reset(){this.dispatch(new qe(+Date.now()))}rollback(){this.dispatch(new Qe(+Date.now()))}commit(){this.dispatch(new et(+Date.now()))}sweep(){this.dispatch(new tt)}toggleAction(n){this.dispatch(new nt(n))}jumpToAction(n){this.dispatch(new it(n))}jumpToState(n){this.dispatch(new rt(n))}importState(n){this.dispatch(new st(n))}lockChanges(n){this.dispatch(new ot(n))}pauseRecording(n){this.dispatch(new ct(n))}};t.\u0275fac=function(i){return new(i||t)(I(Ae),I(pe),I(Ht),I(Bn),I(de),I(le),I(Kt),I(we))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let e=t;return e})();function On({ngZone:e,connectInZone:t}){return r=>t?new ee(n=>r.subscribe({next:i=>e.run(()=>n.next(i)),error:i=>e.run(()=>n.error(i)),complete:()=>e.run(()=>n.complete())})):r}var Wr=new O("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Zr(e,t){return!!e||t.monitor!==Fn}function Xr(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Kn(e={}){return fe([Bn,Ae,bn,{provide:Sn,useValue:e},{provide:Wr,deps:[at,we],useFactory:Zr},{provide:at,useFactory:Xr},{provide:we,deps:[Sn],useFactory:$r},{provide:Zt,deps:[bn],useFactory:Jr},{provide:Wt,useExisting:Ae}])}function Jr(e){return e.state}tn.production&&void 0;Pt(en,{providers:[{provide:Rt,useClass:Nt},$t(),Ft(qt),Xt({calculator:In}),Kn({name:"Stridemate",maxAge:25,logOnly:!Dt(),autoPause:!0,trace:!0,traceLimit:25}),cn(Je)]}).catch(e=>console.error(e));
