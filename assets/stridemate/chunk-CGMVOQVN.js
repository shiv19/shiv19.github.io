import{a as ne,b as oe,c as ae,e as le,f as re}from"./chunk-2CTW5UZE.js";import{m as ce,q as T,r as pe,s as se,t as ue,u as de,v as me,w as _e,x as fe,y as Ce,z as he}from"./chunk-E22SLPII.js";import{$ as d,Ba as z,Fa as G,Ga as H,Ha as A,I as x,Ia as N,Ja as U,Ka as W,L as k,La as q,M as B,Ma as J,Na as Q,Oa as X,Q as h,R as y,Ra as Y,Sa as Z,V as O,Va as ee,W as v,Wa as te,X as r,Ya as ie,_ as g,aa as V,ba as I,ca as L,da as M,ea as o,fa as l,ga as S,ha as P,ia as D,ja as b,ka as m,la as _,ma as p,na as f,oa as F,pa as w,qa as s,ra as u,ua as R,va as j,wa as K,xa as E}from"./chunk-O5P2GLBY.js";import"./chunk-CLKWL77P.js";import"./chunk-ZSWN6ECK.js";import"./chunk-32JKJLI3.js";import"./chunk-JL6QYJ5R.js";import"./chunk-LH2TJ5YN.js";import"./chunk-LOYOVEUZ.js";import"./chunk-4U6PRYVA.js";import"./chunk-ECTO52DW.js";import"./chunk-Z4V4M3ZT.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{d as $}from"./chunk-IWAB2FFJ.js";function ve(t,i){if(t&1){let c=b();o(0,"button",5),m("click",function(){h(c);let a=_(3);return y(a.clearTapped())}),p(1),l()}if(t&2){let c=_().$implicit;r(),F(" ",c," ")}}function ke(t,i){if(t&1){let c=b();o(0,"button",6),m("click",function(){h(c);let a=_().$implicit,n=_(2);return y(n.inputTapped(a))}),p(1),l()}if(t&2){let c=_().$implicit;r(),F(" ",c," ")}}function Ie(t,i){if(t&1&&(o(0,"div",3),g(1,ve,2,1,"button",4)(2,ke,2,1),l()),t&2){let c=i.$implicit;r(),I(1,c==="C"?1:2)}}function Se(t,i){if(t&1&&(o(0,"div",1),g(1,Ie,3,1,"div",2),l()),t&2){let c=i.$implicit;r(),d("ngForOf",c)}}var ge=(()=>{let i=class i{constructor(){this.clear=new v,this.inputChange=new v,this.buttonRows=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","C"]]}clearTapped(){this.clear.emit()}inputTapped(e){this.inputChange.emit(e)}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=k({type:i,selectors:[["app-calculator-input"]],outputs:{clear:"clear",inputChange:"inputChange"},standalone:!0,features:[w],decls:2,vars:1,consts:[["class","text-black",4,"ngFor","ngForOf"],[1,"text-black"],["class","p-1 inline-block",4,"ngFor","ngForOf"],[1,"p-1","inline-block"],[1,"w-10","h-10","bg-red-200","text-red-500","flex","justify-center","items-center","rounded-lg","select-none","cursor-pointer","active:scale-95"],[1,"w-10","h-10","bg-red-200","text-red-500","flex","justify-center","items-center","rounded-lg","select-none","cursor-pointer","active:scale-95",3,"click"],[1,"w-10","h-10","bg-slate-300","flex","justify-center","items-center","rounded-lg","select-none","cursor-pointer","active:scale-95",3,"click"]],template:function(a,n){a&1&&(o(0,"div"),g(1,Se,2,1,"div",0),l()),a&2&&(r(),d("ngForOf",n.buttonRows))},dependencies:[E,R],encapsulation:2});let t=i;return t})();var Te=(()=>{let i=class i{constructor(){this.el=x(O),this.gestureCtrl=x(te),this.lastOnStart=0,this.DOUBLE_CLICK_THRESHOLD=300,this.doubletap=new v}ngAfterViewInit(){this.doubleTapGesture=this.gestureCtrl.create({el:this.el.nativeElement,threshold:0,gestureName:"double-click",onStart:e=>this.onStart(e)}),this.doubleTapGesture.enable()}onStart(e){let a=Date.now();Math.abs(a-this.lastOnStart)<=this.DOUBLE_CLICK_THRESHOLD?(this.doubletap.emit(e),this.lastOnStart=0):this.lastOnStart=a}ngOnDestroy(){var e;(e=this.doubleTapGesture)==null||e.destroy()}};i.\u0275fac=function(a){return new(a||i)},i.\u0275dir=B({type:i,selectors:[["","appDoubleTap",""]],outputs:{doubletap:"doubletap"},standalone:!0});let t=i;return t})();var we=(t,i)=>i.type;function Ee(t,i){if(t&1){let c=b();o(0,"ion-item",22),s(1,"async"),m("dblclick",function(){let a=h(c).$implicit,n=_();return y(n.setFocus(a.id))})("doubletap",function(){let a=h(c).$implicit,n=_();return y(n.setFocus(a.id))}),o(2,"ion-label",23),p(3),l(),o(4,"ion-label"),p(5),l()()}if(t&2){let c=i.$implicit,e=_();V(u(1,4,e.focusId$)!==null?"hidden":""),r(3),f(c.type),r(2),f(c.time)}}function $e(t,i){if(t&1&&(P(0),o(1,"ion-label")(2,"h2",24),p(3),s(4,"async"),l(),o(5,"h1",24),p(6),s(7,"async"),l()(),D()),t&2){let c=i.ngIf,e=_(2);r(3),f(c[u(4,2,e.focusId$)].type),r(3),f(c[u(7,4,e.focusId$)].time)}}function Pe(t,i){if(t&1){let c=b();o(0,"ion-item",22),m("dblclick",function(){h(c);let a=_();return y(a.setFocus(null))})("doubletap",function(){h(c);let a=_();return y(a.setFocus(null))}),g(1,$e,8,6,"ng-container",13),s(2,"async"),l()}if(t&2){let c=_();r(),d("ngIf",u(2,1,c.results$))}}function De(t,i){if(t&1&&(P(0),o(1,"p",11),p(2),l(),D()),t&2){let c=i.ngIf;r(2),f("/"+(c==="m400"?"400m":c))}}var et=(()=>{let i=class i{constructor(){this.store=x(ce),this.actionSheetCtrl=x(ee),this.distance$=this.store.select(ue),this.distanceType$=this.store.select(de),this.time$=this.store.select(me),this.pace$=this.store.select(pe),this.paceType$=this.store.select(se),this.results$=this.store.select(he),this.lockType$=this.store.select(fe),this.inputType$=this.store.select(Ce),this.focusId$=this.store.select(_e),ne({calculator:oe,calculatorOutline:ae,lockOpenOutline:re,lockClosed:le})}setFocus(e){this.store.dispatch(T.setFocus({focusId:e}))}onLockTypeChange(e){this.store.dispatch(T.changeLockType({lockType:e}))}onInputTypeChange(e){this.store.dispatch(T.changeInputType({inputType:e}))}onInputChange(e){this.store.dispatch(T.inputChanged({input:e}))}onClearInput(){this.store.dispatch(T.clearInput())}onChangeDistanceType(){return $(this,null,function*(){let e=yield this.actionSheetCtrl.create({header:"Select Distance Type",buttons:[{text:"Kilometers",data:"km"},{text:"Miles",data:"mi"}]});yield e.present();let a=yield e.onWillDismiss();a.data&&this.store.dispatch(T.distanceTypeChanged({distanceType:a.data}))})}onChangePaceType(){return $(this,null,function*(){let e=yield this.actionSheetCtrl.create({header:"Select Pace Type",buttons:[{text:"Per Kilometer",data:"km"},{text:"Per Mile",data:"mi"},{text:"Per 400m",data:"m400"},{text:"Convert to per Kilometer",data:"cKm"},{text:"Convert to per Mile",data:"cMi"},{text:"Convert to per 400m",data:"c400"}]});yield e.present();let a=yield e.onWillDismiss();a.data&&this.store.dispatch(T.paceTypeChanged({paceType:a.data}))})}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=k({type:i,selectors:[["app-calculator"]],standalone:!0,features:[w],decls:71,vars:48,consts:[[3,"translucent"],["slot","fixed",1,"w-full"],["color","tertiary"],[1,"pt-12"],["appDoubleTap","",3,"class"],["appDoubleTap",""],[1,"rounded-t-md","pt-2","flex","flex-row","justify-around","text-xl","dark:bg-[#313131]"],[1,"flex","flex-col","w-1/3",3,"click"],[1,"text-center","text-xs","font-semibold",3,"color"],[1,"flex","flex-row","justify-center"],[1,"dark:text-white","text-right"],[1,"pl-2"],[1,"flex","flex-col","w-1/3"],[4,"ngIf"],[1,"dark:bg-[#313131]"],[1,"ion-align-items-center"],["size","2"],["size","small","fill","clear",1,"mb-2","block",3,"click"],[3,"name"],["size","4"],["size","small","expand","block",1,"mb-2",3,"click","fill"],[3,"clear","inputChange"],["appDoubleTap","",3,"dblclick","doubletap"],[1,"ion-text-end","ion-margin-end","font-bold"],[1,"text-center"]],template:function(a,n){a&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),p(3,"Calculator"),l()()(),o(4,"ion-content")(5,"div",1)(6,"ion-item",2)(7,"ion-label")(8,"p"),p(9,"Double tap on a result to focus"),l()()()(),o(10,"ion-list",3),L(11,Ee,6,6,"ion-item",4,we),s(13,"async"),l()(),o(14,"ion-footer"),g(15,Pe,3,3,"ion-item",5),s(16,"async"),o(17,"div",6)(18,"div",7),m("click",function(){return n.onChangeDistanceType()}),o(19,"ion-label",8),s(20,"async"),p(21,"Distance"),l(),o(22,"div",9)(23,"p",10),p(24),s(25,"async"),l(),o(26,"p",11),p(27),s(28,"async"),l()()(),o(29,"div",12)(30,"ion-label",8),s(31,"async"),p(32,"Time"),l(),o(33,"div",9)(34,"p",10),p(35),s(36,"async"),l()()(),o(37,"div",7),m("click",function(){return n.onChangePaceType()}),o(38,"ion-label",8),s(39,"async"),p(40,"Pace"),l(),o(41,"div",9)(42,"p",10),p(43),s(44,"async"),l(),g(45,De,3,1,"ng-container",13),s(46,"async"),l()()(),o(47,"ion-grid",14)(48,"ion-row",15)(49,"ion-col",16)(50,"ion-button",17),m("click",function(){return n.onLockTypeChange("distance")}),S(51,"ion-icon",18),s(52,"async"),l(),o(53,"ion-button",17),m("click",function(){return n.onLockTypeChange("time")}),S(54,"ion-icon",18),s(55,"async"),l(),o(56,"ion-button",17),m("click",function(){return n.onLockTypeChange("pace")}),S(57,"ion-icon",18),s(58,"async"),l()(),o(59,"ion-col",19)(60,"ion-button",20),s(61,"async"),m("click",function(){return n.onInputTypeChange("distance")}),p(62," Distance "),l(),o(63,"ion-button",20),s(64,"async"),m("click",function(){return n.onInputTypeChange("time")}),p(65," Time "),l(),o(66,"ion-button",20),s(67,"async"),m("click",function(){return n.onInputTypeChange("pace")}),p(68," Pace "),l()(),o(69,"ion-col")(70,"app-calculator-input",21),m("clear",function(){return n.onClearInput()})("inputChange",function(xe){return n.onInputChange(xe)}),l()()()()()),a&2&&(d("translucent",!0),r(11),M(u(13,16,n.results$)),r(4),I(15,u(16,18,n.focusId$)!==null?15:-1),r(4),d("color",u(20,20,n.inputType$)==="distance"?"primary":""),r(5),f(u(25,22,n.distance$)||"0"),r(3),f(u(28,24,n.distanceType$)),r(3),d("color",u(31,26,n.inputType$)==="time"?"primary":""),r(5),f(u(36,28,n.time$)||"00:00:00"),r(3),d("color",u(39,30,n.inputType$)==="pace"?"primary":""),r(5),f(u(44,32,n.pace$)||"00:00"),r(2),d("ngIf",u(46,34,n.paceType$)),r(6),d("name",u(52,36,n.lockType$)==="distance"?"lock-closed":"lock-open-outline"),r(3),d("name",u(55,38,n.lockType$)==="time"?"lock-closed":"lock-open-outline"),r(3),d("name",u(58,40,n.lockType$)==="pace"?"lock-closed":"lock-open-outline"),r(3),d("fill",u(61,42,n.inputType$)==="distance"?"solid":"outline"),r(3),d("fill",u(64,44,n.inputType$)==="time"?"solid":"outline"),r(3),d("fill",u(67,46,n.inputType$)==="pace"?"solid":"outline"))},dependencies:[ge,E,j,K,z,G,H,A,N,U,W,ie,q,J,Q,X,Y,Z,Te],styles:[".fixed-item[_ngcontent-%COMP%]{position:fixed;top:55px;width:100%;z-index:100}"]});let t=i;return t})();export{et as CalculatorPage};
